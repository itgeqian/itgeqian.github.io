<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Spring的相关面试题 | geqian's Blog🍭</title><meta name="keywords" content="Spring"><meta name="author" content="geqian's Blog🍭"><meta name="copyright" content="geqian's Blog🍭"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="我对Spring的相关理解">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring的相关面试题">
<meta property="og:url" content="https://itgeqian.github.io/posts/81.html">
<meta property="og:site_name" content="geqian&#39;s Blog🍭">
<meta property="og:description" content="我对Spring的相关理解">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/23.jpg">
<meta property="article:published_time" content="2025-10-15T00:19:03.000Z">
<meta property="article:modified_time" content="2025-10-17T03:42:00.000Z">
<meta property="article:author" content="geqian&#39;s Blog🍭">
<meta property="article:tag" content="Spring">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/23.jpg"><link rel="shortcut icon" href="/"><link rel="canonical" href="https://itgeqian.github.io/posts/81"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.js',
      css: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Spring的相关面试题',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-10-17 11:42:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><span id="fps"></span><style id="defineBg"></style><style id="menu_shadow"></style><script src="https://cdn.jsdelivr.net/npm/echarts@6/dist/echarts.min.js"></script><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper@1.0.12/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper@1.0.12/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="geqian's Blog🍭" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/assets/avatar.png" onerror="onerror=null;src='/assets/r1.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">81</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">51</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> 八音盒</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> 影院</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> 八宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> 画廊</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> 动画</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> 网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> 网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> 网站统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> 文章统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> 旧时光</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">geqian's Blog🍭</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> 八音盒</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> 影院</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> 八宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> 画廊</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> 动画</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> 网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> 网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> 网站统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> 文章统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> 旧时光</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="检索站内任何你想要的信息"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> 搜索</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="美化设置-自定义你的风格" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="浅色和深色模式转换" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">Spring的相关面试题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">发表于 </span><time class="post-meta-date-created" datetime="2025-10-15T00:19:03.000Z" title="发表于 2025-10-15 08:19:03">2025-10-15</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-10-17T03:42:00.000Z" title="更新于 2025-10-17 11:42:00">2025-10-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-biaoqian"></use></svg><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">字数总计:</span><span class="word-count">1.1w</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>35分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Spring的相关面试题"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="GQ-Spring">GQ Spring</h1>
<h2 id="什么是循环依赖">什么是循环依赖</h2>
<p>循环依赖指的是<strong>两个或多个模块、类或组件之间相互依赖，从而形成一个闭环</strong>。<br>
简单来说：</p>
<ul>
<li>模块 A 依赖模块 B，</li>
<li>模块 B 又依赖模块 A，</li>
<li>这样就会导致系统在加载或初始化时，无法确定先创建哪个对象。<br>
循环依赖本身不是语法错误，但在依赖注入或对象构建时会导致程序启动失败或逻辑异常。</li>
</ul>
<p>和死锁（Deadlock）的区别</p>
<table>
<thead>
<tr>
<th>对比项</th>
<th>循环依赖</th>
<th>死锁</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>定义</strong></td>
<td>代码层面或模块层面的相互依赖关系</td>
<td>运行时线程相互等待资源，谁也不释放</td>
</tr>
<tr>
<td><strong>发生阶段</strong></td>
<td><strong>编译期或启动期</strong>（比如 Spring Bean 创建阶段）</td>
<td><strong>运行期</strong>（线程执行过程中）</td>
</tr>
<tr>
<td><strong>结果表现</strong></td>
<td>程序无法完成依赖注入或初始化</td>
<td>程序卡死、不再响应但不报错</td>
</tr>
<tr>
<td><strong>解决方式</strong></td>
<td>拆分依赖、使用懒加载（<code>@Lazy</code>）、构造改为 setter 注入</td>
<td>通过加锁顺序、超时锁或死锁检测机制避免</td>
</tr>
</tbody>
</table>
<p>循环依赖是代码设计上的问题，而死锁是运行时线程竞争资源的问题。<br>
前者在启动就会出错，后者是运行中卡死。</p>
<p>小结：<br>
<strong>循环依赖就是两个或多个类互相依赖，导致系统在初始化时无法确定先创建谁，比如 A 依赖 B，B 又依赖 A</strong>它常见于依赖注入框架（比如 Spring）中，可能导致启动失败。</p>
<blockquote>
<p>而死锁是运行时两个线程互相占用资源不释放，导致程序卡死。<br>
简单说：循环依赖是‘启动时互等’，死锁是‘运行时互等’。</p>
</blockquote>
<h2 id="Spring-如何解决循环依赖？">Spring 如何解决循环依赖？</h2>
<p>在 Spring 中，循环依赖指的是：</p>
<blockquote>
<p>Bean A 依赖 Bean B，而 Bean B 又依赖 Bean A。</p>
</blockquote>
<p>如果两者都在实例化阶段互相等待，就会导致创建失败。<br>
Spring 为了解决这个问题，引入了 <strong>三级缓存机制</strong>（Three-Level Cache），来打破这种“互等”局面。</p>
<h3 id="Spring-的三级缓存机制">Spring 的三级缓存机制</h3>
<p>Spring 的三级缓存位于 DefaultSingletonBeanRegistry 中，分别是：</p>
<table>
<thead>
<tr>
<th>缓存层级</th>
<th>名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>一级缓存</strong></td>
<td><code>singletonObjects</code></td>
<td>存放<strong>完全初始化好的 Bean（成品）</strong></td>
</tr>
<tr>
<td><strong>二级缓存</strong></td>
<td><code>earlySingletonObjects</code></td>
<td>存放<strong>实例化但未完成依赖注入的 Bean（半成品）</strong></td>
</tr>
<tr>
<td><strong>三级缓存</strong></td>
<td><code>singletonFactories</code></td>
<td>存放<strong>可以创建早期 Bean 引用的工厂对象</strong>（ObjectFactory）</td>
</tr>
</tbody>
</table>
<img src="https://pic.code-nav.cn/mianshiya/question_picture/1942188251568476161/yDy23o3T_Snipaste_2025-11-08_17-34-04_mianshiya.png" alt="Snipaste_2025-11-08_17-34-04.png" width="100%" />
<p>可以把它想成一个生产车间：</p>
<ul>
<li>一级区是‘成品区’，</li>
<li>二级区是‘半成品区’，</li>
<li>三级区是‘工厂区’，能提前生产半成品出来救急。</li>
</ul>
<h3 id="Spring-解决循环依赖的核心流程（以-A-↔-B-为例）">Spring 解决循环依赖的核心流程（以 A ↔ B 为例）</h3>
<p>① 创建 A<br>
Spring 发现 A 还没创建，于是调用 createBean(A)。</p>
<p>把 “A 正在创建中” 标记进三级缓存（工厂区）。</p>
<p>实例化 A（这时只是空壳，没有注入属性）。</p>
<p>② A 注入属性时发现依赖 B<br>
Spring 去创建 B，同样走 createBean(B) 流程。</p>
<p>实例化 B 时，发现它依赖 A。</p>
<p>此时 Spring 检查缓存：</p>
<p>一级缓存中没有（成品还没完成）；</p>
<p>二级缓存也没有；</p>
<p>但在 三级缓存中找到了 A 的 ObjectFactory。</p>
<p>Spring 调用 getObject() 获取 A 的早期引用，放进二级缓存（半成品区）。<br>
这样 B 可以顺利完成依赖注入。</p>
<p>③ B 初始化完成后放入一级缓存<br>
此时 B 已经是成品。</p>
<p>④ 回到 A<br>
A 继续完成剩余属性注入和初始化。<br>
此时 B 已经是成品，因此注入成功。<br>
最终，A 也放入一级缓存，循环依赖解除。</p>
<p>通俗来说：Spring 会先查成品区，找不到再查半成品区，还找不到才动用工厂区提前生产一个早期对象引用。</p>
<img src="https://pic.code-nav.cn/mianshiya/question_picture/1942188251568476161/VkXNEOm1_image_mianshiya.png" alt="image.png" width="100%" />
<img src="https://pic.code-nav.cn/mianshiya/question_picture/1942188251568476161/cqKbuRa9_Snipaste_2025-11-08_17-38-21_mianshiya.png" alt="Snipaste_2025-11-08_17-38-21.png" width="100%" />
<h3 id="Spring-不能解决的循环依赖">Spring 不能解决的循环依赖</h3>
<p>Spring 的三级缓存机制只对 <strong>单例</strong>（Singleton）<strong>Bean + Setter</strong> 注入 有效。<br>
但以下场景无法解决：</p>
<ul>
<li>构造器注入的循环依赖：
<ul>
<li>因为在实例化阶段就需要依赖对方，此时还没放入缓存。</li>
</ul>
</li>
<li>原型（Prototype）作用域的 Bean：
<ul>
<li>每次创建新实例，不共享缓存，无法打破循环。</li>
</ul>
</li>
</ul>
<p>Setter 注入可以救，但构造器注入救不了。因为你还没造出对象，就已经要拿它用。</p>
<h3 id="小结：">小结：</h3>
<p>Spring 是通过三级缓存来解决大部分循环依赖问题的。<br>
它维护了三个 Map：一级缓存放成品 Bean，二级缓存放半成品 Bean，三级缓存放可以创建早期对象的工厂。</p>
<p><strong>当 Bean A 依赖 Bean B，而 B 又依赖 A 时，Spring 会从三级缓存提前拿出 A 的早期引用注入到 B 中，等 B 创建完后再回头把 A 初始化完成，这样就打破了互相等待。</strong></p>
<p>但注意，这种机制<strong>只适用于单例 + Setter 注入</strong>，构造器注入的循环依赖仍然会报错。</p>
<h2 id="为什么-Spring-循环依赖需要三级缓存，二级不够吗？">为什么 Spring 循环依赖需要三级缓存，二级不够吗？</h2>
<p>Spring 之所以要设计三级缓存，是为了同时解决两类问题：<br>
1️ 循环依赖问题（让 Bean 能互相注入），<br>
2️ AOP 代理的提前暴露问题（保证注入的是代理对象而不是原始对象）。<br>
简单说：</p>
<blockquote>
<p>二级缓存能解决“互相依赖”，<br>
但只有三级缓存才能让“代理对象”参与循环依赖，<br>
保证最终 Bean 是对的那个代理版本。</p>
</blockquote>
<h3 id="为什么二级缓存不够用？">为什么二级缓存不够用？</h3>
<p>如果只有二级缓存（成品 + 半成品），确实可以解决大部分循环依赖问题。<br>
但问题出在 <strong>AOP 代理场景</strong></p>
<p>假如 A 被代理（比如加了事务、切面）：</p>
<ol>
<li>Spring 在创建 A 的时候，A 还没完成初始化；</li>
<li>但此时 B 又依赖 A，于是去缓存里找：</li>
</ol>
<ul>
<li>一级缓存：没有；</li>
<li>二级缓存：A 还没放进去；</li>
</ul>
<ol start="3">
<li>如果直接放原始 A（未代理）进二级缓存，</li>
</ol>
<ul>
<li>那 B 注入的就是原始对象，而不是代理对象 。</li>
</ul>
<p>所以 Spring 必须提前暴露一个能生成代理的“工厂”，<br>
即放进<strong>三级缓存</strong>的 ObjectFactory。<br>
当 B 要 A 时，就能通过这个工厂拿到最终的代理对象 。</p>
<h3 id="三级缓存解决流程">三级缓存解决流程</h3>
<p>1️ 创建 A → 放入“正在创建集合”<br>
2️ 提前将 A 的 ObjectFactory 放入三级缓存<br>
3️ 创建 B，发现依赖 A<br>
4️ 从三级缓存中拿到 getObject() 工厂 → 生成 A 的代理对象 → 放入二级缓存<br>
5️ B 成功注入 A → B 完成 → 放入一级缓存<br>
6️ A 也完成属性注入 → 从二级缓存移到一级缓存<br>
此时两个 Bean 都是正常可用的，且代理生效。</p>
<h3 id="小结">小结</h3>
<p>Spring 用三级缓存来解决循环依赖。<br>
一级放成品 Bean，二级放半成品 Bean，三级放能生成 Bean 的工厂对象。<br>
如果只用二级缓存，在有 AOP 时 B 会拿到未代理的原始对象。<br>
有了三级缓存，Spring 就能在注入时通过工厂提前生成代理对象，保证注入的永远是最终版本的 Bean。</p>
<h2 id="看过源码吗？说下-Spring-由哪些重要的模块组成？">看过源码吗？说下 Spring 由哪些重要的模块组成？</h2>
<p>Spring 整体是一个<strong>分层、模块化设计的框架</strong>，核心是 <strong>IoC</strong> 和 <strong>AOP</strong>。<br>
Spring 整体可以分为五大核心模块：<strong>Core Container、AOP、Data Access、Web、以及扩展模块</strong>。<br>
各模块之间松耦合、可独立使用，也能协同组合，这就是 Spring 灵活和可扩展的关键。</p>
<p>核心模块</p>
<h3 id="1️-Core-Container（核心容器层）">1️. Core Container（核心容器层）</h3>
<p>这是整个 Spring 的基础，主要负责 依赖注入（DI） 和 Bean 管理。</p>
<table>
<thead>
<tr>
<th>模块</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Spring Core</strong></td>
<td>提供 IoC（控制反转）功能，实现 Bean 的创建与依赖注入，是最底层的核心。</td>
</tr>
<tr>
<td><strong>Spring Beans</strong></td>
<td>定义 Bean、依赖关系和生命周期的基础类。</td>
</tr>
<tr>
<td><strong>Spring Context</strong></td>
<td>提供上下文容器（<code>ApplicationContext</code>），支持事件、国际化、资源加载等。</td>
</tr>
<tr>
<td><strong>Spring Expression Language（SpEL）</strong></td>
<td>表达式语言，用于动态注入属性或条件配置。</td>
</tr>
</tbody>
</table>
<p>核心容器相当于 Spring 的‘心脏’，它负责 Bean 的创建、注入和管理，所有功能模块都依赖它。</p>
<h3 id="2️-AOP（面向切面编程）">2️ AOP（面向切面编程）</h3>
<p>用来在不修改业务代码的情况下，实现通用功能复用，比如日志、事务、安全控制等。</p>
<table>
<thead>
<tr>
<th>模块</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Spring AOP</strong></td>
<td>提供切面编程能力，用代理机制动态地在方法前后插入逻辑。</td>
</tr>
</tbody>
</table>
<p>AOP 就像在方法外面包了一层壳，能在执行前后加上日志、安全校验或事务控制。</p>
<h3 id="3️-Data-Access（数据访问层）">3️ Data Access（数据访问层）</h3>
<p>用于整合各种数据访问技术，对外提供一致的事务与数据访问接口。</p>
<table>
<thead>
<tr>
<th>模块</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Spring JDBC</strong></td>
<td>简化原生 JDBC 操作，自动处理连接与资源释放。</td>
</tr>
<tr>
<td><strong>Spring ORM</strong></td>
<td>集成 Hibernate、MyBatis、JPA 等 ORM 框架。</td>
</tr>
<tr>
<td><strong>Spring Transaction</strong></td>
<td>提供声明式事务管理机制。</td>
</tr>
</tbody>
</table>
<p>Spring 对数据层做了统一封装，不管你用 JDBC 还是 MyBatis，事务都能用同一套机制管理。</p>
<h3 id="4️-Web（Web-层）">4️ Web（Web 层）</h3>
<p>提供 Web 开发的基础支持，包括 MVC 架构、REST API、响应式编程等。</p>
<table>
<thead>
<tr>
<th>模块</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Spring Web</strong></td>
<td>封装基础的 Web 功能，如多层架构和上下文集成。</td>
</tr>
<tr>
<td><strong>Spring MVC</strong></td>
<td>实现 MVC 模式，是构建 Web 应用的核心模块。</td>
</tr>
<tr>
<td><strong>Spring WebFlux</strong></td>
<td>基于 Reactor 的响应式编程框架，适合高并发、异步场景。</td>
</tr>
</tbody>
</table>
<p>Web 层就是 Spring 做前后端交互的地方，MVC 适合传统请求，WebFlux 适合异步流式请求。</p>
<h3 id="5️-扩展模块（Advanced-Modules）">5️ 扩展模块（Advanced Modules）</h3>
<table>
<thead>
<tr>
<th>模块</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Spring Batch</strong></td>
<td>支持批量任务处理。</td>
</tr>
<tr>
<td><strong>Spring Integration</strong></td>
<td>实现企业集成模式（EAI），支持消息、服务编排。</td>
</tr>
<tr>
<td><strong>Spring Cloud</strong></td>
<td>面向分布式系统的服务治理和微服务支持。</td>
</tr>
</tbody>
</table>
<p>这些模块是为企业级或分布式场景准备的，比如批处理、消息通信、微服务等。</p>
<h3 id="模块化设计的灵活性">模块化设计的灵活性</h3>
<p>Spring 模块化设计的核心思想是<strong>按需引入、低耦合高复用</strong>。<br>
比如如果我只想用 IoC 功能，可以只引入 spring-core 和 spring-beans，不需要整个 Web 模块，这保证了 Spring 的轻量化和扩展性。</p>
<h3 id="Spring-Boot-与-Spring-Framework-的关系">Spring Boot 与 Spring Framework 的关系</h3>
<p>Spring Boot 是对 Spring Framework 的进一步封装，它帮我们做了<strong>自动配置和模块整合</strong>。开发者不再需要手动写 XML 或 JavaConfig，大量默认配置让 Spring 应用启动更快、更简单。<br>
<strong>Spring 是引擎，Spring Boot 是启动器。</strong></p>
<h3 id="小结-2">小结</h3>
<p>Spring 框架主要由五大模块组成：<br>
核心容器（Core、Beans、Context、SpEL）负责 IoC；<br>
AOP 模块 负责切面编程；<br>
数据访问模块（JDBC、ORM、Transaction）管理数据操作和事务；<br>
Web 模块（MVC、WebFlux）支撑 Web 应用；<br>
还有扩展模块（Batch、Integration、Cloud）提供企业级支持。<br>
模块之间松耦合、按需加载，这也是 Spring 灵活和强大的原因。</p>
<h2 id="什么是-Spring-IOC？">什么是 Spring IOC？</h2>
<p>“Spring IOC，也叫控制反转（Inversion of Control），是 Spring 框架的核心思想之一。</p>
<ul>
<li>
<p>控制反转（IoC）：<br>
原本对象之间的依赖关系是由我们手动控制的，比如在代码里 A a = new A();。<br>
而现在这种“控制权”被反转给 Spring 容器 —— 它负责创建对象，并把需要的依赖注入进去。<br>
所以叫 “控制反转”。</p>
</li>
<li>
<p>依赖注入（DI）：<br>
实现控制反转的具体方式。Spring 会通过 构造器注入 或 Setter 注入<br>
把对象需要的依赖传进去，而不是让对象自己去 new。</p>
</li>
</ul>
<blockquote>
<p>以前我自己去超市买材料做饭（手动 new 对象）；<br>
现在我点了外卖，Spring 容器帮我准备好并送上门（IoC 容器负责创建和注入）。<br>
这就是控制反转的本质。</p>
</blockquote>
<h3 id="Spring-IOC-的核心原理">Spring IOC 的核心原理</h3>
<p>Spring IOC 底层是基于 <strong>工厂模式</strong>（Factory Pattern） 实现的：</p>
<ul>
<li>Spring 容器其实就是一个 <strong>工厂</strong>（<strong>BeanFactory</strong> 或 <strong>ApplicationContext</strong>）。</li>
<li>它在启动时会解析配置文件或注解（如 @Component, @Bean），然后根据配置创建 Bean 实例，并维护它们的依赖关系。</li>
<li>当我们需要一个 Bean 时，直接从容器里拿（getBean()），而不是自己去创建。</li>
</ul>
<blockquote>
<p>Spring 容器其实就像一个智能工厂，我们只需要告诉它要什么对象，<br>
它会自动帮我们创建好、装配好依赖。<br>
所以我们在用的时候不需要关心 new 的过程，这就是 IoC 的思想。</p>
</blockquote>
<h3 id="IOC-带来的好处">IOC 带来的好处</h3>
<p>IOC 的核心价值就是<strong>解耦</strong>，程序员不用再管理对象生命周期，Spring 帮我们管一切。</p>
<h3 id="小结-3">小结</h3>
<p>Spring IOC，也就是控制反转，是通过依赖注入实现的。<br>
它把对象的创建和依赖管理交给 Spring 容器完成，而不是由代码自己去 new。<br>
容器通过工厂模式创建 Bean，并自动注入依赖。<br>
这样让程序更解耦、更灵活、更好维护。<br>
简单来说，IOC 就是 Spring 在帮我们管理对象之间的依赖关系。</p>
<h2 id="Spring-中的-DI-是什么？">Spring 中的 DI 是什么？</h2>
<p>DI是实现控制反转的具体方式。Spring 会通过 构造器注入 或 Setter 注入 把对象需要的依赖传进去，而不是让对象自己去 new。</p>
<h2 id="什么是-Spring-Bean？">什么是 Spring Bean？</h2>
<p>在 Spring 中，<strong>Bean 就是由 Spring 容器创建、管理和装配的对象</strong>。<br>
换句话说，<strong>只要一个 Java 对象被交给 Spring 管理，它就是一个 Bean</strong>。<br>
它的整个生命周期（创建、初始化、依赖注入、销毁）都由容器负责。</p>
<h3 id="Spring-Bean-的生命周期大致可以分为四个阶段">Spring Bean 的生命周期大致可以分为四个阶段</h3>
<table>
<thead>
<tr>
<th>阶段</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1️ 实例化（Instantiation）</strong></td>
<td>容器启动时，根据配置或注解解析，Spring 会先创建 Bean 实例。</td>
</tr>
<tr>
<td><strong>2️ 依赖注入（Dependency Injection）</strong></td>
<td>实例化后，Spring 会通过构造器、setter 方法等把所需依赖注入进去。</td>
</tr>
<tr>
<td><strong>3️ 初始化（Initialization）</strong></td>
<td>如果 Bean 实现了 <code>InitializingBean</code> 接口，或使用了 <code>@PostConstruct</code> 注解，会在依赖注入完成后调用初始化方法。</td>
</tr>
<tr>
<td><strong>4️ 销毁（Destruction）</strong></td>
<td>容器关闭时，如果实现了 <code>DisposableBean</code> 接口，或使用了 <code>@PreDestroy</code> 注解，会调用销毁逻辑。</td>
</tr>
</tbody>
</table>
<p>可以把 Spring Bean 想象成‘由容器养大的对象’，<br>
它从出生（实例化）到长大（初始化）再到被销毁，全程都由容器照顾。</p>
<h3 id="Spring-Bean-的定义方式">Spring Bean 的定义方式</h3>
<table>
<thead>
<tr>
<th>定义方式</th>
<th>示例</th>
<th>特点</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>XML 配置</strong></td>
<td><code>&lt;bean id=&quot;userService&quot; class=&quot;com.xxx.UserService&quot;/&gt;</code></td>
<td>早期常用方式，现在较少用。</td>
</tr>
<tr>
<td><strong>注解方式</strong></td>
<td><code>@Component</code>, <code>@Service</code>, <code>@Repository</code>, <code>@Controller</code></td>
<td>Spring 会自动扫描并注册为 Bean，主流做法。</td>
</tr>
<tr>
<td><strong>Java 配置方式</strong></td>
<td><code>@Configuration</code> + <code>@Bean</code></td>
<td>代码方式定义，类型安全、灵活度高。</td>
</tr>
</tbody>
</table>
<p>以前我们在 XML 里写 <bean>，现在更常用 @Component 或 @Bean 注解来声明 Bean，Spring 会自动识别并注册。</p>
<h3 id="Bean-与-IoC-的关系">Bean 与 IoC 的关系</h3>
<p><strong>Spring Bean 是 IoC 容器管理的最小单位</strong>。<br>
IOC 解决的是谁来创建对象、谁来管理依赖的问题，而 Bean 就是被管理的那些对象。<br>
所以说：<strong>Spring 管容器，容器管 Bean</strong>。</p>
<h3 id="小结-4">小结</h3>
<p>Spring Bean 就是被 Spring 容器创建和管理的对象。<br>
它的生命周期包括实例化、依赖注入、初始化和销毁四个阶段。<br>
我们可以通过注解、XML 或 Java 配置来定义 Bean。<br>
简单说，Spring Bean 是 IOC 容器中最基本的管理单元，容器负责帮我们创建和维护它。</p>
<h2 id="Spring-中的-BeanFactory-是什么？">Spring 中的 BeanFactory 是什么？</h2>
<p>BeanFactory 是 Spring IoC 容器的底层接口，负责 Bean 的创建、依赖注入和生命周期管理。<br>
它采用<strong>延迟加载机制</strong>，只有在第一次请求 Bean 时才会创建对象。<br>
它有多个实现类，比如 DefaultListableBeanFactory。<br>
平时我们更常用的 ApplicationContext 实际上是对 BeanFactory 的增强版，提供了更丰富的功能，比如国际化、事件发布等。</p>
<ul>
<li>简单说，BeanFactory 就是 Spring 管 Bean 的‘工厂’，它负责生产和管理所有的 Bean。</li>
</ul>
<h2 id="Spring-中的-FactoryBean-是什么？">Spring 中的 FactoryBean 是什么？</h2>
<p>FactoryBean 是 Spring 中一种特殊的 Bean，<strong>用来创建其他 Bean 的工厂</strong>。<br>
它允许我们通过实现 getObject() 方法自定义 Bean 的创建逻辑。<br>
当我们通过 getBean() 获取时，<strong>拿到的是它生产的对象，而不是 FactoryBean 自身</strong>。</p>
<ul>
<li>就像你点外卖，你拿到的不是厨师（FactoryBean 本身），<br>
而是厨师做出来的菜（它生成的 Bean 对象）。</li>
</ul>
<p>如果要获取工厂本身，需要在 Bean 名称前加上 &amp;。<br>
它常用于像 AOP、MyBatis 这种需要动态生成代理对象的场景</p>
<h2 id="Spring-中的-ObjectFactory-是什么？">Spring 中的 ObjectFactory 是什么？</h2>
<p>ObjectFactory 是 Spring 提供的一个轻量级工厂接口，用来延迟获取 Bean 实例。<br>
它只有一个 getObject() 方法，调用时才真正从容器中取出 Bean。<br>
这样可以避免容器启动时就创建所有 Bean，提高性能。<br>
Spring 内部也大量使用 ObjectFactory，比如在解决循环依赖时，它就是二级缓存的核心组件之一。</p>
<ul>
<li>简单说，ObjectFactory 是一个懒加载的小工厂，用来在需要时再取出 Bean。</li>
</ul>
<h3 id="一句话串讲记忆">一句话串讲记忆</h3>
<blockquote>
<p>BeanFactory 是“仓库”，<br>
FactoryBean 是“定制工厂”，<br>
ObjectFactory 是“取货券”。</p>
</blockquote>
<p>口语化表达：</p>
<blockquote>
<p>“Spring 的世界里，BeanFactory 管理所有 Bean；</p>
</blockquote>
<h2 id="Spring-中的-ApplicationContext-是什么？">Spring 中的 ApplicationContext 是什么？</h2>
<p>ApplicationContext 是 Spring 容器的高级接口，它<strong>是 BeanFactory 的增强版</strong>。<br>
它不仅能管理 Bean 的创建和生命周期，还提供了事件机制、国际化、资源加载等高级功能。<br>
简单来说，BeanFactory 是基础仓库，而 ApplicationContext 是功能更强的‘智能仓库’。</p>
<blockquote>
<p>BeanFactory 更偏底层，而我们日常开发中几乎都用 ApplicationContext因为它不仅能帮我们管 Bean，还能帮我们做配置、国际化、事件广播，甚至支持 AOP</p>
</blockquote>
<h3 id="ApplicationContext-的五大核心功能">ApplicationContext 的五大核心功能</h3>
<ol>
<li>Bean 管理：负责所有 Bean 的创建、配置和生命周期。</li>
<li>资源加载：可以方便地加载文件、XML、属性文件等。</li>
<li>国际化支持：根据不同语言环境加载不同资源，实现多语言切换。</li>
<li>事件机制：可以发布、监听和处理事件，实现模块间解耦。</li>
<li>AOP 支持：与 Spring AOP 深度集成，支持切面逻辑织入。</li>
</ol>
<blockquote>
<p>ApplicationContext 不只是管 Bean 的，它其实是整个应用的‘上下文环境’，负责帮我们管理配置文件、监听事件、加载资源，甚至支持 AOP</p>
</blockquote>
<h3 id="ApplicationContext常见实现类">ApplicationContext常见实现类</h3>
<table>
<thead>
<tr>
<th>实现类</th>
<th>适用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ClassPathXmlApplicationContext</strong></td>
<td>从类路径加载 XML 配置文件（常见于本地项目）</td>
</tr>
<tr>
<td><strong>FileSystemXmlApplicationContext</strong></td>
<td>从文件系统加载配置文件（适用于外部配置）</td>
</tr>
<tr>
<td><strong>AnnotationConfigApplicationContext</strong></td>
<td>基于注解配置（现代 Spring Boot 常用）</td>
</tr>
<tr>
<td><strong>WebApplicationContext</strong></td>
<td>专为 Web 应用设计的上下文环境</td>
</tr>
</tbody>
</table>
<blockquote>
<p>不同的 ApplicationContext 实现类就像不同版本的容器，<br>
你在 Web 环境、命令行工具或 Spring Boot 项目里都能选到合适的那一个</p>
</blockquote>
<h3 id="和-BeanFactory-的区别">和 BeanFactory 的区别</h3>
<p>BeanFactory 只是‘仓库’，<br>
ApplicationContext 是‘智能仓库 + 管理中心’。</p>
<table>
<thead>
<tr>
<th>对比项</th>
<th>BeanFactory</th>
<th>ApplicationContext</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>加载时机</strong></td>
<td>懒加载（第一次 getBean 才创建）</td>
<td>启动时立即创建所有单例 Bean</td>
</tr>
<tr>
<td><strong>功能性</strong></td>
<td>仅负责 Bean 管理</td>
<td>附带国际化、事件机制、AOP、资源加载等</td>
</tr>
<tr>
<td><strong>使用场景</strong></td>
<td>底层或轻量级容器</td>
<td>实际开发主流选择</td>
</tr>
</tbody>
</table>
<h3 id="小结-5">小结</h3>
<ul>
<li>ApplicationContext 是 Spring 的高级容器接口，是 BeanFactory 的增强版本。</li>
<li>它除了负责 Bean 的创建、配置和生命周期管理外，还提供国际化、资源加载、事件发布、AOP 支持等高级功能。</li>
<li>它是我们在 Spring 应用中最常用的上下文环境接口，比如常见的 AnnotationConfigApplicationContext、ClassPathXmlApplicationContext 等实现类</li>
</ul>
<h2 id="Spring-Bean-一共有几种作用域？">Spring Bean 一共有几种作用域？</h2>
<p>Spring Bean 一共有 6 种作用域（scope），其中前两种是 <strong>常规的</strong>（几乎所有应用都有），后四种是 <strong>Web 环境专</strong>属（Spring Web 应用中才有效）</p>
<ol>
<li>
<p>singleton（单例）<br>
singleton 就是全局只造一个对象，整个容器里共用这一个。</p>
</li>
<li>
<p>prototype（原型 / 多实例）<br>
prototype 就是每次都新建一个，谁来要我就给谁造一个新的。</p>
</li>
<li>
<p>request（请求级）<br>
request 就是一次请求一个新 Bean，请完就销毁。</p>
</li>
<li>
<p>session（会话级）<br>
session 就是每个用户一份 Bean，自己用自己的。</p>
</li>
<li>
<p>application（应用级）<br>
application 就是整个 Web 应用共享一个 Bean。</p>
</li>
<li>
<p>websocket（WebSocket 级）<br>
websocket 就是一个连接一个 Bean，断了就销毁。</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>作用域</th>
<th>是否默认</th>
<th>适用环境</th>
<th>生命周期说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>singleton</strong></td>
<td>✅ 是</td>
<td>所有 Spring 应用</td>
<td>全局单例</td>
</tr>
<tr>
<td><strong>prototype</strong></td>
<td>❌ 否</td>
<td>所有 Spring 应用</td>
<td>每次创建新实例</td>
</tr>
<tr>
<td><strong>request</strong></td>
<td>❌ 否</td>
<td>Spring Web</td>
<td>每个请求一个实例</td>
</tr>
<tr>
<td><strong>session</strong></td>
<td>❌ 否</td>
<td>Spring Web</td>
<td>每个会话一个实例</td>
</tr>
<tr>
<td><strong>application</strong></td>
<td>❌ 否</td>
<td>Spring Web</td>
<td>整个应用一个实例</td>
</tr>
<tr>
<td><strong>websocket</strong></td>
<td>❌ 否</td>
<td>Spring WebSocket</td>
<td>每个 WebSocket 一个实例</td>
</tr>
</tbody>
</table>
<h3 id="小结-6">小结</h3>
<p>Spring 一共有 6 种作用域。最常用的是 singleton（默认单例）和 prototype（多实例）。<br>
另外四种——request、session、application、websocket——是 Web 环境下特有的，分别对应一次请求、一次会话、整个应用和一次 WebSocket 连接的生命周期。</p>
<h2 id="Spring-一共有几种注入方式？">Spring 一共有几种注入方式？</h2>
<p>Spring 一共有 四种常见的依赖注入方式：<br>
<strong>构造器注入、Setter 注入、字段/方法注入、接口回调注入</strong>。<br>
其中官方推荐使用构造器注入（Constructor-based Injection）</p>
<h3 id="构造器注入（Constructor-based-Injection）">构造器注入（Constructor-based Injection）</h3>
<p>原理：通过类的构造函数传入依赖对象。<br>
优点：依赖是“强制性的”，在对象创建时就必须提供；<br>
保证了 Bean 的完整性与不可变性。<br>
实现方式：</p>
<ul>
<li>使用 @Autowired 标注构造器，或</li>
<li>使用 Lombok 的 @RequiredArgsConstructor 简化。</li>
</ul>
<p>Spring 推荐的就是构造器注入，依赖是<strong>强制性</strong>的,对象一创建就完整，不可能少依赖。</p>
<h3 id="Setter-注入（Setter-based-Injection）">Setter 注入（Setter-based Injection）</h3>
<ul>
<li>原理：通过 setter 方法注入依赖对象。</li>
<li>优点：依赖可选，可在运行时动态替换。</li>
<li>适用场景：部分依赖在某些情况下才需要时。</li>
</ul>
<p>Setter 注入适合可选依赖，比如某个组件有就用，没有也能运行。</p>
<h3 id="字段-方法注入（Field-Injection）">字段/方法注入（Field Injection）</h3>
<ul>
<li>原理：直接在字段/方法上用 @Autowired 注解，由 Spring 反射注入依赖。</li>
<li>优点：写法最简单，代码量最少。</li>
<li>缺点：不利于单元测试，不符合依赖倒置原则。</li>
</ul>
<p>字段注入虽然方便，但不推荐用在复杂项目里，测试不好写。</p>
<h3 id="接口回调注入（接口注入-Aware-接口）">接口回调注入（接口注入 / Aware 接口）</h3>
<ul>
<li>原理：实现 Spring 的某些接口（如 BeanFactoryAware、ApplicationContextAware），容器会在初始化时回调注入容器对象。</li>
<li>用途：通常用于框架级开发或工具类，不常用于业务代码。</li>
</ul>
<p>Aware 系列接口属于 Spring 内部机制，开发者一般少用。</p>
<h3 id="小结-7">小结</h3>
<p>Spring 的依赖注入主要有四种方式：构造器注入、Setter 注入、字段/方法注入和接口回调注入。<br>
官方推荐构造器注入，因为它能保证依赖完整、易测试；Setter 适合可选依赖；<br>
字段注入虽然简单，但不建议在正式项目中使用；而接口回调主要用于框架内部。</p>
<h2 id="什么是-AOP？">什么是 AOP？</h2>
<p>AOP（Aspect-Oriented Programming，面向切面编程）是一种编程思想。<br>
<strong>它的目标是把程序中与业务无关但又经常重复出现的逻辑</strong>（比如日志、安全检查、事务管理等），<strong>从业务代码里分离出来，用‘切面（Aspect）’统一管理</strong>。<br>
简单来说，就是把<strong>共性逻辑抽取出来，动态地织入到业务流程</strong>中。</p>
<blockquote>
<p>AOP 就像是在程序运行时‘偷偷加点料’。<br>
不改动原来的业务逻辑，就能在某些方法前后加上日志、事务、校验这些通用操作。</p>
</blockquote>
<h3 id="AOP-的核心思想与组成">AOP 的核心思想与组成</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>切面（Aspect）</strong></td>
<td>切面是一个模块，封装了一组通用功能，比如日志、事务等。</td>
<td><code>@Aspect public class LogAspect &#123; ... &#125;</code></td>
</tr>
<tr>
<td><strong>连接点（Join Point）</strong></td>
<td>程序执行的具体位置，比如方法调用或异常抛出。</td>
<td>方法执行前、执行后等位置</td>
</tr>
<tr>
<td><strong>通知（Advice）</strong></td>
<td>定义在连接点要执行的操作。</td>
<td><code>@Before</code>, <code>@After</code>, <code>@Around</code> 等</td>
</tr>
<tr>
<td><strong>切入点（Pointcut）</strong></td>
<td>定义要拦截哪些方法或类。</td>
<td><code>@Pointcut(&quot;execution(* com.demo.service.*.*(..))&quot;)</code></td>
</tr>
<tr>
<td><strong>织入（Weaving）</strong></td>
<td>把切面逻辑“织入”到目标对象的过程。</td>
<td>通过代理机制在运行时完成织入</td>
</tr>
</tbody>
</table>
<p>AOP 的核心就是：<br>
我先声明我要在哪个地方（Pointcut）加什么逻辑（Advice），<br>
然后由 Spring 帮我在运行时自动把这段逻辑织进去（Weaving）。</p>
<h3 id="AOP-的底层原理">AOP 的底层原理</h3>
<p>AOP 的实现其实就是代理模式的应用。Spring AOP 主要用两种代理机制：</p>
<ul>
<li>JDK 动态代理：基于接口的代理。</li>
<li>CGLIB 代理：基于类继承的代理。</li>
</ul>
<blockquote>
<p>你可以把它理解成 Spring 在运行时帮你‘包了一层壳’，<br>
在你执行目标方法前后，自动执行切面逻辑。</p>
</blockquote>
<h3 id="AOP-常见的应用场景">AOP 常见的应用场景</h3>
<table>
<thead>
<tr>
<th>场景</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>日志记录</strong></td>
<td>在方法执行前后记录日志，避免每个类都手写日志代码。</td>
<td>打印调用方法名、参数等</td>
</tr>
<tr>
<td><strong>事务管理</strong></td>
<td>在方法执行前开启事务，执行后提交或回滚。</td>
<td><code>@Transactional</code></td>
</tr>
<tr>
<td><strong>安全检查</strong></td>
<td>在方法执行前检查权限，未授权则阻止访问。</td>
<td>权限验证逻辑</td>
</tr>
<tr>
<td><strong>性能监控</strong></td>
<td>统计方法执行耗时，方便系统调优。</td>
<td><code>@Around</code> 环绕通知</td>
</tr>
</tbody>
</table>
<p>像日志、事务、安全、性能这些功能，其实都属于‘横切逻辑’，有了 AOP，我们就能一处定义，到处生效。</p>
<h3 id="小结-8">小结</h3>
<ul>
<li>AOP 是一种面向切面编程思想，它把像日志、事务、安全检查这些通用逻辑从业务代码里抽取出来，用‘切面’统一管理。</li>
<li>它通过代理机制，在方法执行前后动态地插入额外逻辑，实现了业务逻辑与系统服务的解耦。</li>
<li>常见的应用场景包括日志记录、事务管理、权限验证和性能监控。</li>
</ul>
<h3 id="你的项目中哪里用到了AOP？">你的项目中哪里用到了AOP？</h3>
<p>在 xxx 这个项目里，我确实把 AOP 用在了两类典型的横切场景。</p>
<ul>
<li>
<p>第一类是“登录校验”的全局拦截。我做了一个自定义注解 <code>@GlobalInterceptor</code>，控制器方法只要打上这个注解并把 <code>checkLogin=true</code>，切面 <code>GlobalOperationAspect</code> 就会在方法执行前先跑一遍登录校验：从请求头里拿 <code>token</code>，到 Redis 里校验用户信息，不通过就直接抛业务异常。这样业务方法完全不用重复写登录判断，后期如果登录策略调整，只改切面一处就能全局生效。</p>
</li>
<li>
<p>第二类是“把用户行为自动转成站内消息”。我定义了 <code>@RecordUserMessage</code> 注解，像收藏、评论、审核这类会触发通知的行为，只要在方法上打注解，<code>UserMessageOperationAspect</code> 会用 <code>@Around</code> 在方法成功返回后读取方法入参（比如 <code>videoId</code>、<code>actionType</code>、<code>replyCommentId</code>、<code>content</code>），归一化成对应的 <code>MessageType</code>，然后调用消息服务落一条站内消息。失败或抛异常的情况不会记消息，保证幂等和一致性。管理端那边也有同名切面，做的事是一致的，只是调用方不同（通过 <code>InteractClient</code> 触发消息）。</p>
</li>
</ul>
<p>这两处 AOP 的好处非常直观：</p>
<ul>
<li>一是把“登录校验”“行为转消息”这种跟业务强相关、但又应该统一收口的共性逻辑，从每个接口里抽出来集中管理，业务代码更干净；</li>
<li>二是灵活性高，新增/调整规则都不需要改散落在各处的控制器；</li>
<li>三是天然适合做“只在成功时记录”的事情，用 <code>@Around</code> 能拿到返回值与异常，更好地保证边界与一致性。</li>
</ul>
<p>为什么用 AOP 而不是过滤器/拦截器：</p>
<ul>
<li>我会强调登录这类是“业务前置规则”，需要在方法级拿到注解、参数等上下文，AOP 在方法颗粒度更合适；</li>
<li>网关 Filter/Servlet Filter/HandlerInterceptor 更偏协议层或路由层，做限流、跨域、鉴权粗粒度拦截很好，但像“成功后落一条站内消息”这种强业务语义，用切面在目标方法周围处理最自然。</li>
</ul>
<p>最后，我也预留了扩展位：以后要做“操作审计”“性能埋点”“权限细粒度校验”，直接再加注解和切面就行，跟现有两套模式完全一致。</p>
<h2 id="能说说-Spring-拦截链的实现吗？">能说说 Spring 拦截链的实现吗？</h2>
<p>Spring 的拦截链本质上是<strong>一系列拦截器按顺序执行</strong>的机制，<br>
主要包括 Filter（过滤器）、HandlerInterceptor（MVC 拦截器） 和 AOP 切面拦截 三种，<br>
它们从外到内一层层包裹，实现请求前后和方法调用前后的统一处理。</p>
<ul>
<li>Filter（过滤器） 是最外层的守门员，拦得最早，一般负责安全验证、跨域这些全局性的事。</li>
<li>MVC 拦截器像一个环环相扣的链条，请求进来先经过 preHandle，再到 Controller，然后按顺序调用 postHandle、afterCompletion。</li>
<li>AOP 拦截器更细粒度，是方法级别的拦截。Spring 会把所有切面按顺序放进一个集合，然后递归调用，就形成了完整的拦截链。</li>
</ul>
<h3 id="小结-9">小结</h3>
<p>Spring 拦截链分三层：Filter、HandlerInterceptor 和 AOP。<br>
Filter 是基于 Servlet 的全局拦截；<br>
HandlerInterceptor 是 MVC 层的请求拦截，控制请求的前后处理；<br>
AOP 是方法级别的动态拦截，通过切面实现。<br>
它们组合起来形成一条完整的请求链，从外到内层层进入，再按反方向返回，<br>
就像一个洋葱模型一样，既灵活又强大。</p>
<h2 id="说下-Spring-Bean-的生命周期？">说下 Spring Bean 的生命周期？</h2>
<h3 id="一句话总结">一句话总结</h3>
<blockquote>
<p>“Spring Bean 从创建到销毁，大致会经历 <strong>实例化 → 属性注入 → 初始化 → 使用 → 销毁</strong> 这五个阶段，</p>
</blockquote>
<hr>
<h3 id="二、详细生命周期阶段">二、详细生命周期阶段</h3>
<h4 id="1️⃣-实例化（Instantiation）">1️⃣ <strong>实例化（Instantiation）</strong></h4>
<ul>
<li>Spring 根据配置文件或注解，创建 Bean 实例对象（相当于执行 <code>new</code>）。</li>
<li>此时 Bean 还没被依赖注入。</li>
</ul>
<blockquote>
<p>“Spring 先把 Bean 给造出来，这时还只是个空壳对象。”</p>
</blockquote>
<hr>
<h4 id="2️⃣-属性注入（Populate-Properties）">2️⃣ <strong>属性注入（Populate Properties）</strong></h4>
<ul>
<li>Spring 通过 setter 方法或反射，把依赖对象注入到 Bean 中。</li>
<li>相当于给这个“空壳对象”装上它需要的组件。</li>
</ul>
<blockquote>
<p>“接下来 Spring 会往 Bean 里面塞依赖，比如注入 Service 或 Dao。”</p>
</blockquote>
<hr>
<h4 id="3️⃣-Aware-接口回调（可选）">3️⃣ <strong>Aware 接口回调（可选）</strong></h4>
<ul>
<li>如果 Bean 实现了类似 <code>BeanNameAware</code>、<code>BeanFactoryAware</code> 等接口，<br>
Spring 会在这里回调这些方法，让 Bean 获取容器信息。</li>
</ul>
<blockquote>
<p>“如果 Bean 想知道自己叫什么、在哪个容器里，这一步 Spring 会告诉它。”</p>
</blockquote>
<hr>
<h4 id="4️⃣-BeanPostProcessor：初始化前（Before-Initialization）">4️⃣ <strong>BeanPostProcessor：初始化前（Before Initialization）</strong></h4>
<ul>
<li>在 Bean 初始化前，会调用所有注册的 <code>BeanPostProcessor</code> 的 <code>postProcessBeforeInitialization()</code> 方法。</li>
<li>常用于在初始化前修改 Bean 的属性或增强功能。</li>
</ul>
<blockquote>
<p>“初始化前，Spring 会让一些后置处理器先动手，比如 AOP 或注解增强。”</p>
</blockquote>
<hr>
<h4 id="5️⃣-初始化（Initialization）">5️⃣ <strong>初始化（Initialization）</strong></h4>
<ul>
<li>Bean 如果实现了 <code>InitializingBean</code> 接口，会执行 <code>afterPropertiesSet()</code> 方法；</li>
<li>或者配置了 <code>init-method</code>，Spring 会调用它。</li>
<li>这一步 Bean 已经准备好，可以开始使用。</li>
</ul>
<blockquote>
<p>“这一步是真正的‘激活’，Spring 会执行 Bean 的初始化逻辑，比如加载缓存、开启任务。”</p>
</blockquote>
<hr>
<h4 id="6️⃣-BeanPostProcessor：初始化后（After-Initialization）">6️⃣ <strong>BeanPostProcessor：初始化后（After Initialization）</strong></h4>
<ul>
<li>调用 <code>postProcessAfterInitialization()</code>，<br>
通常在这里完成 AOP 代理对象的生成。</li>
</ul>
<blockquote>
<p>“初始化完，Spring 再让后置处理器做最后加工，比如创建代理对象。”</p>
</blockquote>
<hr>
<h4 id="7️⃣-Bean-使用阶段（In-Use）">7️⃣ <strong>Bean 使用阶段（In Use）</strong></h4>
<ul>
<li>Bean 被正常使用，可能被别的 Bean 引用，也可能参与业务逻辑。</li>
</ul>
<blockquote>
<p>“到这一步 Bean 就‘上线’了，正式参与业务。”</p>
</blockquote>
<hr>
<h4 id="8️⃣-销毁阶段（Destroy）">8️⃣ <strong>销毁阶段（Destroy）</strong></h4>
<ul>
<li>
<p>当 Spring 容器关闭时：</p>
<ul>
<li>如果 Bean 实现了 <code>DisposableBean</code> 接口，会执行 <code>destroy()</code>；</li>
<li>或者定义了 <code>destroy-method</code>，Spring 会调用该方法。</li>
</ul>
</li>
</ul>
<blockquote>
<p>“最后容器关闭，Spring 会优雅地销毁 Bean，比如释放资源、关闭连接。”</p>
</blockquote>
<hr>
<h3 id="📊-三、完整生命周期流程图（逻辑顺序）">📊 三、完整生命周期流程图（逻辑顺序）</h3>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">实例化 → 属性注入 → Aware接口回调</span><br><span class="line">→ <span class="keyword">BeanPostProcessor（前） </span>→ 初始化（init）</span><br><span class="line">→ <span class="keyword">BeanPostProcessor（后） </span>→ 使用</span><br><span class="line">→ 销毁（destroy）</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="四、小结">四、小结</h3>
<blockquote>
<p>“Spring Bean 的生命周期可以分为五个阶段：实例化、属性注入、初始化、使用、销毁。<br>
初始化前后会执行 BeanPostProcessor，<br>
如果实现了 Aware、InitializingBean、DisposableBean 等接口，也会有对应回调。<br>
整个流程由 Spring 容器全程托管，开发者只需关注初始化和销毁逻辑。”</p>
</blockquote>
<h2 id="说下对-Spring-MVC-的理解？">说下对 Spring MVC 的理解？</h2>
<h3 id="一、一句话总结">一、一句话总结</h3>
<blockquote>
<p>“Spring MVC 是 Spring 框架对经典 MVC 模式的扩展实现，它通过前端控制器 <code>DispatcherServlet</code> 统一接收和分发请求，把传统的 Servlet + JSP 模式彻底解耦，让 Web 开发更清晰、更高效。”</p>
</blockquote>
<hr>
<h3 id="二、核心理解">二、核心理解</h3>
<h4 id="1️-本质是什么">1️ 本质是什么</h4>
<p>Spring MVC 就是一个 <strong>基于 MVC 模式的 Web 框架</strong>，<br>
MVC 分为：</p>
<ul>
<li><strong>Model（模型层）</strong>：负责业务逻辑和数据处理</li>
<li><strong>View（视图层）</strong>：负责页面展示</li>
<li><strong>Controller（控制层）</strong>：负责接收请求、调用业务、返回结果</li>
</ul>
<p>SpringMVC 让这三层之间职责清晰、解耦合。</p>
<blockquote>
<p>“Spring MVC 就是帮你把 Controller、业务逻辑、视图展示这几部分分开管理的 Web 框架。”</p>
</blockquote>
<hr>
<h4 id="2️-Spring-MVC-的核心组件">2️ Spring MVC 的核心组件</h4>
<p>Spring MVC 的核心是 <strong><code>DispatcherServlet</code></strong>（前端控制器）。<br>
它就像整个 Web 请求的“总调度员”，负责：</p>
<ul>
<li>接收 HTTP 请求</li>
<li>调用合适的 Controller</li>
<li>处理业务、封装数据</li>
<li>再把结果交给 View 层渲染返回</li>
</ul>
<blockquote>
<p>“<code>DispatcherServlet</code> 就像快递分拣中心，所有请求先送到它手上，再由它分发到对应的 Controller。”</p>
</blockquote>
<hr>
<h4 id="3️-相比传统-MVC-的改进">3️ 相比传统 MVC 的改进</h4>
<p>传统 Servlet + JSP 模式要自己写大量 Servlet、手动解析参数，代码冗余。<br>
Spring MVC 把这些工作都交给框架自动处理，比如：</p>
<ul>
<li>请求映射（<code>@RequestMapping</code>）</li>
<li>参数绑定</li>
<li>异常处理</li>
<li>视图解析</li>
</ul>
<p>极大简化了开发工作。</p>
<blockquote>
<p>“以前写 Web 要自己写一堆 Servlet，现在有了 Spring MVC，只要写 Controller 方法，框架帮你搞定剩下的。”</p>
</blockquote>
<hr>
<h4 id="4️-Spring-MVC-中的分层思想">4️ Spring MVC 中的分层思想</h4>
<p>虽然传统 MVC 是三层（Model、View、Controller），<br>
但在 Spring 体系中，Model 层又被进一步细分：</p>
<ul>
<li><strong>Service 层</strong>：负责业务逻辑</li>
<li><strong>Repository 层</strong>：负责数据库访问</li>
<li><strong>Controller 层</strong>：负责 Web 层请求</li>
</ul>
<p>这种分层更贴合实际项目架构，也让职责更清晰。</p>
<blockquote>
<p>“Spring 把 MVC 又细化了，Model 层里再分业务层（Service）和数据层（Repository），真正做到清晰分工。”</p>
</blockquote>
<hr>
<h3 id="三、面试回答">三、面试回答</h3>
<blockquote>
<p>“Spring MVC 是 Spring 框架基于经典 MVC 模式实现的 Web 开发框架。<br>
它通过前端控制器 DispatcherServlet 统一接收和分发请求，把传统 Servlet+JSP 模式中繁琐的请求处理、参数绑定、视图解析都交给框架完成。<br>
在 Spring 体系中，MVC 被进一步细化成 Controller、Service 和 Repository 三层，职责更清晰、开发更高效。”</p>
</blockquote>
<h2 id="Spring-MVC-具体的工作原理？">Spring MVC 具体的工作原理？</h2>
<h3 id="简要流程">简要流程</h3>
<img src="https://pic.code-nav.cn/mianshiya/question_picture/1942188251568476161/iXHwgmUc_image-1532-1024x698_mianshiya.png" alt="image-1532-1024x698.png" width="100%" />
<p>1.“所有请求先到 DispatcherServlet（前端控制器），它就像一个总调度员，统一安排后续处理。<br>
2.DispatcherServlet 会问 HandlerMapping：这次请求该哪个 Controller 来管？<br>
3.找到对应的处理器（Handler，也就是 Controller 方法）后,Spring 会生成一个 HandlerExecutionChain（执行链）<br>
4.根据执行链会得到一个适配器HandlerAdapter（处理器适配器）,什么样的请求处理得到什么样的适配器<br>
5.在执行 目标方法 之前，会先经过拦截器链的前置流程 然后执行目标方法，执行完目标方法之后再执行拦截器的后置。<br>
6.执行完会返回目标方法的返回结果<br>
7.</p>
<ul>
<li>如果是页面跳转（比如返回 ModelAndView），就交给 ViewResolver（视图解析器）（8），得到视图进行页面渲染（9）</li>
<li>如果是前后端分离接口（带 @ResponseBody），就交给 HttpMessageConverter（消息转换器），把对象转成 JSON 返回（8）。</li>
</ul>
<p>10,11：如果执行过程中抛异常，会交给HandlerExceptionResolver 来捕获处理，<br>
比如跳到错误页或者返回统一的异常 JSON。</p>
<h3 id="小结：-2">小结：</h3>
<p>浏览器一进来，请求发过来，由 DispatcherServlet 处理，它会去 HandlerMapping 里边，根据每一个请求路径的这个 map 去找这个请求由谁处理，找到由谁处理以后会返回执行链，根据执行链会得到一个适配器，什么样的请求处理得到什么样的适配器，适配器就是大型反射工具，适配器在执行目标方法之前，其实会有一个拦截器的流程（前置）然后再执行目标方法，目标方法执行完后再执行拦截器的后置，执行完这个流程后得到目标方法的返回结果，如果你是页面跳转就会有 ModelAndView 这一套，这一套就交给视图解析器，得到视图进行页面渲染。如果是前后端分离交给消息转换器，消息转换器把这个 JSON 写出去。如果在这期间出现任何异常，异常解析器就会捕获处理期间的所有异常，得到错误的异常内容，再返回</p>
<img src="https://pic.code-nav.cn/mianshiya/question_picture/1942188251568476161/pzMru1u5_image_mianshiya.png" alt="image.png" width="100%" />
<h3 id="完整流程">完整流程</h3>
<img src="https://pic.code-nav.cn/mianshiya/question_picture/1942188251568476161/QPDzU9cQ_image-1534-683x1024_mianshiya.png" alt="image-1534-683x1024.png" width="100%" />
<p>DispatcherServlet 进来先是文件上传解析器，判定是不是文件上传请求，在这里做处理，然后再获取处理器，从 HandlerMapping 里边挨个找映射，如果找到了就会拿到目标方法的执行链，找不到响应 404，最终把找到还是找不到封装到 mappedHandler，如果它是 Null 就代表没找到，即 404，找到了就再找到它的适配器，适配器最终处理目标方法，处理目标方法之前它还会判断是否有请求缓存，如果请求缓存就直接结束，如果请求不缓存就接着往下走，看拦截器是不是 preHandle，但凡有一个返回 false，代表拦截器炸了，炸了之后从中断位置执行 afterCompletion 然后结束，如果全部返回 true，就往下走，执行目标方法，目标方法里边参数处理会有参数解析器，返回值处理会有返回值解析器，这两个目标方法执行完如果目标方法执行完出现了异常咋办，有异常会把异常封装起来，没异常逆序执行拦截器 postHandler。无论有无异常最终都会执行最终处理 processDispatchResult，有异常是封装异常，没异常执行 postHandler，最后都会来到 processDispatchResult，最终处理的话有异常处理异常，有页面渲染页面，在以上所有步骤中，但凡有异常，拦截器逆序执行 afterCompletion</p>
<h2 id="Spring-事务有几个隔离级别？">Spring 事务有几个隔离级别？</h2>
<p>Spring 提供了五种事务隔离级别：</p>
<p>DEFAULT（默认）：使用底层数据库的默认隔离级别。如果数据库没有特定的设置，通常默认为 READ_COMMITTED。<br>
READ_UNCOMMITTED（读未提交）：最低的隔离级别，允许事务读取尚未提交的数据，可能会导致脏读、不可重复读和幻读。<br>
READ_COMMITTED（读已提交）：仅允许读取已经提交的数据，避免了脏读，但可能会出现不可重复读和幻读问题。<br>
REPEATABLE_READ（可重复读）：确保在同一个事务内的多次读取结果一致，避免脏读和不可重复读，但可能会有幻读问题。<br>
SERIALIZABLE（可串行化）：最高的隔离级别，通过强制事务按顺序执行，完全避免脏读、不可重复读和幻读，代价是性能显著下降。</p>
<p>spring 事务隔离级别 和 数据库事务隔离级别不一致时以 spring中设定的为准，数据库connection链接可以设置数据库隔离级别</p>
<h2 id="Spring-有哪几种事务传播行为">Spring 有哪几种事务传播行为?</h2>
<p>Spring的事务传播机制用于控制事务方法在相互调用时如何共享事务或创建新的事务。在复杂的业务逻辑中，<strong>事务传播机制能够确保事务的一致性和完整性，避免出现数据丢失或重复提交等问题</strong>。</p>
<p>Spring 提供了7种事务传播行为，默认的传播方式是 <strong>REQUIRED</strong>：</p>
<ol>
<li><strong>REQUIRED（默认）</strong>：如果当前存在事务，方法就在该事务中执行；如果没有事务，则创建新事务。</li>
<li><strong>REQUIRES_NEW</strong>：每次执行都会开启新事务，若已有事务则挂起当前事务，独立执行。</li>
<li><strong>SUPPORTS</strong>：如果有事务，方法加入该事务；如果没有事务，方法就不在事务中执行。</li>
<li><strong>NOT_SUPPORTED</strong>：如果当前存在事务，则暂停事务，若没有事务，则方法在没有事务的环境中执行。</li>
<li><strong>MANDATORY</strong>：强制当前有事务，若没有事务则会抛出异常。</li>
<li><strong>NEVER</strong>：如果当前存在事务，则抛出异常；如果没有事务，则执行。</li>
<li><strong>NESTED</strong>：如果当前有事务，则创建嵌套事务，嵌套事务回滚时不影响父事务，反之，父事务回滚时会影响嵌套事务。</li>
</ol>
<h3 id="使用场景：">使用场景：</h3>
<ul>
<li><strong>REQUIRED</strong>：常用在方法需要共享事务时，确保多个方法在同一事务中执行。</li>
<li><strong>REQUIRES_NEW</strong>：当你希望某个方法执行时不受外部事务影响时使用。</li>
<li><strong>SUPPORTS</strong>、<strong>NOT_SUPPORTED</strong>、<strong>MANDATORY</strong>、<strong>NEVER</strong>：适用于特定业务逻辑需要控制事务行为的情况。</li>
<li><strong>NESTED</strong>：用于复杂的业务逻辑中，特别是当一个方法的失败不应该影响外部事务时，使用嵌套事务来实现更细粒度的回滚控制。</li>
</ul>
<h3 id="示例：">示例：</h3>
<p>假设有两个方法A和B，方法A执行数据库更新操作，方法B在A之后被调用。如果发生异常，需要确保两个方法的操作一起回滚。你可以在这两个方法上都使用 <strong>REQUIRED</strong> 传播行为，确保它们在同一事务中执行。如果方法A或B中的任一方法失败，整个事务都会回滚。</p>
<h2 id="Spring-IOC-容器初始化过程？">Spring IOC 容器初始化过程？</h2>
<p>Spring 容器启动其实就是在做一件事：创建并管理 Bean 的生命周期。整个过程可以简单分为 12 步</p>
<h3 id="第一阶段：准备和工厂创建">第一阶段：准备和工厂创建</h3>
<ol>
<li>prepareRefresh() —— 做准备，比如环境变量检查。</li>
<li>obtainFreshBeanFactory() —— 创建一个新的 BeanFactory。</li>
<li>prepareBeanFactory() —— 给 BeanFactory 加一些基础组件。</li>
<li>postProcessBeanFactory() —— 让子类可以进一步定制 BeanFactory。</li>
</ol>
<h3 id="第二阶段：处理和注册-Bean-定义">第二阶段：处理和注册 Bean 定义</h3>
<ol start="5">
<li>invokeBeanFactoryPostProcessors() —— 执行 Bean 工厂的后置处理器，比如修改 Bean 定义。</li>
<li>registerBeanPostProcessors() —— 注册 Bean 的后置处理器，负责 Bean 创建前后的增强逻辑（比如 AOP）。</li>
</ol>
<h3 id="第三阶段：国际化、事件与监听器">第三阶段：国际化、事件与监听器</h3>
<ol start="7">
<li>initMessageSource() —— 初始化国际化组件。</li>
<li>initApplicationEventMulticaster() —— 初始化事件广播器。</li>
<li>onRefresh() —— 留给子类扩展，比如 Web 容器会在这步创建 Web 环境。</li>
<li>registerListeners() —— 注册事件监听器。</li>
</ol>
<h3 id="第四阶段：Bean-创建与刷新完成">第四阶段：Bean 创建与刷新完成</h3>
<ol start="11">
<li>finishBeanFactoryInitialization() —— 实例化所有单例 Bean，调用 getBean()。</li>
<li>finishRefresh() —— 发布事件，标志容器启动完成。</li>
</ol>
<img src="https://pic.code-nav.cn/mianshiya/question_picture/1942188251568476161/JiNawjn2_6mvwnwdo10_mianshiya.png" alt="Spring - 源码分析ioc启动12大步.png" width="100%" />
<img src="https://pic.code-nav.cn/mianshiya/question_picture/1942188251568476161/kDUwxukK_Snipaste_2025-11-10_13-18-56_mianshiya.png" alt="Snipaste_2025-11-10_13-18-56.png" width="100%" />
<h2 id="Bean和-Component有什么区别？">@Bean和@Component有什么区别？</h2>
<ul>
<li>@Bean<strong>作用在方法上</strong>，在configuration类中；</li>
<li>@Component<strong>作用在类上</strong>，作用于自动扫描</li>
</ul>
<h2 id="Component、-Controller、-Repository和-Service-的区别？">@Component、@Controller、@Repository和@Service 的区别？</h2>
<p>本质上没区别，他们都是@Component的衍生注解，<strong>名字不同是为了区分不同业务场景</strong>。</p>
<ul>
<li>@Component：通用注解，用于将任何类标记为 Spring Bean。</li>
<li>@Controller：特定于 Spring MVC，<strong>处理 Web 层请求</strong>。</li>
<li>@Service：特定于业务逻辑层，用于<strong>处理服务逻辑</strong>。</li>
<li>@Repository：特定于持久层，通常用于<strong>数据访问对象</strong>（DAO）。</li>
</ul>
<h2 id="Spring中的-Primary注解的作用是什么？">Spring中的@Primary注解的作用是什么？</h2>
<p>@Primary 注解的作用是:在多个候选Bean存在时,标记一个Bean为默认Bean,Spring 会优先选择它进行注入。</p>
<h2 id="Spring中的-Value注解的作用是什么？">Spring中的@Value注解的作用是什么？</h2>
<p>@value的主要作用是用于属性注入<br>
1: 为当前注解的字段 设定默认值<br>
2: 获取配置文件的配置<br>
3、将系统变量和环境变量中的值注入到bean中</p>
<h2 id="Spring-中的-Profile-注解的作用是什么？">Spring 中的 @Profile 注解的作用是什么？</h2>
<p>@Profile 用于定义一组 Bean 的配置文件所属的环境，比如 dev,prod</p>
<h2 id="Spring-中的-RequestBody-和-ResponseBody-注解的作用是什么？">Spring 中的 @RequestBody 和 @ResponseBody 注解的作用是什么？</h2>
<p>@RequestBody是接受Http的请求，<strong>将前端JSON对象转化为Java对象</strong><br>
@ResponseBody是将<strong>Java对象转化为前端的JSON格式，返回给前端</strong></p>
<h2 id="Spring-中的-PathVariable-注解的作用是什么？">Spring 中的 @PathVariable 注解的作用是什么？</h2>
<p>@PathVariable：获取URL路径中的参数，如 /users/123。<br>
@RequestParam：获取URL地址栏中的参数 ，通常用于处理表单数据或查询参数,如 /users?id=123。</p>
<h2 id="Spring-MVC-中如何处理异常？">Spring MVC 中如何处理异常？</h2>
<p>Spring MVC 主要有两种核心异常处理机制：</p>
<ol>
<li>
<p>局部异常处理（@ExceptionHandler）<br>
在某个控制器里，用 @ExceptionHandler 注解定义方法来捕获特定异常。<br>
它只作用在当前 Controller，可以返回自定义错误信息或 JSON 响应。</p>
</li>
<li>
<p>全局异常处理（@ControllerAdvice + @ExceptionHandler）<br>
如果想统一处理所有 Controller 的异常，可以定义一个带 @ControllerAdvice 的类，在里面写带 @ExceptionHandler 的方法。<br>
这样就不用在每个控制器重复写异常处理逻辑。</p>
</li>
</ol>
<p>3.自定义异常<br>
一般我们还会结合四步最佳实践：</p>
<ol>
<li>定义异常枚举类（统一异常码和提示信息）</li>
<li>定义自定义异常类（继承 RuntimeException）接收枚举参数，记录异常码</li>
<li>业务中按需抛出自定义异常</li>
<li>统一用全局异常处理器捕获并返回标准格式的错误响应</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>Spring的相关面试题</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://itgeqian.github.io/posts/81.html">https://itgeqian.github.io/posts/81.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>geqian's Blog🍭</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2025-10-15</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2025-10-17</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Spring/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;top:2px;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg></div>Spring</a></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">投喂作者</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://java-geqian.oss-cn-beijing.aliyuncs.com/%E5%BE%AE%E4%BF%A1PAY.jpg" target="_blank"><img class="post-qr-code-img" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/%E5%BE%AE%E4%BF%A1PAY.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://java-geqian.oss-cn-beijing.aliyuncs.com/%E6%94%AF%E4%BB%98%E5%AE%9DPAY.jpg" target="_blank"><img class="post-qr-code-img" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/%E6%94%AF%E4%BB%98%E5%AE%9DPAY.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/70.html"><img class="prev-cover" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/12.jpg" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">场景题汇总</div></div></a></div><div class="next-post pull-right"><a href="/posts/65.html"><img class="next-cover" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/%E8%89%BE%E8%96%87%E5%B8%8C%E5%B0%94.jpg" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">7分钟彻底搞懂Java各种锁</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/45.html" title="SSM-Spring篇"><img class="cover" src="https://u7imgblog.oss-cn-hangzhou.aliyuncs.com/blogbackground/wallhaven-o59q2m.webp" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2025-08-28</div><div class="title">SSM-Spring篇</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#GQ-Spring"><span class="toc-text">GQ Spring</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96"><span class="toc-text">什么是循环依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%EF%BC%9F"><span class="toc-text">Spring 如何解决循环依赖？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-%E7%9A%84%E4%B8%89%E7%BA%A7%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6"><span class="toc-text">Spring 的三级缓存机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-%E8%A7%A3%E5%86%B3%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%E7%9A%84%E6%A0%B8%E5%BF%83%E6%B5%81%E7%A8%8B%EF%BC%88%E4%BB%A5-A-%E2%86%94-B-%E4%B8%BA%E4%BE%8B%EF%BC%89"><span class="toc-text">Spring 解决循环依赖的核心流程（以 A ↔ B 为例）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-%E4%B8%8D%E8%83%BD%E8%A7%A3%E5%86%B3%E7%9A%84%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96"><span class="toc-text">Spring 不能解决的循环依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93%EF%BC%9A"><span class="toc-text">小结：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88-Spring-%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%E9%9C%80%E8%A6%81%E4%B8%89%E7%BA%A7%E7%BC%93%E5%AD%98%EF%BC%8C%E4%BA%8C%E7%BA%A7%E4%B8%8D%E5%A4%9F%E5%90%97%EF%BC%9F"><span class="toc-text">为什么 Spring 循环依赖需要三级缓存，二级不够吗？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98%E4%B8%8D%E5%A4%9F%E7%94%A8%EF%BC%9F"><span class="toc-text">为什么二级缓存不够用？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%BA%A7%E7%BC%93%E5%AD%98%E8%A7%A3%E5%86%B3%E6%B5%81%E7%A8%8B"><span class="toc-text">三级缓存解决流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9C%8B%E8%BF%87%E6%BA%90%E7%A0%81%E5%90%97%EF%BC%9F%E8%AF%B4%E4%B8%8B-Spring-%E7%94%B1%E5%93%AA%E4%BA%9B%E9%87%8D%E8%A6%81%E7%9A%84%E6%A8%A1%E5%9D%97%E7%BB%84%E6%88%90%EF%BC%9F"><span class="toc-text">看过源码吗？说下 Spring 由哪些重要的模块组成？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%B8%8F-Core-Container%EF%BC%88%E6%A0%B8%E5%BF%83%E5%AE%B9%E5%99%A8%E5%B1%82%EF%BC%89"><span class="toc-text">1️. Core Container（核心容器层）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%B8%8F-AOP%EF%BC%88%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B%EF%BC%89"><span class="toc-text">2️ AOP（面向切面编程）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%B8%8F-Data-Access%EF%BC%88%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E5%B1%82%EF%BC%89"><span class="toc-text">3️ Data Access（数据访问层）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%B8%8F-Web%EF%BC%88Web-%E5%B1%82%EF%BC%89"><span class="toc-text">4️ Web（Web 层）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%EF%B8%8F-%E6%89%A9%E5%B1%95%E6%A8%A1%E5%9D%97%EF%BC%88Advanced-Modules%EF%BC%89"><span class="toc-text">5️ 扩展模块（Advanced Modules）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96%E8%AE%BE%E8%AE%A1%E7%9A%84%E7%81%B5%E6%B4%BB%E6%80%A7"><span class="toc-text">模块化设计的灵活性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Boot-%E4%B8%8E-Spring-Framework-%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">Spring Boot 与 Spring Framework 的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-2"><span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Spring-IOC%EF%BC%9F"><span class="toc-text">什么是 Spring IOC？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-IOC-%E7%9A%84%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86"><span class="toc-text">Spring IOC 的核心原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IOC-%E5%B8%A6%E6%9D%A5%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="toc-text">IOC 带来的好处</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-3"><span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E4%B8%AD%E7%9A%84-DI-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">Spring 中的 DI 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Spring-Bean%EF%BC%9F"><span class="toc-text">什么是 Spring Bean？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Bean-%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%A4%A7%E8%87%B4%E5%8F%AF%E4%BB%A5%E5%88%86%E4%B8%BA%E5%9B%9B%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-text">Spring Bean 的生命周期大致可以分为四个阶段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Bean-%E7%9A%84%E5%AE%9A%E4%B9%89%E6%96%B9%E5%BC%8F"><span class="toc-text">Spring Bean 的定义方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bean-%E4%B8%8E-IoC-%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">Bean 与 IoC 的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-4"><span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E4%B8%AD%E7%9A%84-BeanFactory-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">Spring 中的 BeanFactory 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E4%B8%AD%E7%9A%84-FactoryBean-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">Spring 中的 FactoryBean 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E4%B8%AD%E7%9A%84-ObjectFactory-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">Spring 中的 ObjectFactory 是什么？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E5%8F%A5%E8%AF%9D%E4%B8%B2%E8%AE%B2%E8%AE%B0%E5%BF%86"><span class="toc-text">一句话串讲记忆</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E4%B8%AD%E7%9A%84-ApplicationContext-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">Spring 中的 ApplicationContext 是什么？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ApplicationContext-%E7%9A%84%E4%BA%94%E5%A4%A7%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD"><span class="toc-text">ApplicationContext 的五大核心功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ApplicationContext%E5%B8%B8%E8%A7%81%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="toc-text">ApplicationContext常见实现类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%92%8C-BeanFactory-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">和 BeanFactory 的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-5"><span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-Bean-%E4%B8%80%E5%85%B1%E6%9C%89%E5%87%A0%E7%A7%8D%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%9F"><span class="toc-text">Spring Bean 一共有几种作用域？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-6"><span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E4%B8%80%E5%85%B1%E6%9C%89%E5%87%A0%E7%A7%8D%E6%B3%A8%E5%85%A5%E6%96%B9%E5%BC%8F%EF%BC%9F"><span class="toc-text">Spring 一共有几种注入方式？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5%EF%BC%88Constructor-based-Injection%EF%BC%89"><span class="toc-text">构造器注入（Constructor-based Injection）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Setter-%E6%B3%A8%E5%85%A5%EF%BC%88Setter-based-Injection%EF%BC%89"><span class="toc-text">Setter 注入（Setter-based Injection）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E6%AE%B5-%E6%96%B9%E6%B3%95%E6%B3%A8%E5%85%A5%EF%BC%88Field-Injection%EF%BC%89"><span class="toc-text">字段&#x2F;方法注入（Field Injection）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%9B%9E%E8%B0%83%E6%B3%A8%E5%85%A5%EF%BC%88%E6%8E%A5%E5%8F%A3%E6%B3%A8%E5%85%A5-Aware-%E6%8E%A5%E5%8F%A3%EF%BC%89"><span class="toc-text">接口回调注入（接口注入 &#x2F; Aware 接口）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-7"><span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-AOP%EF%BC%9F"><span class="toc-text">什么是 AOP？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AOP-%E7%9A%84%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3%E4%B8%8E%E7%BB%84%E6%88%90"><span class="toc-text">AOP 的核心思想与组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AOP-%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-text">AOP 的底层原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AOP-%E5%B8%B8%E8%A7%81%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">AOP 常见的应用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-8"><span class="toc-text">小结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%A0%E7%9A%84%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%93%AA%E9%87%8C%E7%94%A8%E5%88%B0%E4%BA%86AOP%EF%BC%9F"><span class="toc-text">你的项目中哪里用到了AOP？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%BD%E8%AF%B4%E8%AF%B4-Spring-%E6%8B%A6%E6%88%AA%E9%93%BE%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%90%97%EF%BC%9F"><span class="toc-text">能说说 Spring 拦截链的实现吗？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-9"><span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E4%B8%8B-Spring-Bean-%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%9F"><span class="toc-text">说下 Spring Bean 的生命周期？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%80%BB%E7%BB%93"><span class="toc-text">一句话总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E8%AF%A6%E7%BB%86%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%98%B6%E6%AE%B5"><span class="toc-text">二、详细生命周期阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%B8%8F%E2%83%A3-%E5%AE%9E%E4%BE%8B%E5%8C%96%EF%BC%88Instantiation%EF%BC%89"><span class="toc-text">1️⃣ 实例化（Instantiation）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%B8%8F%E2%83%A3-%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5%EF%BC%88Populate-Properties%EF%BC%89"><span class="toc-text">2️⃣ 属性注入（Populate Properties）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%B8%8F%E2%83%A3-Aware-%E6%8E%A5%E5%8F%A3%E5%9B%9E%E8%B0%83%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="toc-text">3️⃣ Aware 接口回调（可选）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%B8%8F%E2%83%A3-BeanPostProcessor%EF%BC%9A%E5%88%9D%E5%A7%8B%E5%8C%96%E5%89%8D%EF%BC%88Before-Initialization%EF%BC%89"><span class="toc-text">4️⃣ BeanPostProcessor：初始化前（Before Initialization）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%EF%B8%8F%E2%83%A3-%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%88Initialization%EF%BC%89"><span class="toc-text">5️⃣ 初始化（Initialization）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%EF%B8%8F%E2%83%A3-BeanPostProcessor%EF%BC%9A%E5%88%9D%E5%A7%8B%E5%8C%96%E5%90%8E%EF%BC%88After-Initialization%EF%BC%89"><span class="toc-text">6️⃣ BeanPostProcessor：初始化后（After Initialization）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7%EF%B8%8F%E2%83%A3-Bean-%E4%BD%BF%E7%94%A8%E9%98%B6%E6%AE%B5%EF%BC%88In-Use%EF%BC%89"><span class="toc-text">7️⃣ Bean 使用阶段（In Use）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8%EF%B8%8F%E2%83%A3-%E9%94%80%E6%AF%81%E9%98%B6%E6%AE%B5%EF%BC%88Destroy%EF%BC%89"><span class="toc-text">8️⃣ 销毁阶段（Destroy）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%8A-%E4%B8%89%E3%80%81%E5%AE%8C%E6%95%B4%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE%EF%BC%88%E9%80%BB%E8%BE%91%E9%A1%BA%E5%BA%8F%EF%BC%89"><span class="toc-text">📊 三、完整生命周期流程图（逻辑顺序）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%B0%8F%E7%BB%93"><span class="toc-text">四、小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E4%B8%8B%E5%AF%B9-Spring-MVC-%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%9F"><span class="toc-text">说下对 Spring MVC 的理解？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%80%BB%E7%BB%93"><span class="toc-text">一、一句话总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%A0%B8%E5%BF%83%E7%90%86%E8%A7%A3"><span class="toc-text">二、核心理解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%B8%8F-%E6%9C%AC%E8%B4%A8%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">1️ 本质是什么</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%B8%8F-Spring-MVC-%E7%9A%84%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6"><span class="toc-text">2️ Spring MVC 的核心组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%B8%8F-%E7%9B%B8%E6%AF%94%E4%BC%A0%E7%BB%9F-MVC-%E7%9A%84%E6%94%B9%E8%BF%9B"><span class="toc-text">3️ 相比传统 MVC 的改进</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%B8%8F-Spring-MVC-%E4%B8%AD%E7%9A%84%E5%88%86%E5%B1%82%E6%80%9D%E6%83%B3"><span class="toc-text">4️ Spring MVC 中的分层思想</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%9D%A2%E8%AF%95%E5%9B%9E%E7%AD%94"><span class="toc-text">三、面试回答</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-MVC-%E5%85%B7%E4%BD%93%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9F"><span class="toc-text">Spring MVC 具体的工作原理？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E8%A6%81%E6%B5%81%E7%A8%8B"><span class="toc-text">简要流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93%EF%BC%9A-2"><span class="toc-text">小结：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B"><span class="toc-text">完整流程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E4%BA%8B%E5%8A%A1%E6%9C%89%E5%87%A0%E4%B8%AA%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%9F"><span class="toc-text">Spring 事务有几个隔离级别？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E8%A1%8C%E4%B8%BA"><span class="toc-text">Spring 有哪几种事务传播行为?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-text">使用场景：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A"><span class="toc-text">示例：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-IOC-%E5%AE%B9%E5%99%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E8%BF%87%E7%A8%8B%EF%BC%9F"><span class="toc-text">Spring IOC 容器初始化过程？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%EF%BC%9A%E5%87%86%E5%A4%87%E5%92%8C%E5%B7%A5%E5%8E%82%E5%88%9B%E5%BB%BA"><span class="toc-text">第一阶段：准备和工厂创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%EF%BC%9A%E5%A4%84%E7%90%86%E5%92%8C%E6%B3%A8%E5%86%8C-Bean-%E5%AE%9A%E4%B9%89"><span class="toc-text">第二阶段：处理和注册 Bean 定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%EF%BC%9A%E5%9B%BD%E9%99%85%E5%8C%96%E3%80%81%E4%BA%8B%E4%BB%B6%E4%B8%8E%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-text">第三阶段：国际化、事件与监听器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E9%98%B6%E6%AE%B5%EF%BC%9ABean-%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%88%B7%E6%96%B0%E5%AE%8C%E6%88%90"><span class="toc-text">第四阶段：Bean 创建与刷新完成</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean%E5%92%8C-Component%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">@Bean和@Component有什么区别？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Component%E3%80%81-Controller%E3%80%81-Repository%E5%92%8C-Service-%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">@Component、@Controller、@Repository和@Service 的区别？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring%E4%B8%AD%E7%9A%84-Primary%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">Spring中的@Primary注解的作用是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring%E4%B8%AD%E7%9A%84-Value%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">Spring中的@Value注解的作用是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E4%B8%AD%E7%9A%84-Profile-%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">Spring 中的 @Profile 注解的作用是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E4%B8%AD%E7%9A%84-RequestBody-%E5%92%8C-ResponseBody-%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">Spring 中的 @RequestBody 和 @ResponseBody 注解的作用是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-%E4%B8%AD%E7%9A%84-PathVariable-%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">Spring 中的 @PathVariable 注解的作用是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-MVC-%E4%B8%AD%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%EF%BC%9F"><span class="toc-text">Spring MVC 中如何处理异常？</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">格言🧬</p><div class="bg-ad"><div>再看看那个光点，它就在这里，这是家园，这是我们 —— 你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生✨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">点击开启星辰之旅</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">猜你想看💡</p><ul class="ft-links"><li><a href="/comments/">留点什么</a><a href="/archives/">文章归档</a></li><li><a href="/categories/">文章分类</a><a href="/tags/">文章标签</a></li><li><a href="/box/Gallery/">我的画廊</a><a href="/personal/bb/">我的唠叨</a></li><li><a href="/site/time/">建设进程</a><a href="/site/census/">网站统计</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">推荐友链⌛</p><div class="ft-img-group"><div class="img-group-item"></div></div></div></div><div class="copyright"><span><b>&copy;2022-2025</b></span><span><b>&nbsp;&nbsp;By geqian's Blog🍭</b></span></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20230913" style="margin-inline:5px" title="本站已加入萌ICP豪华套餐，萌ICP备20230913号"><img src="https://u7imgblog.oss-cn-hangzhou.aliyuncs.com/blogbackground/20230913.svg" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="右键模式" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>百度搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>关于博客</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>美化设置</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>切换全屏</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>打印页面</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: '',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: '',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/学习笔记/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍡 geqianの学习笔记 (10)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/杂项/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍼 geqianの杂项 (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/项目/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍉 geqianの项目笔记 (6)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/AI/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍨 geqianのAI大模型 (6)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/算法/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍟 geqianの算法学习笔记 (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/面试/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍥 geqianの面试 (18)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/JUC/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🌏 geqianのJUC (4)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/JVM/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍜 geqianのJVM (5)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/云原生/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🔐 geqianの云原生相关 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/MQ/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📱 geqianの消息队列 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/前端/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🏛️ geqianの前端工程 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/mybatis-mybatis-plus/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🎨 geqianのmybatis系列 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/微服务/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🗺️ geqianのSpringCloud系列 (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/SSM/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📖 geqianのSSM+SpringBoot系列 (7)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/ruoyi/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📞 geqianの若依框架 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/mysql/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">❓ geqianのmysql (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/Redis/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💖 geqianのRedis (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://itgeqian.github.io/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #e9e9e9;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/60.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/%E5%8F%A4%E9%A3%8E.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-09-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/60.html&quot;);" href="javascript:void(0);" alt="">速通Spring AI Alibaba </a><div class="blog-slider__text">速通Spring AI Alibaba 完结</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/60.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/37.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://u7imgblog.oss-cn-hangzhou.aliyuncs.com/blogbackground/wallhaven-o59q2m.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-04-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/37.html&quot;);" href="javascript:void(0);" alt="">GQ Video单服务版本记录</a><div class="blog-slider__text">GQ Video单服务版本记录（完整记录GQ Video从0到1的全记录）</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/37.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/74.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://u7imgblog.oss-cn-hangzhou.aliyuncs.com/blogbackground/wallhaven-o59q2m.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-09-06</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/74.html&quot;);" href="javascript:void(0);" alt="">Mysql相关面试题</a><div class="blog-slider__text">我对mysql的相关理解</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/74.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/77.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://u7imgblog.oss-cn-hangzhou.aliyuncs.com/blogbackground/wallhaven-o59q2m.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-07</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/77.html&quot;);" href="javascript:void(0);" alt="">javase+集合相关面试题</a><div class="blog-slider__text">我对java基础和集合类的相关理解</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/77.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/68.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/22.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-01</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/68.html&quot;);" href="javascript:void(0);" alt="">JUC面试题</a><div class="blog-slider__text">我对JUC的理解</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/68.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper@1.0.12/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper@1.0.12/lib/swiper_init.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 320px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/site/census/'|| '/site/census/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("/api?null",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'null')
    }
  </script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>