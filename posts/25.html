<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>JVMåŸç†ç¯‡ | geqian's BlogğŸ­</title><meta name="keywords" content="JVM"><meta name="author" content="geqian's BlogğŸ­"><meta name="copyright" content="geqian's BlogğŸ­"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="é»‘é©¬ç¨‹åºå‘˜JVM-åŸç†ç¯‡ï¼ˆæ ˆä¸Šçš„æ•°æ®å­˜å‚¨ã€å¯¹è±¡åœ¨å †ä¸Šæ˜¯å¦‚ä½•å­˜å‚¨çš„ã€æ–¹æ³•è°ƒç”¨çš„åŸç†ã€å¼‚å¸¸æ•è·çš„åŸç†ã€JITå³æ—¶ç¼–è¯‘å™¨ã€åƒåœ¾å›æ”¶å™¨åŸç†G1+ZGC+ShenandoahGCï¼‰">
<meta property="og:type" content="article">
<meta property="og:title" content="JVMåŸç†ç¯‡">
<meta property="og:url" content="https://itgeqian.github.io/posts/25.html">
<meta property="og:site_name" content="geqian&#39;s BlogğŸ­">
<meta property="og:description" content="é»‘é©¬ç¨‹åºå‘˜JVM-åŸç†ç¯‡ï¼ˆæ ˆä¸Šçš„æ•°æ®å­˜å‚¨ã€å¯¹è±¡åœ¨å †ä¸Šæ˜¯å¦‚ä½•å­˜å‚¨çš„ã€æ–¹æ³•è°ƒç”¨çš„åŸç†ã€å¼‚å¸¸æ•è·çš„åŸç†ã€JITå³æ—¶ç¼–è¯‘å™¨ã€åƒåœ¾å›æ”¶å™¨åŸç†G1+ZGC+ShenandoahGCï¼‰">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/54.jpg">
<meta property="article:published_time" content="2025-07-29T02:19:03.000Z">
<meta property="article:modified_time" content="2025-07-30T15:42:00.000Z">
<meta property="article:author" content="geqian&#39;s BlogğŸ­">
<meta property="article:tag" content="JVM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/54.jpg"><link rel="shortcut icon" href="/"><link rel="canonical" href="https://itgeqian.github.io/posts/25"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.js',
      css: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JVMåŸç†ç¯‡',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-07-30 23:42:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><span id="fps"></span><style id="defineBg"></style><style id="menu_shadow"></style><script src="https://cdn.jsdelivr.net/npm/echarts@6/dist/echarts.min.js"></script><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper@1.0.12/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper@1.0.12/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="geqian's BlogğŸ­" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/assets/avatar.png" onerror="onerror=null;src='/assets/r1.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">83</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">51</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">18</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> ä¼‘é—²</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> å…«éŸ³ç›’</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½±é™¢</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> å…«å®ç®±</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> ç”»å»Š</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> åŠ¨ç”»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘å€å¯¼èˆª</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> ç•™è¨€æ¿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> æ—§æ—¶å…‰</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">geqian's BlogğŸ­</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> ä¼‘é—²</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> å…«éŸ³ç›’</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½±é™¢</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> å…«å®ç®±</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> ç”»å»Š</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> åŠ¨ç”»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘å€å¯¼èˆª</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> ç•™è¨€æ¿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> æ—§æ—¶å…‰</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="æ£€ç´¢ç«™å†…ä»»ä½•ä½ æƒ³è¦çš„ä¿¡æ¯"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> æœç´¢</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="ç¾åŒ–è®¾ç½®-è‡ªå®šä¹‰ä½ çš„é£æ ¼" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">JVMåŸç†ç¯‡</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">å‘è¡¨äº </span><time class="post-meta-date-created" datetime="2025-07-29T02:19:03.000Z" title="å‘è¡¨äº 2025-07-29 10:19:03">2025-07-29</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-07-30T15:42:00.000Z" title="æ›´æ–°äº 2025-07-30 23:42:00">2025-07-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-biaoqian"></use></svg><a class="post-meta-categories" href="/categories/JVM/">JVM</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">1.7w</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>59åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JVMåŸç†ç¯‡"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="åŸç†ç¯‡">åŸç†ç¯‡</h1>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-869-1024x482.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-870-1024x688.png" alt="img"></p>
<h2 id="1ã€æ ˆä¸Šçš„æ•°æ®å­˜å‚¨">1ã€æ ˆä¸Šçš„æ•°æ®å­˜å‚¨</h2>
<p>Javaä¸­æœ‰8å¤§åŸºæœ¬æ•°æ®ç±»å‹ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-866.png" alt="img"></p>
<p>è¿™é‡Œçš„å†…å­˜å ç”¨ï¼ŒæŒ‡çš„æ˜¯å †ä¸Šæˆ–è€…æ•°ç»„ä¸­å†…å­˜åˆ†é…çš„ç©ºé—´å¤§å°ï¼Œæ ˆä¸Šçš„å®ç°æ›´åŠ å¤æ‚ã€‚</p>
<p>ä»¥åŸºç¡€ç¯‡çš„è¿™æ®µä»£ç ä¸ºä¾‹ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-867-1024x434.png" alt="img"></p>
<p>Javaä¸­çš„8å¤§æ•°æ®ç±»å‹åœ¨è™šæ‹Ÿæœºä¸­çš„å®ç°ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-868.png" alt="img"></p>
<p><strong>booleanã€byteã€charã€shortåœ¨æ ˆä¸Šæ˜¯ä¸æ˜¯å­˜åœ¨ç©ºé—´æµªè´¹ï¼Ÿ</strong></p>
<p>æ˜¯çš„ï¼ŒJavaè™šæ‹Ÿæœºé‡‡ç”¨çš„æ˜¯ç©ºé—´æ¢æ—¶é—´æ–¹æ¡ˆï¼Œåœ¨æ ˆä¸Šä¸å­˜å‚¨å…·ä½“çš„ç±»å‹ï¼Œåªæ ¹æ®slotæ§½è¿›è¡Œæ•°æ®çš„å¤„ç†ï¼Œæµªè´¹äº†ä¸€äº›å†…å­˜ç©ºé—´ä½†æ˜¯é¿å…ä¸åŒæ•°æ®ç±»å‹ä¸åŒå¤„ç†æ–¹å¼å¸¦æ¥çš„æ—¶é—´å¼€é”€ã€‚</p>
<p>åŒæ—¶ï¼Œåƒlongå‹åœ¨64ä½ç³»ç»Ÿä¸­å ç”¨2ä¸ªslotï¼Œä½¿ç”¨äº†16å­—èŠ‚ç©ºé—´ï¼Œä½†å®é™…ä¸Šåœ¨Hotspotè™šæ‹Ÿæœºä¸­ï¼Œå®ƒçš„é«˜8ä¸ªå­—èŠ‚æ²¡æœ‰ä½¿ç”¨ï¼Œè¿™æ ·å°±æ»¡è¶³äº†longå‹ä½¿ç”¨8ä¸ªå­—èŠ‚çš„éœ€è¦ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-871-1024x527.png" alt="img"></p>
<ul>
<li>VM æ ˆçš„å±€éƒ¨å˜é‡è¡¨æ˜¯åŸºäº slot æ„å»ºçš„ï¼›</li>
<li>ä¸€ä¸ª slot = 4 /8å­—èŠ‚ï¼ˆ32/64ä½ç³»ç»Ÿï¼‰ï¼Œä¸è®ºå®é™…ç±»å‹å¤šå°ï¼›</li>
<li>å°ç±»å‹å¦‚ <code>boolean</code>ã€<code>byte</code>ã€<code>short</code> ä¼šæµªè´¹ç©ºé—´ï¼›</li>
<li><code>long</code>/<code>double</code> å ç”¨ä¸¤ä¸ª slotï¼Œä¹Ÿå¯èƒ½é€ æˆé«˜ä½ç©ºä½™ï¼›</li>
<li>æœ¬è´¨æ˜¯ç‰ºç‰²ç©ºé—´ï¼Œç®€åŒ– VM æ“ä½œé€»è¾‘ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡ã€‚</li>
</ul>
<h3 id="1-1booleanæ•°æ®ç±»å‹ä¿å­˜æ–¹å¼">1.1booleanæ•°æ®ç±»å‹ä¿å­˜æ–¹å¼</h3>
<p><strong>éœ€æ±‚1ï¼š</strong></p>
<p>ç¼–å†™å¦‚ä¸‹ä»£ç ï¼Œå¹¶æŸ¥çœ‹å­—èŠ‚ç æ–‡ä»¶ä¸­å¯¹booleanæ•°æ®ç±»å‹å¤„ç†çš„æŒ‡ä»¤ã€‚</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package demo1;</span><br><span class="line"></span><br><span class="line"><span class="built_in">public</span> <span class="keyword">class</span> Demo01 &#123;</span><br><span class="line">    <span class="built_in">public</span> static <span class="type">void</span> main(String[] args) &#123;</span><br><span class="line">        <span class="type">boolean</span> a = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(a)&#123;</span><br><span class="line">            <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;aä¸ºtrue&quot;);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;aä¸ºfalse&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(a == <span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;aä¸ºtrue&quot;);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;aä¸ºfalse&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>1ã€å¸¸é‡1å…ˆæ”¾å…¥å±€éƒ¨å˜é‡è¡¨ï¼Œç›¸å½“äºç»™aèµ‹å€¼ä¸ºtrueã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-872-1024x516.png" alt="img"></p>
<p>2ã€å°†1ä¸0æ¯”è¾ƒï¼ˆåˆ¤æ–­aæ˜¯å¦ä¸ºfalseï¼‰ï¼Œç›¸å½“è·³è½¬åˆ°åç§»é‡17çš„ä½ç½®ï¼Œä¸ç›¸ç­‰ç»§ç»­å‘ä¸‹è¿è¡Œã€‚è¿™é‡Œæ˜¾ç„¶æ˜¯ä¸ç›¸ç­‰çš„ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-873-1024x516.png" alt="img"></p>
<p>3ã€å°†å±€éƒ¨å˜é‡è¡¨açš„å€¼å–å‡ºæ¥æ”¾åˆ°æ“ä½œæ•°æ ˆä¸­ï¼Œå†å®šä¹‰ä¸€ä¸ªå¸¸é‡1ï¼Œæ¯”å¯¹ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ã€‚å…¶å®å°±æ˜¯åˆ¤æ–­a == trueï¼Œå¦‚æœç›¸ç­‰ç»§ç»­å‘ä¸‹è¿è¡Œï¼Œä¸ç›¸ç­‰è·³è½¬åˆ°åç§»é‡41ä¹Ÿå°±æ˜¯æ‰§è¡Œelseéƒ¨åˆ†ä»£ç ã€‚è¿™é‡Œæ˜¾ç„¶æ˜¯ç›¸ç­‰çš„ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-874-1024x483.png" alt="img"></p>
<p>åœ¨Javaè™šæ‹Ÿæœºä¸­æ ˆä¸Šbooleanç±»å‹ä¿å­˜æ–¹å¼ä¸intç±»å‹ç›¸åŒï¼Œæ‰€ä»¥å®ƒçš„å€¼å¦‚æœæ˜¯1ä»£è¡¨trueï¼Œå¦‚æœæ˜¯0ä»£è¡¨falseã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹å­—èŠ‚ç æ–‡ä»¶ï¼Œè®©å®ƒçš„å€¼è¶…è¿‡1ã€‚</p>
<p><strong>éœ€æ±‚2ï¼š</strong></p>
<p>ä½¿ç”¨ASMæ¡†æ¶ä¿®æ”¹å­—èŠ‚ç æŒ‡ä»¤ï¼Œå°†iconst1æŒ‡ä»¤ä¿®æ”¹ä¸ºiconst2ï¼Œå¹¶æµ‹è¯•éªŒè¯ç»“æœã€‚</p>
<p>1ã€å€ŸåŠ©äºASMæ’ä»¶ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-875.png" alt="img"></p>
<p>2ã€é€šè¿‡æ’ä»¶æ‰“å¼€ASMç•Œé¢ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-876-1024x576.png" alt="img"></p>
<p>å°†ä»£ç å¤åˆ¶å‡ºæ¥ï¼Œä¿®æ”¹ä¸€ä¸‹å¯¼å‡ºClassæ–‡ä»¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"><span class="keyword">import</span> org.objectweb.asm.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo01Dump</span> <span class="keyword">implements</span> <span class="title class_">Opcodes</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        FileUtils.writeByteArrayToFile(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\Demo01.class&quot;</span>),dump());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">byte</span>[] dump() <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">ClassWriter</span> <span class="variable">cw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassWriter</span>(<span class="number">0</span>);</span><br><span class="line">        FieldVisitor fv;</span><br><span class="line">        MethodVisitor mv;</span><br><span class="line">        AnnotationVisitor av0;</span><br><span class="line"></span><br><span class="line">        cw.visit(<span class="number">52</span>, ACC_PUBLIC + ACC_SUPER, <span class="string">&quot;demo1/Demo01&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;java/lang/Object&quot;</span>, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">        cw.visitSource(<span class="string">&quot;Demo01.java&quot;</span>, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            mv = cw.visitMethod(ACC_PUBLIC, <span class="string">&quot;&lt;init&gt;&quot;</span>, <span class="string">&quot;()V&quot;</span>, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitCode();</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l0</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l0);</span><br><span class="line">            mv.visitLineNumber(<span class="number">3</span>, l0);</span><br><span class="line">            mv.visitVarInsn(ALOAD, <span class="number">0</span>);</span><br><span class="line">            mv.visitMethodInsn(INVOKESPECIAL, <span class="string">&quot;java/lang/Object&quot;</span>, <span class="string">&quot;&lt;init&gt;&quot;</span>, <span class="string">&quot;()V&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            mv.visitInsn(RETURN);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l1);</span><br><span class="line">            mv.visitLocalVariable(<span class="string">&quot;this&quot;</span>, <span class="string">&quot;Ldemo1/Demo01;&quot;</span>, <span class="literal">null</span>, l0, l1, <span class="number">0</span>);</span><br><span class="line">            mv.visitMaxs(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">            mv.visitEnd();</span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            mv = cw.visitMethod(ACC_PUBLIC + ACC_STATIC, <span class="string">&quot;main&quot;</span>, <span class="string">&quot;([Ljava/lang/String;)V&quot;</span>, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitCode();</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l0</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l0);</span><br><span class="line">            mv.visitLineNumber(<span class="number">5</span>, l0);</span><br><span class="line">            mv.visitInsn(ICONST_2);</span><br><span class="line">            mv.visitVarInsn(ISTORE, <span class="number">1</span>);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l1);</span><br><span class="line">            mv.visitLineNumber(<span class="number">6</span>, l1);</span><br><span class="line">            mv.visitVarInsn(ILOAD, <span class="number">1</span>);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitJumpInsn(IFEQ, l2);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l3);</span><br><span class="line">            mv.visitLineNumber(<span class="number">7</span>, l3);</span><br><span class="line">            mv.visitFieldInsn(GETSTATIC, <span class="string">&quot;java/lang/System&quot;</span>, <span class="string">&quot;out&quot;</span>, <span class="string">&quot;Ljava/io/PrintStream;&quot;</span>);</span><br><span class="line">            mv.visitLdcInsn(<span class="string">&quot;a\u4e3atrue&quot;</span>);</span><br><span class="line">            mv.visitMethodInsn(INVOKEVIRTUAL, <span class="string">&quot;java/io/PrintStream&quot;</span>, <span class="string">&quot;println&quot;</span>, <span class="string">&quot;(Ljava/lang/String;)V&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitJumpInsn(GOTO, l4);</span><br><span class="line">            mv.visitLabel(l2);</span><br><span class="line">            mv.visitLineNumber(<span class="number">9</span>, l2);</span><br><span class="line">            mv.visitFrame(Opcodes.F_APPEND, <span class="number">1</span>, <span class="keyword">new</span> <span class="title class_">Object</span>[]&#123;Opcodes.INTEGER&#125;, <span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitFieldInsn(GETSTATIC, <span class="string">&quot;java/lang/System&quot;</span>, <span class="string">&quot;out&quot;</span>, <span class="string">&quot;Ljava/io/PrintStream;&quot;</span>);</span><br><span class="line">            mv.visitLdcInsn(<span class="string">&quot;a\u4e3afalse&quot;</span>);</span><br><span class="line">            mv.visitMethodInsn(INVOKEVIRTUAL, <span class="string">&quot;java/io/PrintStream&quot;</span>, <span class="string">&quot;println&quot;</span>, <span class="string">&quot;(Ljava/lang/String;)V&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            mv.visitLabel(l4);</span><br><span class="line">            mv.visitLineNumber(<span class="number">12</span>, l4);</span><br><span class="line">            mv.visitFrame(Opcodes.F_SAME, <span class="number">0</span>, <span class="literal">null</span>, <span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitVarInsn(ILOAD, <span class="number">1</span>);</span><br><span class="line">            mv.visitInsn(ICONST_1);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitJumpInsn(IF_ICMPNE, l5);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l6</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l6);</span><br><span class="line">            mv.visitLineNumber(<span class="number">13</span>, l6);</span><br><span class="line">            mv.visitFieldInsn(GETSTATIC, <span class="string">&quot;java/lang/System&quot;</span>, <span class="string">&quot;out&quot;</span>, <span class="string">&quot;Ljava/io/PrintStream;&quot;</span>);</span><br><span class="line">            mv.visitLdcInsn(<span class="string">&quot;a\u4e3atrue&quot;</span>);</span><br><span class="line">            mv.visitMethodInsn(INVOKEVIRTUAL, <span class="string">&quot;java/io/PrintStream&quot;</span>, <span class="string">&quot;println&quot;</span>, <span class="string">&quot;(Ljava/lang/String;)V&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l7</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitJumpInsn(GOTO, l7);</span><br><span class="line">            mv.visitLabel(l5);</span><br><span class="line">            mv.visitLineNumber(<span class="number">15</span>, l5);</span><br><span class="line">            mv.visitFrame(Opcodes.F_SAME, <span class="number">0</span>, <span class="literal">null</span>, <span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitFieldInsn(GETSTATIC, <span class="string">&quot;java/lang/System&quot;</span>, <span class="string">&quot;out&quot;</span>, <span class="string">&quot;Ljava/io/PrintStream;&quot;</span>);</span><br><span class="line">            mv.visitLdcInsn(<span class="string">&quot;a\u4e3afalse&quot;</span>);</span><br><span class="line">            mv.visitMethodInsn(INVOKEVIRTUAL, <span class="string">&quot;java/io/PrintStream&quot;</span>, <span class="string">&quot;println&quot;</span>, <span class="string">&quot;(Ljava/lang/String;)V&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            mv.visitLabel(l7);</span><br><span class="line">            mv.visitLineNumber(<span class="number">17</span>, l7);</span><br><span class="line">            mv.visitFrame(Opcodes.F_SAME, <span class="number">0</span>, <span class="literal">null</span>, <span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitInsn(RETURN);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l8</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l8);</span><br><span class="line">            mv.visitLocalVariable(<span class="string">&quot;args&quot;</span>, <span class="string">&quot;[Ljava/lang/String;&quot;</span>, <span class="literal">null</span>, l0, l8, <span class="number">0</span>);</span><br><span class="line">            mv.visitLocalVariable(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;Z&quot;</span>, <span class="literal">null</span>, l1, l8, <span class="number">1</span>);</span><br><span class="line">            mv.visitMaxs(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">            mv.visitEnd();</span><br><span class="line">        &#125;</span><br><span class="line">        cw.visitEnd();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cw.toByteArray();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„è¿™å¥å·²ç»ä¿®æ”¹ä¸ºiconst_2:</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-877.png" alt="img"></p>
<p>ä½¿ç”¨jclasslibæŸ¥çœ‹å­—èŠ‚ç æ–‡ä»¶ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-878.png" alt="img"></p>
<p>æ‰§è¡Œå­—èŠ‚ç æ–‡ä»¶</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-879.png" alt="img"></p>
<p>è¿™é‡Œå°±å‡ºç°äº†ä¸¤ä¸ªåˆ¤æ–­è¯­å¥ç»“æœä¸ä¸€è‡´çš„æƒ…å†µï¼š</p>
<p>ç¬¬ä¸€ä¸ªåˆ¤æ–­æ˜¯å°†2å’Œ0æ¯”è¾ƒï¼Œå¦‚æœä¸ç›¸åŒå°±ç»§ç»­è¿è¡Œifä¸‹é¢çš„åˆ†æ”¯ä¸ä¼šèµ°elseåˆ†æ”¯ï¼Œæ˜¾ç„¶ä¼šèµ°ifä¸‹é¢çš„åˆ†æ”¯ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-880-1024x486.png" alt="img"></p>
<p>ç¬¬äºŒä¸ªåˆ¤æ–­æ˜¯å°†2å’Œ1æ¯”è¾ƒï¼Œç›¸ç­‰èµ°ifä¸‹é¢çš„åˆ†æ”¯ï¼Œå¦åˆ™èµ°elseã€‚è¿™é‡Œç”±äº2å’Œ1ä¸ç›¸ç­‰å°±ä¼šèµ°elseåˆ†æ”¯ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-881-1024x482.png" alt="img"></p>
<p><strong>è¿™ä¸ªæ¡ˆä¾‹å°±å¯ä»¥è¯æ˜åœ¨æ ˆä¸Šbooleanç±»å‹ç¡®å®æ˜¯ä½¿ç”¨äº†intç±»å‹æ¥ä¿å­˜çš„ã€‚</strong>(byte, short, charç±»å‹åœ¨æ ˆä¸Šä¹Ÿä½¿ç”¨intç±»å‹æ¥ä¿å­˜å’Œå¤„ç†ï¼Œåœ¨æ ˆä¸­éƒ½å ä¸€ä¸ªslotæ§½)</p>
<h3 id="1-2æ ˆä¸­çš„æ•°æ®è¦ä¿å­˜åˆ°å †ä¸Šæˆ–è€…ä»å †ä¸­åŠ è½½åˆ°æ ˆä¸Šæ—¶æ€ä¹ˆå¤„ç†ï¼Ÿ">1.2æ ˆä¸­çš„æ•°æ®è¦ä¿å­˜åˆ°å †ä¸Šæˆ–è€…ä»å †ä¸­åŠ è½½åˆ°æ ˆä¸Šæ—¶æ€ä¹ˆå¤„ç†ï¼Ÿ</h3>
<p>1ã€å †ä¸­çš„æ•°æ®åŠ è½½åˆ°æ ˆä¸Šï¼Œç”±äºæ ˆä¸Šçš„ç©ºé—´å¤§äºæˆ–è€…ç­‰äºå †ä¸Šçš„ç©ºé—´ï¼Œæ‰€ä»¥ç›´æ¥å¤„ç†ä½†æ˜¯éœ€è¦æ³¨æ„ä¸‹ç¬¦å·ä½ã€‚</p>
<p>booleanã€charä¸ºæ— ç¬¦å·ï¼Œä½ä½å¤åˆ¶ï¼Œé«˜ä½è¡¥0</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-882.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-883-1024x120.png" alt="img"></p>
<p>byteã€shortä¸ºæœ‰ç¬¦å·ï¼Œä½ä½å¤åˆ¶ï¼Œé«˜ä½éè´Ÿåˆ™è¡¥0ï¼Œè´Ÿåˆ™è¡¥1</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-884.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-885-1024x118.png" alt="img"></p>
<p>2ã€æ ˆä¸­çš„æ•°æ®è¦ä¿å­˜åˆ°å †ä¸Šï¼Œbyteã€charã€shortç”±äºå †ä¸Šå­˜å‚¨ç©ºé—´è¾ƒå°ï¼Œéœ€è¦å°†é«˜ä½å»æ‰ã€‚booleanæ¯”è¾ƒç‰¹æ®Šï¼Œåªå–ä½ä½çš„æœ€åä¸€ä½ä¿å­˜ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-886.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-887-1024x113.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-897-945x1024.png" alt="img"></p>
<h3 id="æ¡ˆä¾‹ï¼šéªŒè¯booleanä»æ ˆä¿å­˜åˆ°å †ä¸Šåªå–æœ€åä¸€ä½">æ¡ˆä¾‹ï¼šéªŒè¯booleanä»æ ˆä¿å­˜åˆ°å †ä¸Šåªå–æœ€åä¸€ä½</h3>
<p>å°†aä¿å­˜åœ¨å †ä¸Šï¼ˆä½¿ç”¨staticï¼‰ï¼Œä½¿ç”¨ASMæ¡†æ¶ä¿®æ”¹å­—èŠ‚ç æŒ‡ä»¤ï¼Œå°†iconst1æŒ‡ä»¤ä¿®æ”¹ä¸ºiconst2å’Œiconst3ï¼Œå¹¶æµ‹è¯•éªŒè¯ç»“æœã€‚</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package demo1;</span><br><span class="line"></span><br><span class="line"><span class="built_in">public</span> <span class="keyword">class</span> Demo02 &#123;</span><br><span class="line">    static <span class="type">boolean</span> a;</span><br><span class="line">    <span class="built_in">public</span> static <span class="type">void</span> main(String[] args) &#123;</span><br><span class="line">        a = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(a)&#123;</span><br><span class="line">            <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;aä¸ºtrue&quot;);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;aä¸ºfalse&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(a == <span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;aä¸ºtrue&quot;);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;aä¸ºfalse&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®Œæ•´ç”Ÿæˆclasså­—èŠ‚ç æ–‡ä»¶çš„ä»£ç :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"><span class="keyword">import</span> org.objectweb.asm.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo02Dump</span> <span class="keyword">implements</span> <span class="title class_">Opcodes</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        FileUtils.writeByteArrayToFile(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\demo1\\Demo02.class&quot;</span>),dump());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">byte</span>[] dump() <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">ClassWriter</span> <span class="variable">cw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassWriter</span>(<span class="number">0</span>);</span><br><span class="line">        FieldVisitor fv;</span><br><span class="line">        MethodVisitor mv;</span><br><span class="line">        AnnotationVisitor av0;</span><br><span class="line"></span><br><span class="line">        cw.visit(<span class="number">52</span>, ACC_PUBLIC + ACC_SUPER, <span class="string">&quot;demo1/Demo02&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;java/lang/Object&quot;</span>, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">        cw.visitSource(<span class="string">&quot;Demo02.java&quot;</span>, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            fv = cw.visitField(ACC_STATIC, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;Z&quot;</span>, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">            fv.visitEnd();</span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            mv = cw.visitMethod(ACC_PUBLIC, <span class="string">&quot;&lt;init&gt;&quot;</span>, <span class="string">&quot;()V&quot;</span>, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitCode();</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l0</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l0);</span><br><span class="line">            mv.visitLineNumber(<span class="number">3</span>, l0);</span><br><span class="line">            mv.visitVarInsn(ALOAD, <span class="number">0</span>);</span><br><span class="line">            mv.visitMethodInsn(INVOKESPECIAL, <span class="string">&quot;java/lang/Object&quot;</span>, <span class="string">&quot;&lt;init&gt;&quot;</span>, <span class="string">&quot;()V&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            mv.visitInsn(RETURN);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l1);</span><br><span class="line">            mv.visitLocalVariable(<span class="string">&quot;this&quot;</span>, <span class="string">&quot;Ldemo1/Demo02;&quot;</span>, <span class="literal">null</span>, l0, l1, <span class="number">0</span>);</span><br><span class="line">            mv.visitMaxs(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">            mv.visitEnd();</span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            mv = cw.visitMethod(ACC_PUBLIC + ACC_STATIC, <span class="string">&quot;main&quot;</span>, <span class="string">&quot;([Ljava/lang/String;)V&quot;</span>, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitCode();</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l0</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l0);</span><br><span class="line">            mv.visitLineNumber(<span class="number">6</span>, l0);</span><br><span class="line">            mv.visitInsn(ICONST_3);</span><br><span class="line">            mv.visitFieldInsn(PUTSTATIC, <span class="string">&quot;demo1/Demo02&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;Z&quot;</span>);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l1);</span><br><span class="line">            mv.visitLineNumber(<span class="number">7</span>, l1);</span><br><span class="line">            mv.visitFieldInsn(GETSTATIC, <span class="string">&quot;demo1/Demo02&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;Z&quot;</span>);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitJumpInsn(IFEQ, l2);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l3);</span><br><span class="line">            mv.visitLineNumber(<span class="number">8</span>, l3);</span><br><span class="line">            mv.visitFieldInsn(GETSTATIC, <span class="string">&quot;java/lang/System&quot;</span>, <span class="string">&quot;out&quot;</span>, <span class="string">&quot;Ljava/io/PrintStream;&quot;</span>);</span><br><span class="line">            mv.visitLdcInsn(<span class="string">&quot;a\u4e3atrue&quot;</span>);</span><br><span class="line">            mv.visitMethodInsn(INVOKEVIRTUAL, <span class="string">&quot;java/io/PrintStream&quot;</span>, <span class="string">&quot;println&quot;</span>, <span class="string">&quot;(Ljava/lang/String;)V&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitJumpInsn(GOTO, l4);</span><br><span class="line">            mv.visitLabel(l2);</span><br><span class="line">            mv.visitLineNumber(<span class="number">10</span>, l2);</span><br><span class="line">            mv.visitFrame(Opcodes.F_SAME, <span class="number">0</span>, <span class="literal">null</span>, <span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitFieldInsn(GETSTATIC, <span class="string">&quot;java/lang/System&quot;</span>, <span class="string">&quot;out&quot;</span>, <span class="string">&quot;Ljava/io/PrintStream;&quot;</span>);</span><br><span class="line">            mv.visitLdcInsn(<span class="string">&quot;a\u4e3afalse&quot;</span>);</span><br><span class="line">            mv.visitMethodInsn(INVOKEVIRTUAL, <span class="string">&quot;java/io/PrintStream&quot;</span>, <span class="string">&quot;println&quot;</span>, <span class="string">&quot;(Ljava/lang/String;)V&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            mv.visitLabel(l4);</span><br><span class="line">            mv.visitLineNumber(<span class="number">13</span>, l4);</span><br><span class="line">            mv.visitFrame(Opcodes.F_SAME, <span class="number">0</span>, <span class="literal">null</span>, <span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitFieldInsn(GETSTATIC, <span class="string">&quot;demo1/Demo02&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;Z&quot;</span>);</span><br><span class="line">            mv.visitInsn(ICONST_1);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitJumpInsn(IF_ICMPNE, l5);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l6</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l6);</span><br><span class="line">            mv.visitLineNumber(<span class="number">14</span>, l6);</span><br><span class="line">            mv.visitFieldInsn(GETSTATIC, <span class="string">&quot;java/lang/System&quot;</span>, <span class="string">&quot;out&quot;</span>, <span class="string">&quot;Ljava/io/PrintStream;&quot;</span>);</span><br><span class="line">            mv.visitLdcInsn(<span class="string">&quot;a\u4e3atrue&quot;</span>);</span><br><span class="line">            mv.visitMethodInsn(INVOKEVIRTUAL, <span class="string">&quot;java/io/PrintStream&quot;</span>, <span class="string">&quot;println&quot;</span>, <span class="string">&quot;(Ljava/lang/String;)V&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l7</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitJumpInsn(GOTO, l7);</span><br><span class="line">            mv.visitLabel(l5);</span><br><span class="line">            mv.visitLineNumber(<span class="number">16</span>, l5);</span><br><span class="line">            mv.visitFrame(Opcodes.F_SAME, <span class="number">0</span>, <span class="literal">null</span>, <span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitFieldInsn(GETSTATIC, <span class="string">&quot;java/lang/System&quot;</span>, <span class="string">&quot;out&quot;</span>, <span class="string">&quot;Ljava/io/PrintStream;&quot;</span>);</span><br><span class="line">            mv.visitLdcInsn(<span class="string">&quot;a\u4e3afalse&quot;</span>);</span><br><span class="line">            mv.visitMethodInsn(INVOKEVIRTUAL, <span class="string">&quot;java/io/PrintStream&quot;</span>, <span class="string">&quot;println&quot;</span>, <span class="string">&quot;(Ljava/lang/String;)V&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            mv.visitLabel(l7);</span><br><span class="line">            mv.visitLineNumber(<span class="number">18</span>, l7);</span><br><span class="line">            mv.visitFrame(Opcodes.F_SAME, <span class="number">0</span>, <span class="literal">null</span>, <span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">            mv.visitInsn(RETURN);</span><br><span class="line">            <span class="type">Label</span> <span class="variable">l8</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>();</span><br><span class="line">            mv.visitLabel(l8);</span><br><span class="line">            mv.visitLocalVariable(<span class="string">&quot;args&quot;</span>, <span class="string">&quot;[Ljava/lang/String;&quot;</span>, <span class="literal">null</span>, l0, l8, <span class="number">0</span>);</span><br><span class="line">            mv.visitMaxs(<span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">            mv.visitEnd();</span><br><span class="line">        &#125;</span><br><span class="line">        cw.visitEnd();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cw.toByteArray();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºiconst2æ¥è¯´ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-888.png" alt="img"></p>
<p>2çš„æœ€åä¸¤ä½æ˜¯10ï¼Œæ‰€ä»¥åªå–æœ€æœ«å°¾0ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-889.png" alt="img"></p>
<p>å¯¹äºiconst3æ¥è¯´ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-890.png" alt="img"></p>
<p>2çš„æœ€åä¸¤ä½æ˜¯11ï¼Œæ‰€ä»¥åªå–æœ€æœ«å°¾1ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-891.png" alt="img"></p>
<h2 id="2ã€å¯¹è±¡åœ¨å †ä¸Šæ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Ÿ">2ã€å¯¹è±¡åœ¨å †ä¸Šæ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Ÿ</h2>
<p>å¯¹è±¡åœ¨å †ä¸­çš„å†…å­˜å¸ƒå±€ï¼ŒæŒ‡çš„æ˜¯å¯¹è±¡åœ¨å †ä¸­å­˜æ”¾æ—¶çš„å„ä¸ªç»„æˆéƒ¨åˆ†ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-892-1024x442.png" alt="img"></p>
<h3 id="å¯¹è±¡å¤´-æ ‡è®°å­—æ®µ">å¯¹è±¡å¤´-æ ‡è®°å­—æ®µ</h3>
<p>æ ‡è®°å­—æ®µç›¸å¯¹æ¯”è¾ƒå¤æ‚ã€‚åœ¨ä¸åŒçš„å¯¹è±¡çŠ¶æ€ï¼ˆæœ‰æ— é”ã€æ˜¯å¦å¤„äºåƒåœ¾å›æ”¶çš„æ ‡è®°ä¸­ï¼‰ä¸‹å­˜æ”¾çš„å†…å®¹æ˜¯ä¸åŒçš„ï¼ŒåŒæ—¶åœ¨64ä½ï¼ˆåˆåˆ†ä¸ºæ˜¯å¦å¼€å¯æŒ‡é’ˆå‹ç¼©ï¼‰ã€32ä½è™šæ‹Ÿæœºä¸­çš„å¸ƒå±€éƒ½ä¸åŒã€‚ä»¥64ä½å¼€å¯æŒ‡é’ˆå‹ç¼©ä¸ºä¾‹ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-893-1024x376.png" alt="img"></p>
<p>æ€ä¹ˆç¡®è®¤æ ‡è®°å­—æ®µçš„å†…å®¹å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨JOLï¼Œ<strong>JOLæ˜¯ç”¨äºåˆ†æ JVM ä¸­å¯¹è±¡å¸ƒå±€çš„ä¸€æ¬¾ä¸“ä¸šå·¥å…·</strong>ã€‚å·¥å…·ä¸­ä½¿ç”¨ Unsafeã€JVMTI å’Œ Serviceability Agent (SA)ç­‰è™šæ‹ŸæœºæŠ€æœ¯æ¥æ‰“å°å®é™…çš„å¯¹è±¡å†…å­˜å¸ƒå±€ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<p>1ã€æ·»åŠ ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.openjdk.jol<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jol-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2ã€ä½¿ç”¨å¦‚ä¸‹ä»£ç æ‰“å°å¯¹è±¡å†…å­˜å¸ƒå±€ï¼š</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">System</span><span class="selector-class">.out</span><span class="selector-class">.println</span>(ClassLayout.<span class="built_in">parseInstance</span>(å¯¹è±¡).<span class="built_in">toPrintable</span>());</span><br></pre></td></tr></table></figure>
<p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.openjdk.jol.info.ClassLayout;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="comment">//-XX:-UseCompressedOops å…³é—­å‹ç¼©æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">long</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        System.out.println(Integer.toBinaryString(student.hashCode()));</span><br><span class="line">        System.out.println(ClassLayout.parseInstance(student).toPrintable());</span><br><span class="line">        System.in.read();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//0010011 01011111 10111010 10100100</span></span><br><span class="line"><span class="comment">//  0x26163608</span></span><br></pre></td></tr></table></figure>
<p>æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-894-1024x254.png" alt="img"></p>
<p>å’Œhashcodeå€¼æ˜¯ä¸€è‡´çš„ï¼ˆæ³¨æ„å°ç«¯å­˜å‚¨ï¼Œç»“æœä¼šå€’ç€å†™ï¼‰</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-895-1024x443.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-896-1024x435.png" alt="img"></p>
<h3 id="å¯¹è±¡å¤´-å…ƒæ•°æ®çš„æŒ‡é’ˆ">å¯¹è±¡å¤´-å…ƒæ•°æ®çš„æŒ‡é’ˆ</h3>
<p>Klass pointerå…ƒæ•°æ®çš„æŒ‡é’ˆæŒ‡å‘æ–¹æ³•åŒºä¸­ä¿å­˜çš„InstanceKlasså¯¹è±¡ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-898-1024x419.png" alt="img"></p>
<h4 id="æŒ‡é’ˆå‹ç¼©">æŒ‡é’ˆå‹ç¼©</h4>
<p>åœ¨64ä½çš„Javaè™šæ‹Ÿæœºä¸­ï¼ŒKlass Pointerä»¥åŠå¯¹è±¡æ•°æ®ä¸­çš„å¯¹è±¡å¼•ç”¨éƒ½éœ€è¦å ç”¨8ä¸ªå­—èŠ‚ï¼Œä¸ºäº†å‡å°‘è¿™éƒ¨åˆ†çš„å†…å­˜ä½¿ç”¨é‡ï¼Œ64 ä½ Java è™šæ‹Ÿæœºä½¿ç”¨æŒ‡é’ˆå‹ç¼©æŠ€æœ¯ï¼Œå°†å †ä¸­åŸæœ¬ 8ä¸ªå­—èŠ‚çš„ æŒ‡é’ˆå‹ç¼©æˆ 4ä¸ªå­—èŠ‚ ï¼Œæ­¤åŠŸèƒ½é»˜è®¤å¼€å¯ï¼Œå¯ä»¥ä½¿ç”¨-XX:-UseCompressedOopså…³é—­ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-899.png" alt="img"></p>
<p>æŒ‡é’ˆå‹ç¼©çš„æ€æƒ³æ˜¯å°†å¯»å€çš„å•ä½æ”¾å¤§ï¼Œæ¯”å¦‚åŸæ¥æŒ‰1å­—èŠ‚å»å¯»å€ï¼Œç°åœ¨å¯ä»¥æŒ‰8å­—èŠ‚å¯»å€ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒåŸæ¥æŒ‰1å»å¯»å€ï¼Œèƒ½æ‹¿åˆ°1å­—èŠ‚å¼€å§‹çš„æ•°æ®ï¼Œç°åœ¨æŒ‰1å»å¯»å€ï¼Œå°±å¯ä»¥æ‹¿åˆ°8ä¸ªå­—èŠ‚å¼€å§‹çš„æ•°æ®ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-900-1024x465.png" alt="img"></p>
<p>è¿™ä¸åœè½¦åœºæ˜¯ç±»ä¼¼çš„ã€‚ä»¥å‰éœ€è¦è®°å½•æˆ‘çš„è½¦å ç”¨äº†é‚£å‡ ç±³çš„ç©ºé—´ï¼Œç°åœ¨åªéœ€è¦è®°ä¸‹åœè½¦åœºçš„ç¼–å·ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-901-1024x496.png" alt="img"></p>
<p>è¿™æ ·å°†ç¼–å·å½“æˆåœ°å€ï¼Œå°±å¯ä»¥ç”¨æ›´å°çš„å†…å­˜è®¿é—®æ›´å¤šçš„æ•°æ®ã€‚ä½†æ˜¯è¿™æ ·çš„åšæ³•æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<p>1ã€éœ€è¦è¿›è¡Œå†…å­˜å¯¹é½ï¼ŒæŒ‡çš„æ˜¯å°†å¯¹è±¡çš„å†…å­˜å ç”¨å¡«å……è‡³8å­—èŠ‚çš„å€æ•°ã€‚<strong>å­˜åœ¨ç©ºé—´æµªè´¹</strong>ï¼ˆå¯¹äºHotspotæ¥è¯´ä¸å­˜åœ¨ï¼Œhotspotå³ä¾¿ä¸å¼€å¯æŒ‡é’ˆå‹ç¼©ï¼Œä¹Ÿä¼šå› ä¸ºå­—èŠ‚å¯¹é½çš„æ–¹å¼è€Œæµªè´¹ä¸€éƒ¨åˆ†ç©ºé—´ï¼‰</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-902.png" alt="img"></p>
<p>2ã€å¯»å€å¤§å°ä»…ä»…èƒ½æ”¯æŒ2çš„35 æ¬¡æ–¹ä¸ªå­—èŠ‚ï¼ˆ32GBï¼Œå¦‚æœè¶…è¿‡32GBæŒ‡é’ˆå‹ç¼©ä¼šè‡ªåŠ¨å…³é—­ï¼‰ã€‚ä¸ç”¨å‹ç¼©æŒ‡é’ˆï¼Œåº”è¯¥æ˜¯2çš„64æ¬¡æ–¹ = 16EBï¼Œç”¨äº†å‹ç¼©æŒ‡é’ˆå°±å˜æˆäº†8ï¼ˆå­—èŠ‚ï¼‰ = 2çš„3æ¬¡æ–¹ * 2çš„32æ¬¡æ–¹ = 2çš„35æ¬¡æ–¹</p>
<ul>
<li>ä¸å‹ç¼©æŒ‡é’ˆï¼š8å­—èŠ‚æŒ‡é’ˆå¯ä»¥è¡¨ç¤º2^64ä¸ªåœ°å€ï¼Œæ¯ä¸ªåœ°å€å 1å­—èŠ‚ï¼Œæ€»å…±èƒ½å¯»å€çš„ç©ºé—´å¤§å°ä¸º2^64B=16EBã€‚</li>
<li>ä½¿ç”¨å‹ç¼©æŒ‡é’ˆï¼š4å­—èŠ‚æŒ‡é’ˆå¯ä»¥è¡¨ç¤º2^32ä¸ªåœ°å€ï¼Œæ¯ä¸ªåœ°å€å 8å­—èŠ‚ï¼Œæ€»å…±èƒ½å¯»å€çš„ç©ºé—´å¤§å°ä¸º8 * 2^32B=32GBã€‚</li>
</ul>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-903.png" alt="img"></p>
<h4 id="æ¡ˆä¾‹ï¼šåœ¨hsdbå·¥å…·ä¸­éªŒè¯klass-pointeræ­£ç¡®æ€§">æ¡ˆä¾‹ï¼šåœ¨hsdbå·¥å…·ä¸­éªŒè¯klass pointeræ­£ç¡®æ€§</h4>
<p>æ“ä½œæ­¥éª¤ï¼š</p>
<p>1ã€ä½¿ç”¨JOLæ‰“å°å¯¹è±¡çš„Klass Pointerã€‚</p>
<p>2ã€ä½¿ç”¨Klass Pointerçš„åœ°å€ï¼Œåœ¨hsdbå·¥å…·ä¸­ä½¿ç”¨Inspectoræ‰¾åˆ°InstanceKlasså¯¹è±¡ã€‚</p>
<p>æ³¨æ„ï¼šç”±äºä½¿ç”¨äº†å°ç«¯å­˜å‚¨ï¼Œæ‰“å°çš„åœ°å€è¦åç€è¯»ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-906-1024x319.png" alt="img"></p>
<p>æ§åˆ¶å°jpsæ‰¾åˆ°è¿›ç¨‹idï¼Œç”¨hsdbè¿æ¥</p>
<p>è¿™ä¸ª0x254d3608å°±æ˜¯klasså¯¹è±¡çš„åœ°å€ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-905.png" alt="img"></p>
<h3 id="å†…å­˜å¯¹é½">å†…å­˜å¯¹é½</h3>
<p>å¯¹è±¡ä¸­è¿˜æœ‰ä¸€éƒ¨åˆ†å†…å®¹å°±æ˜¯å¯¹é½ã€‚å†…å­˜å¯¹é½æŒ‡çš„æ˜¯å¯¹è±¡ä¸­ä¼šç©ºå‡ºæ¥å‡ ä¸ªå­—èŠ‚ï¼Œä¸åšä»»ä½•æ•°æ®å­˜å‚¨ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-913-1024x516.png" alt="img"></p>
<p>å†…å­˜å¯¹é½è¦æ±‚æ¯ä¸ªå¯¹è±¡å­—èŠ‚æ•°æ˜¯8çš„å€æ•°ï¼Œé™¤äº†æ·»åŠ å­—èŠ‚å¡«å……ä¹‹å¤–ï¼Œè¿˜æœ‰å­—æ®µçš„è¦æ±‚ã€‚</p>
<p>åœ¨Hotspotä¸­ï¼Œè¦æ±‚æ¯ä¸ªå±æ€§çš„åç§»é‡Offsetï¼ˆå­—æ®µåœ°å€ â€“ èµ·å§‹åœ°å€ï¼‰å¿…é¡»æ˜¯å­—æ®µé•¿åº¦çš„Nå€ã€‚</p>
<p>æ¯”å¦‚ä¸‹å›¾ä¸­ï¼ŒStudentç±»ä¸­çš„idå±æ€§ç±»å‹ä¸ºlongï¼Œé‚£ä¹ˆåç§»é‡å°±å¿…é¡»æ˜¯8çš„å€æ•°ã€‚æ‰€ä»¥å°†idå’Œageçš„å­—æ®µé¡ºåºè¿›è¡Œäº†è°ƒæ•´ï¼Œè¿™ç§æ–¹å¼å«<strong>å­—æ®µé‡æ’åˆ—</strong>ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-919-1024x414.png" alt="img"></p>
<p>è¿™æ ·å¯ä»¥æ›´å®¹æ˜“è®©ä¸€ä¸ªå­—æ®µåœ¨ä¸€æ•´ä¸ªç¼“å­˜è¡Œä¸­ï¼Œæå‡ç¼“å­˜è¡Œè¯»å–çš„æ•ˆç‡ã€‚</p>
<p>å¦‚æœä¸æ»¡è¶³è¦æ±‚ï¼Œä¼šå°è¯•ä½¿ç”¨å†…å­˜å¯¹é½ï¼Œé€šè¿‡åœ¨å±æ€§ä¹‹é—´æ’å…¥ä¸€å—å¯¹é½åŒºåŸŸè¾¾åˆ°ç›®çš„ã€‚</p>
<p>å¦‚ä¸‹å›¾ä¸­ï¼Œnameå­—æ®µæ˜¯å¼•ç”¨å ç”¨8ä¸ªå­—èŠ‚ï¼ˆå…³é—­äº†æŒ‡é’ˆå‹ç¼©ï¼‰ï¼Œæ‰€ä»¥Offsetå¿…é¡»æ˜¯8çš„å€æ•°ï¼Œåœ¨ageå’Œnameä¹‹é—´æ’å…¥äº†4ä¸ªå­—èŠ‚çš„ç©ºç™½åŒºåŸŸã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-918-1024x469.png" alt="img"></p>
<p>å†…å­˜å¯¹é½çš„åˆè¡·æ˜¯ï¼š</p>
<ul>
<li>é¿å…è·¨è¶Šå¯¹é½è¾¹ç•Œè®¿é—®æ•°æ®ï¼ˆæ¯”å¦‚64ä½CPUè¯»longæ—¶è¦æ±‚8å­—èŠ‚å¯¹é½ï¼‰ï¼›</li>
<li>æå‡CPUè®¿é—®æ€§èƒ½ï¼›</li>
<li>é¿å…ç¡¬ä»¶å¼‚å¸¸ï¼ˆæŸäº›å¹³å°ä¸å…è®¸ä¸å¯¹é½è®¿é—®ï¼‰ã€‚</li>
</ul>
<p>å¹¶ä¸æ˜¯ä¸ºäº†é˜²æ­¢ç¼“å­˜å¤±æ•ˆï¼Œæ›´ä¸ç­‰äºä¼ªå…±äº«çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h4 id="æ¡ˆä¾‹ï¼šå­ç±»å’Œçˆ¶ç±»çš„åç§»é‡">æ¡ˆä¾‹ï¼šå­ç±»å’Œçˆ¶ç±»çš„åç§»é‡</h4>
<p>éœ€æ±‚ï¼š</p>
<p>é€šè¿‡å¦‚ä¸‹ä»£ç éªŒè¯ä¸‹ï¼šå­ç±»ç»§æ‰¿è‡ªçˆ¶ç±»çš„å±æ€§ï¼Œå±æ€§çš„åç§»é‡å’Œçˆ¶ç±»æ˜¯ä¸€è‡´çš„ã€‚</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop1;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    long l;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    String name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="title">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    long l;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span>&#123;</span><br><span class="line">    long l1;</span><br><span class="line">    <span class="keyword">int</span> i1;</span><br><span class="line">    String name;</span><br><span class="line">    long l2;</span><br><span class="line">    <span class="keyword">int</span> i2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-920-1024x219.png" alt="img"></p>
<h3 id="æ€»ç»“ï¼š">æ€»ç»“ï¼š</h3>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-921-1024x488.png" alt="img"></p>
<h3 id="è¡¥å……ï¼šç¼“å­˜å¤±æ•ˆï¼ˆCache-Line-Missï¼‰å’Œä¼ªå…±äº«ï¼ˆFalse-Sharingï¼‰">è¡¥å……ï¼šç¼“å­˜å¤±æ•ˆï¼ˆCache Line Missï¼‰å’Œä¼ªå…±äº«ï¼ˆFalse Sharingï¼‰</h3>
<ul>
<li>ç¼“å­˜å¤±æ•ˆæ˜¯æŒ‡ CPU æ ¸å¿ƒä¹‹é—´å› å…±äº«åŒä¸€ç¼“å­˜è¡Œè€Œé€ æˆçš„å†™å…¥è§¦å‘æ¸…ç©ºå…¶ä»–æ ¸ç¼“å­˜</li>
<li>å½“ä¸¤ä¸ªçº¿ç¨‹è®¿é—®<strong>ä¸åŒå¯¹è±¡æˆ–å­—æ®µ</strong>ï¼Œä½†è¿™äº›å­—æ®µåœ¨ <strong>åŒä¸€ç¼“å­˜è¡Œ</strong> æ—¶ï¼Œå®¹æ˜“å‘ç”Ÿâ€œä¼ªå…±äº«â€</li>
<li>å…¸å‹æƒ…æ™¯ï¼šå¯¹è±¡Açš„å­—æ®µå’Œå¯¹è±¡Bçš„å­—æ®µç´§é‚»ï¼Œè½åœ¨åŒä¸€ç¼“å­˜è¡Œå†…ï¼ˆ64å­—èŠ‚ï¼‰</li>
</ul>
<p>ä¼ªå…±äº«çš„ä¾‹å­</p>
<p>åœ¨å†…å­˜ä¸­ç¼“å­˜äº†Aå’ŒBçš„æ•°æ®</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-908-1024x419.png" alt="img"></p>
<p>Açš„æ•°æ®å†™å…¥æ—¶ï¼Œç”±äºAå’ŒBåœ¨åŒä¸€ä¸ªç¼“å­˜è¡Œä¸­ï¼Œæ‰€ä»¥Aå’ŒBçš„ç¼“å­˜æ•°æ®éƒ½ä¼šè¢«æ¸…ç©º:</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-909-1024x422.png" alt="img"></p>
<p>è¿™æ ·å°±éœ€è¦å†ä»å†…å­˜ä¸­è¯»å–ä¸€æ¬¡ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-910-1024x420.png" alt="img"></p>
<p>è¯¥ä¾‹å›¾ç¡®å®æƒ³è¯´æ˜ A å’Œ B å¯¹è±¡å­—æ®µè½åœ¨åŒä¸€ç¼“å­˜è¡Œæ—¶ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹å†™äº† Aï¼Œä¼šå¯¼è‡´ B æ‰€åœ¨ CPU æ ¸çš„ç¼“å­˜æ— æ•ˆï¼Œä»è€Œè¯»å–ä¼š missã€‚è¿™æ˜¯<strong>ä¼ªå…±äº«é—®é¢˜çš„ç»å…¸ä¾‹å­</strong>ï¼Œ<strong>ä½†ä¸æ˜¯å†…å­˜å¯¹é½èƒ½è§£å†³çš„</strong>ã€‚</p>
<p>æ³¨æ„:JVM çš„å¯¹è±¡å†…å­˜å¯¹é½ï¼ˆæ¯”å¦‚è¡¥åˆ° 8 å­—èŠ‚ï¼‰ä¸»è¦æ˜¯ä¸ºäº†<strong>æ»¡è¶³å¹³å°è®¿é—®è¦æ±‚ï¼Œæé«˜è¯»å–æ•ˆç‡</strong>ï¼Œå¹¶ä¸èƒ½<strong>ä¿è¯å­—æ®µä¸ä¼šå…±äº«ç¼“å­˜è¡Œ</strong>ã€‚<br>
å¦‚æœè¦<strong>ä»æ ¹æœ¬ä¸Šé¿å…ä¼ªå…±äº«</strong>ï¼Œéœ€è¦ç”¨ <code>@sun.misc.Contended</code> æ³¨è§£è®©å­—æ®µ<strong>å¼ºåˆ¶åˆ†éš”å¼€ï¼Œè½åœ¨ä¸åŒç¼“å­˜è¡Œä¸Š</strong>ï¼ˆ64å­—èŠ‚å¯¹é½æˆ–æ›´å¤š paddingï¼‰ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-914.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-916.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-911.png" alt="img"></p>
<h2 id="3ã€æ–¹æ³•è°ƒç”¨çš„åŸç†">3ã€æ–¹æ³•è°ƒç”¨çš„åŸç†</h2>
<p>æ–¹æ³•è°ƒç”¨çš„æœ¬è´¨æ˜¯é€šè¿‡å­—èŠ‚ç æŒ‡ä»¤çš„æ‰§è¡Œï¼Œèƒ½åœ¨æ ˆä¸Šåˆ›å»ºæ ˆå¸§ï¼Œå¹¶æ‰§è¡Œè°ƒç”¨æ–¹æ³•ä¸­çš„å­—èŠ‚ç æ‰§è¡Œã€‚ä»¥invokeå¼€å¤´çš„å­—èŠ‚ç æŒ‡ä»¤çš„ä½œç”¨æ˜¯æ‰§è¡Œæ–¹æ³•çš„è°ƒç”¨ã€‚</p>
<p>1ã€è°ƒç”¨studyæ–¹æ³•ï¼Œä¼šæ‰§è¡ŒinvokestaticæŒ‡ä»¤ï¼ŒJavaè™šæ‹Ÿæœºæ‰¾åˆ°#2å¯¹åº”çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯studyæ–¹æ³•ï¼Œåˆ›å»ºæ ˆå¸§ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-922-1024x393.png" alt="img"></p>
<p>2ã€eatå’Œsleepæ–¹æ³•ä¹Ÿæ˜¯ç±»ä¼¼çš„å¤„ç†æ–¹å¼ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-923-1024x406.png" alt="img"></p>
<p>3ã€æ–¹æ³•æ ˆå¸§åˆ›å»ºä¹‹åï¼Œå°±å¯ä»¥æ‰§è¡Œæ–¹æ³•é‡Œçš„å­—èŠ‚ç æŒ‡ä»¤äº†ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-924-1024x402.png" alt="img"></p>
<p>åœ¨JVMä¸­ï¼Œä¸€å…±æœ‰äº”ä¸ªå­—èŠ‚ç æŒ‡ä»¤å¯ä»¥æ‰§è¡Œæ–¹æ³•è°ƒç”¨ï¼š</p>
<p>1ã€invokestaticï¼šè°ƒç”¨é™æ€æ–¹æ³•</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-925-1024x336.png" alt="img"></p>
<p>2ã€invokespecial: è°ƒç”¨å¯¹è±¡çš„privateæ–¹æ³•ã€æ„é€ æ–¹æ³•ï¼Œä»¥åŠä½¿ç”¨ super å…³é”®å­—è°ƒç”¨çˆ¶ç±»å®ä¾‹çš„æ–¹æ³•ã€æ„é€ æ–¹æ³•ï¼Œä»¥åŠæ‰€å®ç°æ¥å£çš„é»˜è®¤æ–¹æ³•</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-926-1024x379.png" alt="img"></p>
<p>3ã€invokevirtualï¼šè°ƒç”¨å¯¹è±¡çš„éprivateæ–¹æ³•ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-927-1024x332.png" alt="img"></p>
<p>4ã€invokeinterfaceï¼šè°ƒç”¨æ¥å£å¯¹è±¡çš„æ–¹æ³•ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-928-1024x386.png" alt="img"></p>
<p>5ã€invokedynamicï¼šç”¨äºè°ƒç”¨åŠ¨æ€æ–¹æ³•ï¼Œä¸»è¦åº”ç”¨äºlambdaè¡¨è¾¾å¼ä¸­ï¼Œæœºåˆ¶æä¸ºå¤æ‚äº†è§£å³å¯ã€‚</p>
<p><strong>Invokeæ–¹æ³•çš„æ ¸å¿ƒä½œç”¨å°±æ˜¯æ‰¾åˆ°å­—èŠ‚ç æŒ‡ä»¤å¹¶æ‰§è¡Œã€‚</strong></p>
<p>InvokeæŒ‡ä»¤æ‰§è¡Œæ—¶ï¼Œéœ€è¦æ‰¾åˆ°æ–¹æ³•åŒºä¸­instanceKlassä¸­ä¿å­˜çš„æ–¹æ³•ç›¸å…³çš„å­—èŠ‚ç ä¿¡æ¯ã€‚ä½†æ˜¯æ–¹æ³•åŒºä¸­æœ‰å¾ˆå¤šç±»ï¼Œæ¯ä¸€ä¸ªç±»åˆåŒ…å«å¾ˆå¤šä¸ªæ–¹æ³•ï¼Œæ€ä¹ˆç²¾ç¡®åœ°å®šä½åˆ°æ–¹æ³•çš„ä½ç½®å‘¢ï¼Ÿ</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-929.png" alt="img"></p>
<h3 id="æ–¹æ¡ˆä¸€-é™æ€ç»‘å®š">æ–¹æ¡ˆä¸€ é™æ€ç»‘å®š</h3>
<p>1ã€ç¼–è¯‘æœŸé—´ï¼ŒinvokeæŒ‡ä»¤ä¼šæºå¸¦ä¸€ä¸ªå‚æ•°ç¬¦å·å¼•ç”¨ï¼Œå¼•ç”¨åˆ°å¸¸é‡æ± ä¸­çš„æ–¹æ³•å®šä¹‰ã€‚æ–¹æ³•å®šä¹‰ä¸­åŒ…å«äº†<strong>ç±»å + æ–¹æ³•å + è¿”å›å€¼ + å‚æ•°</strong>ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-930.png" alt="img"></p>
<p>2ã€åœ¨æ–¹æ³•ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ï¼Œè¿™äº›ç¬¦å·å¼•ç”¨å°±ä¼šè¢«æ›¿æ¢æˆå†…å­˜åœ°å€çš„ç›´æ¥å¼•ç”¨ï¼Œè¿™ç§æ–¹å¼ç§°ä¹‹ä¸ºé™æ€ç»‘å®šã€‚</p>
<p>ï¼ˆJVMåœ¨æ–¹æ³•ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ï¼Œä¼šå°†æŒ‡å‘å¸¸é‡æ± ä¸­æ–¹æ³•å®šä¹‰çš„<strong>ç¬¦å·å¼•ç”¨è½¬æ¢æˆ</strong>æŒ‡å‘æ–¹æ³•åŒºä¸­è¯¥<strong>æ–¹æ³•</strong>ç›¸å…³çš„å­—èŠ‚ç ä¿¡æ¯<strong>çš„</strong>å†…å­˜åœ°å€çš„<strong>ç›´æ¥å¼•ç”¨</strong>ï¼‰</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-931.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-932.png" alt="img"></p>
<p>é™æ€ç»‘å®š<strong>é€‚ç”¨äºå¤„ç†é™æ€æ–¹æ³•ã€ç§æœ‰æ–¹æ³•ã€æˆ–è€…ä½¿ç”¨finalä¿®é¥°çš„æ–¹æ³•</strong>ï¼Œå› ä¸ºè¿™äº›æ–¹æ³•ä¸èƒ½è¢«ç»§æ‰¿ä¹‹åé‡å†™ã€‚</p>
<p>invokestatic</p>
<p>invokespecial</p>
<p>finalä¿®é¥°çš„invokevirtual</p>
<h3 id="æ–¹æ¡ˆäºŒåŠ¨æ€ç»‘å®š">æ–¹æ¡ˆäºŒåŠ¨æ€ç»‘å®š</h3>
<p>å¯¹äºéstaticã€éprivateã€éfinalçš„æ–¹æ³•ï¼Œæœ‰å¯èƒ½å­˜åœ¨å­ç±»é‡å†™æ–¹æ³•ï¼Œé‚£ä¹ˆå°±éœ€è¦é€šè¿‡åŠ¨æ€ç»‘å®šæ¥å®Œæˆæ–¹æ³•åœ°å€ç»‘å®šçš„å·¥ä½œã€‚</p>
<p>æ¯”å¦‚åœ¨è¿™æ®µä»£ç ä¸­ï¼Œè°ƒç”¨çš„å…¶å®æ˜¯Catç±»å¯¹è±¡çš„eatæ–¹æ³•ï¼Œä½†æ˜¯ç¼–è¯‘å®Œä¹‹åè™šæ‹ŸæœºæŒ‡ä»¤ä¸­è°ƒç”¨çš„æ˜¯Animalç±»çš„eatæ–¹æ³•ï¼Œè¿™å°±éœ€è¦åœ¨è¿è¡Œè¿‡ç¨‹ä¸­é€šè¿‡åŠ¨æ€ç»‘å®šæ‰¾åˆ°Catç±»çš„eatæ–¹æ³•ï¼Œè¿™æ ·å°±å®ç°äº†å¤šæ€ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-933-1024x397.png" alt="img"></p>
<p>åŠ¨æ€ç»‘å®šæ˜¯åŸºäºæ–¹æ³•è¡¨æ¥å®Œæˆçš„ï¼Œinvokevirtualä½¿ç”¨äº†è™šæ–¹æ³•è¡¨ï¼ˆvtableï¼‰ï¼Œinvokeinterfaceä½¿ç”¨äº†æ¥å£æ–¹æ³•è¡¨(itable)ï¼Œæ•´ä½“æ€è·¯ç±»ä¼¼ã€‚æ‰€ä»¥æ¥ä¸‹æ¥ä½¿ç”¨invokevirtualå’Œè™šæ–¹æ³•è¡¨æ¥è§£é‡Šæ•´ä¸ªè¿‡ç¨‹ã€‚</p>
<p>æ¯ä¸ªç±»ä¸­éƒ½æœ‰ä¸€ä¸ªè™šæ–¹æ³•è¡¨ï¼Œæœ¬è´¨ä¸Šå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè®°å½•äº†æ–¹æ³•çš„åœ°å€ã€‚å­ç±»æ–¹æ³•è¡¨ä¸­åŒ…å«çˆ¶ç±»æ–¹æ³•è¡¨ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼›å­ç±»å¦‚æœé‡å†™äº†çˆ¶ç±»æ–¹æ³•ï¼Œåˆ™ä½¿ç”¨è‡ªå·±ç±»ä¸­æ–¹æ³•çš„åœ°å€è¿›è¡Œæ›¿æ¢ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-934-1024x304.png" alt="img"></p>
<p>äº§ç”Ÿinvokevirtualè°ƒç”¨æ—¶ï¼Œå…ˆæ ¹æ®å¯¹è±¡å¤´ä¸­çš„ç±»å‹æŒ‡é’ˆæ‰¾åˆ°æ–¹æ³•åŒºä¸­InstanceClasså¯¹è±¡ï¼Œè·å¾—è™šæ–¹æ³•è¡¨ã€‚å†æ ¹æ®è™šæ–¹æ³•è¡¨æ‰¾åˆ°å¯¹åº”çš„å¯¹æ–¹ï¼Œè·å¾—æ–¹æ³•çš„åœ°å€ï¼Œæœ€åè°ƒç”¨æ–¹æ³•ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-935-1024x439.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> invokemethod;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-XX:-UseCompressedOops</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Animal&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        animal.eat();</span><br><span class="line">        System.in.read();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åƒé±¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">jump</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çŒ«è·³äº†ä¸€ä¸‹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å•ƒéª¨å¤´&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ¼”ç¤ºåŠ¨æ€ç»‘å®šï¼š</strong></p>
<p>1ã€åœ¨HSDBä¸­ï¼Œæ‰“å¼€QueryæŸ¥è¯¢ç•Œé¢ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-937.png" alt="img"></p>
<p>2ã€å†™ä¸Šç±»ä¼¼SQLçš„æŸ¥è¯¢è¯­å¥ï¼ŒæŸ¥è¯¢Catç±»ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-936.png" alt="img"></p>
<p>3ã€æŸ¥åˆ°äº†è¿™ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯çœ‹ä¸åˆ°è™šæ–¹æ³•è¡¨é‡Œçš„å†…å®¹ï¼Œè™šæ–¹æ³•è¡¨æ•°ç»„é•¿åº¦ä¸º7ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-938.png" alt="img"></p>
<p>4ã€æ‰“å¼€æ§åˆ¶å°ç•Œé¢ã€‚æŸ¥è¯¢2ä¸ªå­—wordé•¿åº¦çš„å†…å®¹ï¼Œä¸€ä¸ªå­—ä»£è¡¨CPUå­—é•¿ï¼Œ32ä½4ä¸ªå­—èŠ‚ï¼Œ64ä½8ä¸ªå­—èŠ‚ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-939.png" alt="img"></p>
<p>5ã€è·å¾—ç¬¬äºŒä¸ªå­—çš„å†…å®¹ï¼Œç¬¬ä¸€ä¸ª8å­—èŠ‚æ˜¯markwordï¼Œç¬¬äºŒä¸ª8å­—èŠ‚å°±æŒ‡å‘InstanceKlasså¯¹è±¡ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-940.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-941.png" alt="img"></p>
<p>ä½†æ˜¯å¾ˆé—æ†¾ï¼Œè¿˜æ˜¯çœ‹ä¸åˆ°å…·ä½“çš„å†…å®¹ï¼Œhsdbæ²¡æœ‰æ˜¾ç¤ºé‚£ä¹ˆæ¸…æ¥šã€‚</p>
<p>6ã€ç›´æ¥æ ¹æ®å›ºå®šçš„åç§»é‡è®¡ç®—è™šæ–¹æ³•è¡¨çš„åœ°å€ï¼Œåˆå§‹åœ°å€+1B8:</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-942.png" alt="img"></p>
<p>7ã€é€šè¿‡æ§åˆ¶å°çš„memå‘½ä»¤æŸ¥è¯¢ï¼Œé•¿åº¦ä¸º7ï¼Œå°±æŸ¥7ä¸ªå­—é•¿ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-943.png" alt="img"></p>
<p>8ã€å³è¾¹æ˜¾ç¤ºçš„å°±æ˜¯æ–¹æ³•çš„åœ°å€ã€‚è¿™äº›æ–¹æ³•ä¸æ˜¯æ¥è‡ªäºçˆ¶ç±»ï¼Œå¯å°±æ˜¯æ¥è‡ªäºå½“å‰ç±»ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-944.png" alt="img"></p>
<p>äº§ç”Ÿinvokevirtualè°ƒç”¨æ—¶ï¼Œå…ˆæ ¹æ®å¯¹è±¡å¤´ä¸­çš„ç±»å‹æŒ‡é’ˆæ‰¾åˆ°æ–¹æ³•åŒºä¸­InstanceClasså¯¹è±¡ï¼Œè·å¾—è™šæ–¹æ³•è¡¨ã€‚å†æ ¹æ®è™šæ–¹æ³•è¡¨æ‰¾åˆ°å¯¹åº”çš„å¯¹æ–¹ï¼Œè·å¾—æ–¹æ³•çš„åœ°å€ï¼Œæœ€åè°ƒç”¨æ–¹æ³•ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-945-1024x315.png" alt="img"></p>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-946-1024x438.png" alt="img"></p>
<h2 id="4ã€å¼‚å¸¸æ•è·çš„åŸç†">4ã€å¼‚å¸¸æ•è·çš„åŸç†</h2>
<p>åœ¨Javaä¸­ï¼Œç¨‹åºé‡åˆ°å¼‚å¸¸æ—¶ä¼šå‘å¤–æŠ›å‡ºï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨try-catchæ•è·å¼‚å¸¸çš„æ–¹å¼å°†å¼‚å¸¸æ•è·å¹¶ç»§ç»­è®©ç¨‹åºæŒ‰ç¨‹åºå‘˜è®¾è®¡å¥½çš„æ–¹å¼è¿è¡Œã€‚æ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼šåœ¨tryä»£ç å—ä¸­å¦‚æœæŠ›å‡ºäº†Exceptionå¯¹è±¡æˆ–è€…å­ç±»å¯¹è±¡ï¼Œåˆ™ä¼šè¿›å…¥catchåˆ†æ”¯ã€‚</p>
<p>å¼‚å¸¸æ•è·æœºåˆ¶çš„å®ç°ï¼Œéœ€è¦å€ŸåŠ©äºç¼–è¯‘æ—¶ç”Ÿæˆçš„<strong>å¼‚å¸¸è¡¨</strong>ã€‚</p>
<p>å¼‚å¸¸è¡¨åœ¨ç¼–è¯‘æœŸç”Ÿæˆï¼Œå­˜æ”¾çš„æ˜¯ä»£ç ä¸­å¼‚å¸¸çš„å¤„ç†ä¿¡æ¯ï¼ŒåŒ…å«äº†å¼‚å¸¸æ•è·çš„ç”Ÿæ•ˆèŒƒå›´ä»¥åŠå¼‚å¸¸å‘ç”Ÿåè·³è½¬åˆ°çš„å­—èŠ‚ç æŒ‡ä»¤ä½ç½®ã€‚</p>
<p>èµ·å§‹/ç»“æŸPCï¼šæ­¤æ¡å¼‚å¸¸æ•è·ç”Ÿæ•ˆçš„å­—èŠ‚ç èµ·å§‹/ç»“æŸä½ç½®ã€‚</p>
<p>è·³è½¬PCï¼šå¼‚å¸¸æ•è·ä¹‹åï¼Œè·³è½¬åˆ°çš„å­—èŠ‚ç ä½ç½®ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-947.png" alt="img"></p>
<p>åœ¨ä½ç½®2åˆ°4å­—èŠ‚ç æŒ‡ä»¤æ‰§è¡ŒèŒƒå›´å†…ï¼Œå¦‚æœå‡ºç°äº†Exceptionå¯¹è±¡çš„å¼‚å¸¸æˆ–è€…å­ç±»å¯¹è±¡å¼‚å¸¸ï¼Œç›´æ¥è·³è½¬åˆ°ä½ç½®7çš„æŒ‡ä»¤ã€‚ä¹Ÿå°±æ˜¯i = 2ä»£ç ä½ç½®ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-948-1024x349.png" alt="img"></p>
<p>ç¨‹åºè¿è¡Œä¸­è§¦å‘å¼‚å¸¸æ—¶ï¼ŒJava è™šæ‹Ÿæœºä¼šä»ä¸Šè‡³ä¸‹éå†å¼‚å¸¸è¡¨ä¸­çš„æ‰€æœ‰æ¡ç›®ã€‚å½“è§¦å‘å¼‚å¸¸çš„å­—èŠ‚ç çš„ç´¢å¼•å€¼åœ¨æŸä¸ªå¼‚å¸¸è¡¨æ¡ç›®çš„ç›‘æ§èŒƒå›´å†…ï¼ŒJava è™šæ‹Ÿæœºä¼šåˆ¤æ–­æ‰€æŠ›å‡ºçš„å¼‚å¸¸å’Œè¯¥æ¡ç›®æƒ³è¦æ•è·çš„å¼‚å¸¸æ˜¯å¦åŒ¹é…ã€‚</p>
<p>1ã€å¦‚æœåŒ¹é…ï¼Œè·³è½¬åˆ°â€œè·³è½¬PCâ€å¯¹åº”çš„å­—èŠ‚ç ä½ç½®ã€‚</p>
<p>2ã€å¦‚æœéå†å®Œéƒ½ä¸èƒ½åŒ¹é…ï¼Œè¯´æ˜å¼‚å¸¸æ— æ³•åœ¨å½“å‰æ–¹æ³•æ‰§è¡Œæ—¶è¢«æ•è·ï¼Œæ­¤æ–¹æ³•æ ˆå¸§ç›´æ¥å¼¹å‡ºï¼Œåœ¨ä¸Šä¸€å±‚çš„æ ˆå¸§ä¸­è¿›è¡Œå¼‚å¸¸æ•è·çš„æŸ¥è¯¢ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-949.png" alt="img"></p>
<p>å¤šä¸ªcatchåˆ†æ”¯æƒ…å†µä¸‹ï¼Œå¼‚å¸¸è¡¨ä¼šä»ä¸Šå¾€ä¸‹éå†ï¼Œå…ˆæ•è·RuntimeExceptionï¼Œå¦‚æœæ•è·ä¸äº†ï¼Œå†æ•è·Exceptionã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-950-1024x368.png" alt="img"></p>
<p>finallyçš„å¤„ç†æ–¹å¼å°±ç›¸å¯¹æ¯”è¾ƒå¤æ‚ä¸€ç‚¹äº†ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<p>1ã€finallyä¸­çš„å­—èŠ‚ç æŒ‡ä»¤ä¼šæ’å…¥åˆ°try å’Œ catchä»£ç å—ä¸­,ä¿è¯åœ¨tryå’Œcatchæ‰§è¡Œä¹‹åä¸€å®šä¼šæ‰§è¡Œfinallyä¸­çš„ä»£ç ã€‚</p>
<p>å¦‚ä¸‹ï¼Œåœ¨<code>i=1</code>å’Œ<code>i=2</code>ä¸¤æ®µå­—èŠ‚ç æŒ‡ä»¤ä¹‹åï¼Œéƒ½åŠ å…¥äº†finallyä¸‹çš„å­—èŠ‚ç æŒ‡ä»¤ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-951.png" alt="img"></p>
<p>2ã€å¦‚æœæŠ›å‡ºçš„å¼‚å¸¸èŒƒå›´è¶…è¿‡äº†Exceptionï¼Œæ¯”å¦‚Erroræˆ–è€…Throwableï¼Œæ­¤æ—¶ä¹Ÿè¦æ‰§è¡Œfinallyï¼Œæ‰€ä»¥å¼‚å¸¸è¡¨ä¸­å¢åŠ äº†ä¸¤ä¸ªæ¡ç›®ã€‚è¦†ç›–äº†tryå’Œcatchä¸¤æ®µå­—èŠ‚ç æŒ‡ä»¤çš„èŒƒå›´ï¼Œanyä»£è¡¨å¯ä»¥æ•è·æ‰€æœ‰ç§ç±»çš„å¼‚å¸¸ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-952-1024x412.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-953.png" alt="img"></p>
<h2 id="5ã€JITå³æ—¶ç¼–è¯‘å™¨">5ã€JITå³æ—¶ç¼–è¯‘å™¨</h2>
<p>åœ¨Javaä¸­ï¼Œ<strong>JITå³æ—¶ç¼–è¯‘å™¨æ˜¯ä¸€é¡¹ç”¨æ¥æå‡åº”ç”¨ç¨‹åºä»£ç æ‰§è¡Œæ•ˆç‡çš„æŠ€æœ¯</strong>ã€‚å­—èŠ‚ç æŒ‡ä»¤è¢« Java è™šæ‹Ÿæœºè§£é‡Šæ‰§è¡Œï¼Œå¦‚æœæœ‰ä¸€äº›æŒ‡ä»¤æ‰§è¡Œé¢‘ç‡é«˜ï¼Œç§°ä¹‹ä¸ºçƒ­ç‚¹ä»£ç ï¼Œè¿™äº›å­—èŠ‚ç æŒ‡ä»¤åˆ™è¢«JITå³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘æˆæœºå™¨ç åŒæ—¶è¿›è¡Œä¸€äº›ä¼˜åŒ–ï¼Œæœ€åä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå°†æ¥æ‰§è¡Œæ—¶ç›´æ¥è¯»å–å°±å¯ä»¥è¿è¡Œåœ¨è®¡ç®—æœºç¡¬ä»¶ä¸Šäº†ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-954-1024x347.png" alt="img"></p>
<p>HotSpotä¸­ï¼Œæœ‰ä¸‰æ¬¾å³æ—¶ç¼–è¯‘å™¨ï¼ŒC1ã€C2å’ŒGraalï¼Œå…¶ä¸­Graalåœ¨GraalVMç« èŠ‚ä¸­å·²ç»ä»‹ç»è¿‡ã€‚</p>
<p>C1ç¼–è¯‘æ•ˆç‡æ¯”C2å¿«ï¼Œä½†æ˜¯ä¼˜åŒ–æ•ˆæœä¸å¦‚C2ã€‚æ‰€ä»¥C1é€‚åˆä¼˜åŒ–ä¸€äº›æ‰§è¡Œæ—¶é—´è¾ƒçŸ­çš„ä»£ç ï¼ŒC2é€‚åˆä¼˜åŒ–æœåŠ¡ç«¯ç¨‹åºä¸­é•¿æœŸæ‰§è¡Œçš„ä»£ç ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-955-1024x396.png" alt="img"></p>
<p>JDK7ä¹‹åï¼Œé‡‡ç”¨äº†åˆ†å±‚ç¼–è¯‘çš„æ–¹å¼ï¼Œåœ¨JVMä¸­C1å’ŒC2ä¼šä¸€åŒå‘æŒ¥ä½œç”¨ï¼Œåˆ†å±‚ç¼–è¯‘å°†æ•´ä¸ªä¼˜åŒ–çº§åˆ«åˆ†æˆäº†5ä¸ªç­‰çº§ã€‚</p>
<table>
<thead>
<tr>
<th>ç­‰çº§</th>
<th>ä½¿ç”¨çš„ç»„ä»¶</th>
<th>æè¿°</th>
<th>ä¿å­˜çš„å†…å®¹</th>
<th>æ€§èƒ½æ‰“åˆ†ï¼ˆ1 - 5ï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>è§£é‡Šå™¨</td>
<td>è§£é‡Šæ‰§è¡Œè®°å½•æ–¹æ³•è°ƒç”¨æ¬¡æ•°åŠå¾ªç¯æ¬¡æ•°</td>
<td>æ— </td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>C1å³æ—¶ç¼–è¯‘å™¨</td>
<td>C1å®Œæ•´ä¼˜åŒ–</td>
<td>ä¼˜åŒ–åçš„æœºå™¨ç </td>
<td>4</td>
</tr>
<tr>
<td>2</td>
<td>C1å³æ—¶ç¼–è¯‘å™¨</td>
<td>C1å®Œæ•´ä¼˜åŒ–è®°å½•æ–¹æ³•è°ƒç”¨æ¬¡æ•°åŠå¾ªç¯æ¬¡æ•°</td>
<td>ä¼˜åŒ–åçš„æœºå™¨ç éƒ¨åˆ†é¢å¤–ä¿¡æ¯ï¼šæ–¹æ³•è°ƒç”¨æ¬¡æ•°åŠå¾ªç¯æ¬¡æ•°</td>
<td>3</td>
</tr>
<tr>
<td>3</td>
<td>C1å³æ—¶ç¼–è¯‘å™¨</td>
<td>C1å®Œæ•´ä¼˜åŒ–è®°å½•æ‰€æœ‰é¢å¤–ä¿¡æ¯</td>
<td>ä¼˜åŒ–åçš„æœºå™¨ç æ‰€æœ‰é¢å¤–ä¿¡æ¯ï¼šåˆ†æ”¯è·³è½¬æ¬¡æ•°ã€ç±»å‹è½¬æ¢ç­‰ç­‰</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>C2å³æ—¶ç¼–è¯‘å™¨</td>
<td>C2å®Œæ•´ä¼˜åŒ–</td>
<td>ä¼˜åŒ–åçš„æœºå™¨ç </td>
<td>5</td>
</tr>
</tbody>
</table>
<p>C1å³æ—¶ç¼–è¯‘å™¨å’ŒC2å³æ—¶ç¼–è¯‘å™¨éƒ½æœ‰ç‹¬ç«‹çš„çº¿ç¨‹å»è¿›è¡Œå¤„ç†ï¼Œå†…éƒ¨ä¼šä¿å­˜ä¸€ä¸ªé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸­å­˜æ”¾éœ€è¦ç¼–è¯‘çš„ä»»åŠ¡ã€‚ä¸€èˆ¬å³æ—¶ç¼–è¯‘å™¨æ˜¯é’ˆå¯¹æ–¹æ³•çº§åˆ«æ¥è¿›è¡Œä¼˜åŒ–çš„ï¼Œå½“ç„¶ä¹Ÿæœ‰å¯¹å¾ªç¯è¿›è¡Œä¼˜åŒ–çš„è®¾è®¡ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-956-1024x434.png" alt="img"></p>
<p>è¯¦ç»†æ¥çœ‹çœ‹C1å’ŒC2æ˜¯å¦‚ä½•è¿›è¡Œåä½œçš„ï¼š</p>
<p>1ã€å…ˆç”±C1æ‰§è¡Œè¿‡ç¨‹ä¸­æ”¶é›†æ‰€æœ‰è¿è¡Œä¸­çš„ä¿¡æ¯ï¼Œæ–¹æ³•æ‰§è¡Œæ¬¡æ•°ã€å¾ªç¯æ‰§è¡Œæ¬¡æ•°ã€åˆ†æ”¯æ‰§è¡Œæ¬¡æ•°ç­‰ç­‰ï¼Œç„¶åç­‰å¾…æ‰§è¡Œæ¬¡æ•°è§¦å‘é˜ˆå€¼ï¼ˆåˆ†å±‚å³æ—¶ç¼–è¯‘ç”±JVMåŠ¨æ€è®¡ç®—ï¼‰ä¹‹åï¼Œè¿›å…¥C2å³æ—¶ç¼–è¯‘å™¨è¿›è¡Œæ·±å±‚æ¬¡çš„ä¼˜åŒ–ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-957-1024x146.png" alt="img"></p>
<p>2ã€æ–¹æ³•å­—èŠ‚ç æ‰§è¡Œæ•°ç›®è¿‡å°‘ï¼Œå…ˆæ”¶é›†ä¿¡æ¯ï¼ŒJVMåˆ¤æ–­C1å’ŒC2ä¼˜åŒ–æ€§èƒ½å·®ä¸å¤šï¼Œé‚£ä¹‹åè½¬ä¸ºä¸æ”¶é›†ä¿¡æ¯ï¼Œç”±C1ç›´æ¥è¿›è¡Œä¼˜åŒ–ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-958-1024x130.png" alt="img"></p>
<p>3ã€C1çº¿ç¨‹éƒ½åœ¨å¿™ç¢Œçš„æƒ…å†µä¸‹ï¼Œç›´æ¥ç”±C2è¿›è¡Œä¼˜åŒ–ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-959-1024x155.png" alt="img"></p>
<p>4ã€C2çº¿ç¨‹å¿™ç¢Œæ—¶ï¼Œå…ˆç”±2å±‚C1ç¼–è¯‘æ”¶é›†ä¸€äº›åŸºç¡€ä¿¡æ¯ï¼Œå¤šè¿è¡Œä¸€ä¼šå„¿ï¼Œç„¶åå†äº¤ç”±3å±‚C1å¤„ç†ï¼Œç”±äº3å±‚C1å¤„ç†æ•ˆç‡ä¸é«˜ï¼Œæ‰€ä»¥å°½é‡å‡å°‘è¿™ä¸€å±‚åœç•™æ—¶é—´ï¼ˆC2å¿™ç¢Œç€ï¼Œä¸€ç›´æ”¶é›†ä¹Ÿæ²¡æœ‰æ„ä¹‰ï¼‰ï¼Œæœ€åC2çº¿ç¨‹ä¸å¿™ç¢Œäº†å†äº¤ç”±C2è¿›è¡Œå¤„ç†ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-960-1024x127.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-961-1024x587.png" alt="img"></p>
<h3 id="æ¡ˆä¾‹ï¼šæµ‹è¯•JITå³æ—¶ç¼–è¯‘å™¨çš„ä¼˜åŒ–æ•ˆæœ">æ¡ˆä¾‹ï¼šæµ‹è¯•JITå³æ—¶ç¼–è¯‘å™¨çš„ä¼˜åŒ–æ•ˆæœ</h3>
<p>éœ€æ±‚ï¼š</p>
<p>1ã€ç¼–å†™JMHæ¡ˆä¾‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.sample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.annotations.*;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.infra.Blackhole;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.Runner;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.RunnerException;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.options.Options;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.options.OptionsBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"><span class="comment">//æ‰§è¡Œ5è½®é¢„çƒ­ï¼Œæ¯æ¬¡æŒç»­1ç§’</span></span><br><span class="line"><span class="meta">@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)</span></span><br><span class="line"><span class="comment">//æ‰§è¡Œä¸€æ¬¡æµ‹è¯•</span></span><br><span class="line"><span class="meta">@Fork(value = 1, jvmArgsAppend = &#123;&quot;-Xms1g&quot;, &quot;-Xmx1g&quot;&#125;)</span></span><br><span class="line"><span class="comment">//æ˜¾ç¤ºå¹³å‡æ—¶é—´ï¼Œå•ä½çº³ç§’</span></span><br><span class="line"><span class="meta">@BenchmarkMode(Mode.AverageTime)</span></span><br><span class="line"><span class="meta">@OutputTimeUnit(TimeUnit.NANOSECONDS)</span></span><br><span class="line"><span class="meta">@State(Scope.Benchmark)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyJITBenchmark</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span> <span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">jitTest</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10000000</span>; i++) &#123;</span><br><span class="line">            sum = add(sum,<span class="number">100</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç¦ç”¨JIT</span></span><br><span class="line">    <span class="meta">@Benchmark</span></span><br><span class="line">    <span class="meta">@Fork(value = 1,jvmArgsAppend = &#123;&quot;-Xint&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testNoJIT</span><span class="params">(Blackhole blackhole)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> jitTest();</span><br><span class="line">        blackhole.consume(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åªä½¿ç”¨C1 1å±‚</span></span><br><span class="line">    <span class="meta">@Benchmark</span></span><br><span class="line">    <span class="meta">@Fork(value = 1,jvmArgsAppend = &#123;&quot;-XX:TieredStopAtLevel=1&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testC1</span><span class="params">(Blackhole blackhole)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> jitTest();</span><br><span class="line">        blackhole.consume(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ†å±‚ç¼–è¯‘</span></span><br><span class="line">    <span class="meta">@Benchmark</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMethod</span><span class="params">(Blackhole blackhole)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> jitTest();</span><br><span class="line">        blackhole.consume(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> RunnerException &#123;</span><br><span class="line">        <span class="type">Options</span> <span class="variable">opt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OptionsBuilder</span>()</span><br><span class="line">                .include(MyJITBenchmark.class.getSimpleName())</span><br><span class="line">                .forks(<span class="number">1</span>)</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Runner</span>(opt).run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2ã€åˆ†åˆ«é‡‡ç”¨ä¸‰ç§ä¸åŒè™šæ‹Ÿæœºå‚æ•°æµ‹è¯•JITä¼˜åŒ–æ•ˆæœï¼šä¸åŠ å‚æ•°ï¼ˆå¼€å¯å®Œå…¨JITå³æ—¶ç¼–è¯‘ï¼‰ï¼Œ-Xintï¼ˆå…³é—­JITåªä½¿ç”¨è§£é‡Šå™¨ï¼‰ã€-XX:TieredStopAtLevel=1ï¼ˆåˆ†å±‚ç¼–è¯‘ä¸‹åªä½¿ç”¨1å±‚C1è¿›è¡Œç¼–è¯‘ï¼‰</p>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-962.png" alt="img"></p>
<h3 id="JITç¼–è¯‘å™¨ä¼˜åŒ–æ‰‹æ®µ">JITç¼–è¯‘å™¨ä¼˜åŒ–æ‰‹æ®µ</h3>
<p>JITç¼–è¯‘å™¨ä¸»è¦ä¼˜åŒ–æ‰‹æ®µæ˜¯<strong>æ–¹æ³•å†…è”</strong>å’Œ<strong>é€ƒé€¸åˆ†æ</strong>ã€‚</p>
<h4 id="æ–¹æ³•å†…è”">-æ–¹æ³•å†…è”</h4>
<p>æ–¹æ³•å†…è”ï¼ˆMethod Inlineï¼‰ï¼šæ–¹æ³•ä½“ä¸­çš„å­—èŠ‚ç æŒ‡ä»¤ç›´æ¥å¤åˆ¶åˆ°è°ƒç”¨æ–¹çš„å­—èŠ‚ç æŒ‡ä»¤ä¸­ï¼ŒèŠ‚çœäº†åˆ›å»ºæ ˆå¸§çš„å¼€é”€ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-963.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-964.png" alt="img"></p>
<p>1.å®‰è£…</p>
<p>2.ä½¿ç”¨èµ„æ–™ä¸­æä¾›çš„è„šæœ¬æ–‡ä»¶ç›´æ¥å¯åŠ¨ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-965.png" alt="img"></p>
<p>3ã€æ·»åŠ æºä»£ç ç›®å½•ï¼Œç‚¹å‡»æ²™ç®±ç¯å¢ƒRUNï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-970.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-966.png" alt="img"></p>
<p>4ã€é€šè¿‡JIT Watchè§‚å¯Ÿåˆ°é€šè¿‡C1è°ƒç”¨å¤šæ¬¡æ”¶é›†ä¿¡æ¯ä¹‹åï¼Œè¿›å…¥C2ä¼˜åŒ–ã€‚C2ä¼˜åŒ–ä¹‹åçš„æœºå™¨ç å¤§å°éå¸¸å°ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-967-1024x153.png" alt="img"></p>
<p>5ã€æ–¹æ³•è°ƒç”¨è¿›è¡Œäº†å†…è”ä¼˜åŒ–ï¼Œæ±‡ç¼–ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ä¹˜æ³•è®¡ç®—å‡ºå€¼å†è¿›è¡Œç´¯åŠ ï¼Œè¿™æ ·æ•ˆç‡æ›´é«˜ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-968.png" alt="img"></p>
<p>ä¸ºä»€ä¹ˆé€šè¿‡C1å’ŒC2ä¼˜åŒ–ä¹‹åæ€§èƒ½ä¼šå‡ºç°è¿™ä¹ˆå¤§çš„ä¸€ä¸ªæå‡å¹…åº¦å‘¢ï¼Ÿ</p>
<p>C1ä¸»è¦åº”ç”¨äº†æ–¹æ³•å†…è”ï¼ŒæŠŠå½“å‰æ–¹æ³•é‡Œé¢çš„å­—èŠ‚ç æŒ‡ä»¤æ’å…¥åˆ°è°ƒç”¨æ–¹ï¼Œè¿™æ ·å°±ä¸ç”¨å†åœ¨å¾ªç¯é‡Œè¾¹é¢‘ç¹çš„åˆ›å»ºæ ˆå¸§</p>
<p>C2ç›´æ¥æŠŠè¿™ä¸ªå¾ªç¯ç´¯åŠ çš„åŠ¨ä½œï¼Œå˜æˆäº†ä¸€ä¸ªä¹˜æ³•æ“ä½œ</p>
<p>å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥å†…è”ï¼Œå†…è”æœ‰ä¸€å®šçš„é™åˆ¶ï¼š</p>
<p>1ã€æ–¹æ³•ç¼–è¯‘ä¹‹åçš„å­—èŠ‚ç æŒ‡ä»¤æ€»å¤§å° &lt; 35å­—èŠ‚ï¼Œå¯ä»¥ç›´æ¥å†…è”ã€‚ï¼ˆé€šè¿‡-XX:MaxInlineSize=å€¼ æ§åˆ¶ï¼‰</p>
<p>2ã€æ–¹æ³•ç¼–è¯‘ä¹‹åçš„å­—èŠ‚ç æŒ‡ä»¤æ€»å¤§å° &lt; 325å­—èŠ‚ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªçƒ­æ–¹æ³•ã€‚ï¼ˆé€šè¿‡-XX:FreqInlineSize=å€¼ æ§åˆ¶ï¼‰</p>
<p>3ã€æ–¹æ³•ç¼–è¯‘ç”Ÿæˆçš„æœºå™¨ç ä¸èƒ½å¤§äº1000å­—èŠ‚ã€‚ï¼ˆé€šè¿‡-XX:InlineSmallCode=å€¼ æ§åˆ¶ï¼‰</p>
<p>4ã€ä¸€ä¸ªæ¥å£çš„å®ç°å¿…é¡»å°äº3ä¸ªï¼Œå¦‚æœå¤§äºä¸‰ä¸ªå°±ä¸ä¼šå‘ç”Ÿå†…è”ã€‚</p>
<h5 id="æ¡ˆä¾‹ï¼šStringçš„toUpperCaseæ–¹æ³•æ€§èƒ½ä¼˜åŒ–">æ¡ˆä¾‹ï¼šStringçš„toUpperCaseæ–¹æ³•æ€§èƒ½ä¼˜åŒ–</h5>
<p>éœ€æ±‚ï¼š</p>
<p>1ã€Stringçš„toUpperCaseä¸ºäº†é€‚é…å¾ˆå¤šç§ä¸åŒçš„è¯­è¨€å¯¼è‡´æ–¹æ³•ç¼–è¯‘å‡ºæ¥çš„å­—èŠ‚ç ç‰¹åˆ«å¤§ï¼Œé€šè¿‡ç¼–å†™ä¸€ä¸ªæ–¹æ³•åªå¤„ç†a-zçš„å¤§å†™è½¬æ¢æå‡æ€§èƒ½ã€‚</p>
<p>2ã€é€šè¿‡JIT Watchè§‚å¯Ÿæ–¹æ³•å†…è”çš„æƒ…å†µã€‚</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UpperCase</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">String</span> upper;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">UpperCase</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">                <span class="type">int</span> iterations = <span class="number">10</span>_000_000;</span><br><span class="line"></span><br><span class="line">                <span class="type">String</span> source = <span class="string">&quot;Lorem ipsum dolor sit amet, sensibus partiendo eam at.&quot;</span>;</span><br><span class="line"></span><br><span class="line">                <span class="type">long</span> start = System.<span class="built_in">currentTimeMillis</span>();</span><br><span class="line">                <span class="built_in">convertString</span>(source, iterations);</span><br><span class="line">                System.out.<span class="built_in">println</span>(upper);</span><br><span class="line">                System.out.<span class="built_in">println</span>(System.<span class="built_in">currentTimeMillis</span>() - start);</span><br><span class="line"></span><br><span class="line">                start = System.<span class="built_in">currentTimeMillis</span>();</span><br><span class="line">                <span class="built_in">convertCustom</span>(source, iterations);</span><br><span class="line">                System.out.<span class="built_in">println</span>(upper);</span><br><span class="line">                System.out.<span class="built_in">println</span>(System.<span class="built_in">currentTimeMillis</span>() - start);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="type">void</span> <span class="title">convertString</span><span class="params">(<span class="type">String</span> source, <span class="type">int</span> iterations)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; iterations; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                        upper = source.<span class="built_in">toUpperCase</span>(Locale.<span class="built_in">getDefault</span>());</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="type">void</span> <span class="title">convertCustom</span><span class="params">(<span class="type">String</span> source, <span class="type">int</span> iterations)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; iterations; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                        upper = <span class="built_in">doUpper</span>(source);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="type">String</span> <span class="title">doUpper</span><span class="params">(<span class="type">String</span> source)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">                StringBuilder builder = <span class="keyword">new</span> <span class="built_in">StringBuilder</span>();</span><br><span class="line"></span><br><span class="line">                <span class="type">int</span> len = source.<span class="built_in">length</span>();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="type">char</span> c = source.<span class="built_in">charAt</span>(i);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> (c &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                                c -= <span class="number">32</span>;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        builder.<span class="built_in">append</span>(c);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> builder.<span class="built_in">toString</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="type">static</span> <span class="type">void</span> <span class="title">main</span><span class="params">(<span class="type">String</span>[] args)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">                <span class="keyword">new</span> <span class="built_in">UpperCase</span>();</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3ã€é€šè¿‡JITæµ‹è¯•æ€§èƒ½ï¼š</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UpperCase</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">String</span> upper;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">UpperCase</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">                <span class="type">int</span> iterations = <span class="number">10</span>_000_000;</span><br><span class="line"></span><br><span class="line">                <span class="type">String</span> source = <span class="string">&quot;Lorem ipsum dolor sit amet, sensibus partiendo eam at.&quot;</span>;</span><br><span class="line"></span><br><span class="line">                <span class="type">long</span> start = System.<span class="built_in">currentTimeMillis</span>();</span><br><span class="line">                <span class="built_in">convertString</span>(source, iterations);</span><br><span class="line">                System.out.<span class="built_in">println</span>(upper);</span><br><span class="line">                System.out.<span class="built_in">println</span>(System.<span class="built_in">currentTimeMillis</span>() - start);</span><br><span class="line"></span><br><span class="line">                start = System.<span class="built_in">currentTimeMillis</span>();</span><br><span class="line">                <span class="built_in">convertCustom</span>(source, iterations);</span><br><span class="line">                System.out.<span class="built_in">println</span>(upper);</span><br><span class="line">                System.out.<span class="built_in">println</span>(System.<span class="built_in">currentTimeMillis</span>() - start);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="type">void</span> <span class="title">convertString</span><span class="params">(<span class="type">String</span> source, <span class="type">int</span> iterations)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; iterations; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                        upper = source.<span class="built_in">toUpperCase</span>(Locale.<span class="built_in">getDefault</span>());</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="type">void</span> <span class="title">convertCustom</span><span class="params">(<span class="type">String</span> source, <span class="type">int</span> iterations)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; iterations; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                        upper = <span class="built_in">doUpper</span>(source);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="type">String</span> <span class="title">doUpper</span><span class="params">(<span class="type">String</span> source)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">                StringBuilder builder = <span class="keyword">new</span> <span class="built_in">StringBuilder</span>();</span><br><span class="line"></span><br><span class="line">                <span class="type">int</span> len = source.<span class="built_in">length</span>();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="type">char</span> c = source.<span class="built_in">charAt</span>(i);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> (c &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                                c -= <span class="number">32</span>;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        builder.<span class="built_in">append</span>(c);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> builder.<span class="built_in">toString</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="type">static</span> <span class="type">void</span> <span class="title">main</span><span class="params">(<span class="type">String</span>[] args)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">                <span class="keyword">new</span> <span class="built_in">UpperCase</span>();</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆç»“æœ:</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-971.png" alt="img"></p>
<p>è‡ªè¡Œå®ç°çš„æ–¹æ³•æ€§èƒ½è¦æ¯”JDKé»˜è®¤æä¾›çš„é«˜å¾ˆå¤šï¼Œå½“ç„¶åªæ”¯æŒå¯¹a-zåšå¤§å†™åŒ–ã€‚</p>
<p>ä»¥åå¦‚æœé‡åˆ°JDKå†…éƒ¨å®ç°è¾ƒå¤æ‚çš„æ–¹æ³•ï¼ˆå¯èƒ½ä¸ºäº†è€ƒè™‘é€šç”¨æ€§ï¼‰ï¼Œå¯ä»¥å°è¯•æ ¹æ®è‡ªå·±çš„åº”ç”¨åœºæ™¯è‡ªè¡Œå®ç°è¿™ä¸ªæ–¹æ³•ï¼Œä½¿ç”¨æ›´ç®€æ´çš„ä»£ç ï¼Œè¿™æ ·æ–¹æ³•ç¼–è¯‘åçš„å­—èŠ‚ç æŒ‡ä»¤/æœºå™¨ç å¤§å°æ›´å°ï¼Œåœ¨JITä¼˜åŒ–æ—¶æ›´å®¹æ˜“è®©å†…è”äº§ç”Ÿï¼Œä»è€Œä¼˜åŒ–æ€§èƒ½ã€‚</p>
<h4 id="é€ƒé€¸åˆ†æ">-é€ƒé€¸åˆ†æ</h4>
<p>é€ƒé€¸åˆ†ææŒ‡çš„æ˜¯å¦‚æœJITå‘ç°åœ¨æ–¹æ³•å†…åˆ›å»ºçš„å¯¹è±¡ä¸ä¼šè¢«å¤–éƒ¨å¼•ç”¨ï¼Œé‚£ä¹ˆå°±å¯ä»¥é‡‡ç”¨é”æ¶ˆé™¤ã€æ ‡é‡æ›¿æ¢ç­‰æ–¹å¼è¿›è¡Œä¼˜åŒ–ã€‚</p>
<p>è¿™æ®µä»£ç å¯ä»¥ä½¿ç”¨é€ƒé€¸åˆ†æè¿›è¡Œä¼˜åŒ–ï¼Œå› ä¸ºtestå¯¹è±¡ä¸ä¼šè¢«å¤–éƒ¨å¼•ç”¨ï¼Œåªä¼šåœ¨æ–¹æ³•ä¸­ä½¿ç”¨ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1058.png" alt="img"></p>
<p>è¿™æ®µä»£ç å°±ä¼šæœ‰ä¸€å®šçš„é—®é¢˜ï¼Œå¦‚æœåœ¨æ–¹æ³•ä¸­å¯¹è±¡è¢«å…¶ä»–é™æ€å˜é‡å¼•ç”¨ï¼Œé‚£ä¼˜åŒ–å°±æ— æ³•è¿›è¡Œã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-972.png" alt="img"></p>
<h5 id="é”æ¶ˆé™¤"><strong>é”æ¶ˆé™¤</strong></h5>
<p>é€ƒé€¸åˆ†æä¸­çš„<strong>é”æ¶ˆé™¤</strong>æŒ‡çš„æ˜¯å¦‚æœå¯¹è±¡è¢«åˆ¤æ–­ä¸ä¼šé€ƒé€¸å‡ºå»ï¼Œé‚£ä¹ˆåœ¨å¯¹è±¡å°±ä¸å­˜åœ¨å¹¶å‘è®¿é—®é—®é¢˜ï¼Œå¯¹è±¡ä¸Šçš„é”å¤„ç†éƒ½ä¸ä¼šæ‰§è¡Œï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚æ¯”å¦‚å¦‚ä¸‹å†™æ³•</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-973.png" alt="img"></p>
<p>é”æ¶ˆé™¤ä¼˜åŒ–åœ¨çœŸæ­£çš„å·¥ä½œä»£ç ä¸­å¹¶ä¸å¸¸è§ï¼Œä¸€èˆ¬åŠ é”çš„å¯¹è±¡éƒ½æ˜¯æ”¯æŒå¤šçº¿ç¨‹å»è®¿é—®çš„ã€‚</p>
<h5 id="æ ‡é‡æ›¿æ¢">æ ‡é‡æ›¿æ¢</h5>
<p>é€ƒé€¸åˆ†æçœŸæ­£å¯¹æ€§èƒ½ä¼˜åŒ–æ¯”è¾ƒå¤§çš„æ–¹å¼æ˜¯æ ‡é‡æ›¿æ¢ï¼Œåœ¨Javaè™šæ‹Ÿæœºä¸­ï¼Œå¯¹è±¡ä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ç§°ä¸ºæ ‡é‡ï¼Œå¼•ç”¨çš„å…¶ä»–å¯¹è±¡ç§°ä¸ºèšåˆé‡ã€‚æ ‡é‡æ›¿æ¢æŒ‡çš„æ˜¯å¦‚æœæ–¹æ³•ä¸­çš„å¯¹è±¡ä¸ä¼šé€ƒé€¸ï¼Œé‚£ä¹ˆå…¶ä¸­çš„æ ‡é‡å°±å¯ä»¥ç›´æ¥åœ¨æ ˆä¸Šåˆ†é…ã€‚</p>
<p>å¦‚ä¸‹å›¾ä¸­ï¼Œpointå¯¹è±¡ä¸å­˜åœ¨é€ƒé€¸ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†testæ–¹æ³•ä¸­çš„å­—èŠ‚ç æŒ‡ä»¤ç›´æ¥æŒªåˆ°å¾ªç¯ä¸­ï¼Œå‡å°‘æ–¹æ³•è°ƒç”¨çš„å¼€é”€ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-974-1024x450.png" alt="img"></p>
<p><strong>æ€§èƒ½æµ‹è¯•</strong></p>
<p><strong>éœ€æ±‚ï¼š</strong></p>
<p>1ã€ç¼–å†™JMHæ€§èƒ½æµ‹è¯•æ¡ˆä¾‹ï¼Œæµ‹è¯•æ–¹æ³•å†…è”å’Œæ ‡é‡æ›¿æ¢ä¹‹åçš„æ€§èƒ½å˜åŒ–ã€‚</p>
<p>2ã€åˆ†åˆ«ä½¿ç”¨ä¸‰ç§ä¸åŒè™šæ‹Ÿæœºå‚æ•°è¿›è¡Œæµ‹è¯•ï¼š</p>
<ul>
<li>å¼€å¯æ–¹æ³•å†…è”å’Œæ ‡é‡æ›¿æ¢</li>
<li>å…³é—­æ ‡é‡æ›¿æ¢</li>
<li>å…³é—­æ‰€æœ‰ä¼˜åŒ–</li>
</ul>
<p>3ã€æ¯”å¯¹æµ‹è¯•ç»“æœã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.sample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.annotations.*;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.infra.Blackhole;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.Runner;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.RunnerException;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.options.Options;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.options.OptionsBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰§è¡Œ5è½®é¢„çƒ­ï¼Œæ¯æ¬¡æŒç»­1ç§’</span></span><br><span class="line"><span class="meta">@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)</span></span><br><span class="line"><span class="comment">//æ‰§è¡Œä¸€æ¬¡æµ‹è¯•</span></span><br><span class="line"><span class="comment">//æ˜¾ç¤ºå¹³å‡æ—¶é—´ï¼Œå•ä½çº³ç§’</span></span><br><span class="line"><span class="meta">@BenchmarkMode(Mode.AverageTime)</span></span><br><span class="line"><span class="meta">@OutputTimeUnit(TimeUnit.NANOSECONDS)</span></span><br><span class="line"><span class="meta">@Measurement(iterations = 3,time = 1,timeUnit = TimeUnit.SECONDS)</span></span><br><span class="line"><span class="meta">@State(Scope.Benchmark)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EscapeAnalysisBenchmark2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10000000</span>; i++) &#123;</span><br><span class="line">            <span class="type">Point</span> <span class="variable">point</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Point</span>();</span><br><span class="line">            point.test();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Benchmark</span></span><br><span class="line">    <span class="meta">@Fork(value = 1,jvmArgsAppend = &#123;&quot;-Xmx10m&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testWithJIT</span><span class="params">(Blackhole blackhole)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> test();</span><br><span class="line">        blackhole.consume(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Benchmark</span></span><br><span class="line">    <span class="meta">@Fork(value = 1,jvmArgsAppend = &#123;&quot;-XX:-DoEscapeAnalysis&quot;,&quot;-Xmx10m&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testWithoutEA</span><span class="params">(Blackhole blackhole)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> test();</span><br><span class="line">        blackhole.consume(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Benchmark</span></span><br><span class="line">    <span class="meta">@Fork(value = 1,jvmArgsAppend = &#123;&quot;-Xint&quot;,&quot;-Xmx10m&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testWithoutJIT</span><span class="params">(Blackhole blackhole)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> test();</span><br><span class="line">        blackhole.consume(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> RunnerException &#123;</span><br><span class="line">        <span class="type">Options</span> <span class="variable">opt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OptionsBuilder</span>()</span><br><span class="line">                .include(EscapeAnalysisBenchmark2.class.getSimpleName())</span><br><span class="line">                .forks(<span class="number">1</span>)</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Runner</span>(opt).run();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> x;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> y;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">z</span> <span class="operator">=</span> x++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•ç»“æœï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-975.png" alt="img"></p>
<p>æ€§èƒ½æœ€é«˜çš„æ˜¯JITåŠŸèƒ½å…¨å¼€çš„æƒ…å†µä¸‹ï¼›ä¸å¼€å¯é€ƒé€¸åˆ†æï¼Œè™½ç„¶æ–¹æ³•å†…è”è¿˜ç”Ÿæ•ˆï¼Œä½†æ˜¯æ€§èƒ½è¦å·®å¾ˆå¤šï¼›å®Œå…¨ä¸å¼€æ€§èƒ½å°±ç‰¹åˆ«å·®äº†ã€‚</p>
<h5 id="æ¡ˆä¾‹ï¼šä½¿ç”¨JIT-Watchå·¥å…·æŸ¥çœ‹é€ƒé€¸åˆ†æçš„ä¼˜åŒ–ç»“æœéœ€æ±‚ï¼š">æ¡ˆä¾‹ï¼šä½¿ç”¨JIT Watchå·¥å…·æŸ¥çœ‹é€ƒé€¸åˆ†æçš„ä¼˜åŒ–ç»“æœéœ€æ±‚ï¼š</h5>
<p>1ã€åœ¨JIT Watchä¸­åˆ›å»ºæ–°çš„æ–‡ä»¶ï¼Œå°†ä¹‹å‰å‡†å¤‡å¥½çš„ä»£ç å¤åˆ¶è¿›å»ã€‚</p>
<p>2ã€è§‚å¯Ÿåˆ›å»ºå¯¹è±¡è¿™ä¸€è¡Œæºä»£ç çš„å­—èŠ‚ç ä¿¡æ¯ã€‚</p>
<p>3ã€å¯¹è±¡æ²¡æœ‰é€ƒç¦»æ–¹æ³•çš„ä½œç”¨åŸŸï¼Œå¯ä»¥æ ‡é‡æ›¿æ¢ç­‰æ–¹å¼è¿›è¡Œä¼˜åŒ–ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-976-1024x281.png" alt="img"></p>
<h3 id="æ€»ç»“-2">æ€»ç»“</h3>
<p>æ ¹æ®JITå³æ—¶ç¼–å™¨ä¼˜åŒ–ä»£ç çš„ç‰¹æ€§ï¼Œåœ¨ç¼–å†™ä»£ç æ—¶æ³¨æ„ä»¥ä¸‹å‡ ä¸ªäº‹é¡¹ï¼Œå¯ä»¥è®©ä»£ç æ‰§è¡Œæ—¶æ‹¥æœ‰æ›´å¥½çš„æ€§èƒ½ï¼š</p>
<p>1ã€å°½é‡ç¼–å†™æ¯”è¾ƒå°çš„æ–¹æ³•ï¼Œè®©æ–¹æ³•å†…è”å¯ä»¥ç”Ÿæ•ˆã€‚</p>
<p>2ã€é«˜é¢‘ä½¿ç”¨çš„ä»£ç ï¼Œç‰¹åˆ«æ˜¯ç¬¬ä¸‰æ–¹ä¾èµ–åº“ç”šè‡³æ˜¯JDKä¸­çš„ï¼Œå¦‚æœå†…å®¹è¿‡åº¦å¤æ‚æ˜¯æ— æ³•å†…è”çš„ï¼Œå¯ä»¥è‡ªè¡Œå®ç°ä¸€ä¸ªç‰¹å®šçš„ä¼˜åŒ–ç‰ˆæœ¬ã€‚</p>
<p>3ã€æ³¨æ„ä¸‹æ¥å£çš„å®ç°æ•°é‡ï¼Œå°½é‡ä¸è¦è¶…è¿‡2ä¸ªï¼Œå¦åˆ™ä¼šå½±å“å†…è”çš„å¤„ç†ã€‚</p>
<p>4ã€é«˜é¢‘è°ƒç”¨çš„æ–¹æ³•ä¸­åˆ›å»ºå¯¹è±¡ä¸´æ—¶ä½¿ç”¨ï¼Œå°½é‡ä¸è¦è®©å¯¹è±¡é€ƒé€¸ã€‚</p>
<h2 id="6ã€åƒåœ¾å›æ”¶å™¨åŸç†">6ã€åƒåœ¾å›æ”¶å™¨åŸç†</h2>
<h3 id="6-1-G1åƒåœ¾å›æ”¶å™¨åŸç†">6.1 G1åƒåœ¾å›æ”¶å™¨åŸç†</h3>
<p>G1åƒåœ¾å›æ”¶æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<p><strong>å¹´è½»ä»£å›æ”¶ï¼ˆYoung GCï¼‰</strong>ï¼šåªå¤„ç†å¹´è½»ä»£ï¼ˆEden + Survivorï¼‰ï¼›</p>
<p><strong>æ··åˆå›æ”¶ï¼ˆMixed GCï¼‰</strong>ï¼šå¤„ç†å¹´è½»ä»£ + éƒ¨åˆ†è€å¹´ä»£ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-979.png" alt="img"></p>
<h4 id="å¹´è½»ä»£å›æ”¶">å¹´è½»ä»£å›æ”¶</h4>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-981-1024x535.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-982.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-983.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-984.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-985.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-986-1024x468.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-987-1024x467.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-988.png" alt="img"></p>
<p>å¹´è½»ä»£å›æ”¶åªæ‰«æå¹´è½»ä»£å¯¹è±¡ï¼ˆEden + Survivorï¼‰ï¼Œæ‰€ä»¥ä»GC Rootåˆ°å¹´è½»ä»£çš„å¯¹è±¡æˆ–è€…å¹´è½»ä»£å¯¹è±¡å¼•ç”¨äº†å…¶ä»–å¹´è½»ä»£çš„å¯¹è±¡éƒ½å¾ˆå®¹æ˜“æ‰«æå‡ºæ¥ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-977-1024x342.png" alt="img"></p>
<p>è¿™é‡Œå°±å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå¹´è½»ä»£å›æ”¶åªæ‰«æå¹´è½»ä»£å¯¹è±¡ï¼ˆEden + Survivorï¼‰ï¼Œå¦‚æœæœ‰è€å¹´ä»£ä¸­çš„å¯¹è±¡å¼•ç”¨äº†å¹´è½»ä»£ä¸­çš„å¯¹è±¡ï¼Œæˆ‘ä»¬åˆå¦‚ä½•çŸ¥é“å‘¢ï¼Ÿ</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-978-1024x347.png" alt="img"></p>
<p>æ¯”å¦‚ä¸Šå›¾ä¸­ï¼ŒEå¯¹è±¡è¢«å¯¹è±¡å¼•ç”¨äº†ï¼Œé‚£ä¹ˆæ˜¾ç„¶åœ¨åƒåœ¾å›æ”¶æ—¶Eå¯¹è±¡æ˜¯ä¸åº”è¯¥è¢«å›æ”¶çš„ã€‚</p>
<p><strong>å³Young GC çš„æ ¸å¿ƒé—®é¢˜ï¼šè·¨ä»£å¼•ç”¨</strong></p>
<p>è™½ç„¶ Young GC åªå¤„ç†å¹´è½»ä»£å¯¹è±¡ï¼Œä½†é—®é¢˜åœ¨äºï¼š</p>
<blockquote>
<p><strong>å¦‚æœè€å¹´ä»£å¯¹è±¡å¼•ç”¨äº†å¹´è½»ä»£å¯¹è±¡ï¼ŒGC æ—¶å¦‚ä½•ä¿ä½è¿™äº›â€œè¢«å¼•ç”¨â€çš„å¹´è½»ä»£å¯¹è±¡ï¼Ÿ</strong></p>
</blockquote>
<p>å› ä¸ºï¼š</p>
<ul>
<li>GC ä» GC Root å¼€å§‹æ‰«æï¼Œ</li>
<li>å¦‚æœè€å¹´ä»£å¯¹è±¡çš„å¼•ç”¨ä¸ç®—å…¥æ‰«æèŒƒå›´ï¼Œ</li>
<li>é‚£ä¹ˆè¿™äº›å¹´è½»ä»£è¢«å¼•ç”¨å¯¹è±¡å°±å¯èƒ½è¢«â€œé”™è¯¯å›æ”¶â€ï¼</li>
</ul>
<p><strong>æ–¹æ¡ˆ1ï¼šä»GC Rootå¼€å§‹ï¼Œæ‰«ææ‰€æœ‰å¯¹è±¡ï¼Œå¦‚æœå¹´è½»ä»£å¯¹è±¡åœ¨å¼•ç”¨é“¾ä¸Šï¼Œå°±æ ‡è®°ä¸ºå­˜æ´»ã€‚</strong></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-989.png" alt="img"></p>
<ul>
<li>ä» GC Root å¼€å§‹éå†æ‰€æœ‰å¼•ç”¨ï¼ŒåŒ…æ‹¬è€å¹´ä»£å¯¹è±¡ï¼›</li>
<li>ç¼ºç‚¹ï¼š<strong>æ€§èƒ½æå·®</strong>ï¼Œéå†ä»£ä»·å¤ªé«˜ï¼›</li>
<li>è¢«æ”¾å¼ƒã€‚</li>
</ul>
<p><strong>æ–¹æ¡ˆ2ï¼šç»´æŠ¤ä¸€ä¸ªè¯¦ç»†çš„è¡¨ï¼Œè®°å½•å“ªä¸ªå¯¹è±¡è¢«å“ªä¸ªè€å¹´ä»£å¼•ç”¨äº†ã€‚åœ¨å¹´è½»ä»£ä¸­è¢«å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸è¿›è¡Œå›æ”¶ã€‚</strong></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-990-1024x331.png" alt="img"></p>
<p>å¦‚ä¸Šå›¾ä¸­ï¼Œé€šè¿‡å¼•ç”¨è¯¦æƒ…è¡¨è®°å½•Få’ŒEå¯¹è±¡åˆ†åˆ«è¢«Aå’ŒBå¯¹è±¡å¼•ç”¨äº†ã€‚é—®é¢˜ï¼š<strong>å¦‚æœå¯¹è±¡å¤ªå¤šè¿™å¼ è¡¨ä¼šå ç”¨å¾ˆå¤§çš„å†…å­˜ç©ºé—´ã€‚å­˜åœ¨é”™æ ‡çš„æƒ…å†µ</strong></p>
<ul>
<li>ä¸ºæ¯ä¸ªè¢«å¼•ç”¨å¯¹è±¡è®°å½•å…·ä½“æ˜¯è¢«è°å¼•ç”¨ï¼›</li>
<li>é—®é¢˜ï¼š<strong>å†…å­˜å ç”¨å¤ªå¤§</strong>ï¼Œè¿˜å¯èƒ½é”™æ ‡ï¼›</li>
<li>ä¼˜åŒ–ï¼šåªè®°å½•â€œå“ªäº› Region è¢«å¼•ç”¨â€å³å¯ã€‚</li>
</ul>
<p>æ–¹æ¡ˆ2çš„ç¬¬ä¸€æ¬¡ä¼˜åŒ–ï¼šåªè®°å½•Regionè¢«å“ªäº›å¯¹è±¡å¼•ç”¨äº†ã€‚è¿™ç§å¼•ç”¨è¯¦æƒ…è¡¨ç§°ä¸º<strong>è®°å¿†é›†</strong> RememberedSetï¼ˆç®€ç§°RSæˆ–RSetï¼‰ï¼šæ˜¯ä¸€ç§è®°å½•äº†ä»éæ”¶é›†åŒºåŸŸå¯¹è±¡å¼•ç”¨æ”¶é›†åŒºåŸŸå¯¹è±¡çš„è¿™äº›å…³ç³»çš„æ•°æ®ç»“æ„ã€‚æ‰«ææ—¶å°†è®°å¿†é›†ä¸­çš„å¯¹è±¡ä¹ŸåŠ å…¥åˆ°GC Rootä¸­ï¼Œå°±å¯ä»¥æ ¹æ®å¼•ç”¨é“¾åˆ¤æ–­å“ªäº›å¯¹è±¡éœ€è¦å›æ”¶äº†ã€‚</p>
<p>é—®é¢˜ï¼š<strong>å¦‚æœåŒºåŸŸä¸­å¼•ç”¨å¯¹è±¡å¾ˆå¤šï¼Œè¿˜æ˜¯å ç”¨å¾ˆå¤šå†…å­˜ã€‚</strong></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-991-1024x329.png" alt="img"></p>
<p>æ–¹æ¡ˆ2çš„ç¬¬äºŒæ¬¡ä¼˜åŒ–ï¼šå°†æ‰€æœ‰åŒºåŸŸä¸­çš„å†…å­˜æŒ‰ä¸€å®šå¤§å°åˆ’åˆ†æˆå¾ˆå¤šä¸ªå—ï¼Œæ¯ä¸ªå—è¿›è¡Œç¼–å·ã€‚è®°å¿†é›†ä¸­åªè®°å½•å¯¹å—çš„å¼•ç”¨å…³ç³»ã€‚å¦‚æœä¸€ä¸ªå—ä¸­æœ‰å¤šä¸ªå¯¹è±¡ï¼Œåªéœ€è¦å¼•ç”¨ä¸€æ¬¡ï¼Œå‡å°‘äº†å†…å­˜å¼€é”€ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-992-1024x425.png" alt="img"></p>
<p>æ¯ä¸€ä¸ªRegionéƒ½æ‹¥æœ‰ä¸€ä¸ªè‡ªå·±çš„<strong>å¡è¡¨</strong>ï¼Œå¦‚æœäº§ç”Ÿäº†è·¨ä»£å¼•ç”¨ï¼ˆè€å¹´ä»£å¼•ç”¨å¹´è½»ä»£ï¼‰ï¼Œæ­¤æ—¶è¿™ä¸ªRegionå¯¹åº”çš„å¡è¡¨ä¸Šå°±ä¼šå°†å­—èŠ‚å†…å®¹è¿›è¡Œä¿®æ”¹,JDK8æºç ä¸­0ä»£è¡¨è¢«å¼•ç”¨äº†ç§°ä¸ºè„å¡ã€‚è¿™æ ·å°±å¯ä»¥æ ‡è®°å‡ºå½“å‰Regionè¢«è€å¹´ä»£ä¸­çš„å“ªäº›éƒ¨åˆ†å¼•ç”¨äº†ã€‚é‚£ä¹ˆè¦ç”Ÿæˆè®°å¿†é›†å°±æ¯”è¾ƒç®€å•äº†ï¼Œåªéœ€è¦éå†æ•´ä¸ªå¡è¡¨ï¼Œæ‰¾åˆ°æ‰€æœ‰è„å¡ã€‚</p>
<p>è„å¡å¯¹åº”çš„å¡é¡µä¸­æœ‰å¯¹è±¡å¼•ç”¨äº†å½“å‰Regionä¸­çš„å¯¹è±¡ï¼Œåœ¨æ‰«æçš„æ—¶å€™åªéœ€è¦å°†è„å¡å¡é¡µä¸­æ‰€æœ‰çš„å¯¹è±¡åŠ å…¥åˆ°GC Rootå¯¹è±¡ä¸­è¿›è¡Œæ‰«æï¼Œè¿™æ ·å°±èƒ½æ‰¾åˆ°å½“å‰å¹´è½»ä»£Regionä¸­å“ªäº›å¯¹è±¡è¢«è€å¹´ä»£å¯¹è±¡å¼•ç”¨ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-994-1024x398.png" alt="img"></p>
<p>é‚£ä¹ˆæ€ä¹ˆæ ·å»ç»´æŠ¤è¿™ä¸ªå¡è¡¨å‘¢ï¼Ÿæˆ–è€…è¯´æ€ä¹ˆçŸ¥é“Aå¯¹Få¼•ç”¨äº†ï¼Ÿ</p>
<p>JVMä½¿ç”¨<strong>å†™å±éšœ</strong>ï¼ˆWrite Barrierï¼‰æŠ€æœ¯ï¼Œåœ¨æ‰§è¡Œå¼•ç”¨å…³ç³»å»ºç«‹çš„ä»£ç æ—¶ï¼Œå¯ä»¥åœ¨ä»£ç å‰å’Œä»£ç åæ’å…¥ä¸€æ®µæŒ‡ä»¤ï¼Œä»è€Œç»´æŠ¤å¡è¡¨ã€‚</p>
<p>è®°å¿†é›†ä¸­ä¸ä¼šè®°å½•æ–°ç”Ÿä»£åˆ°æ–°ç”Ÿä»£çš„å¼•ç”¨ï¼ŒåŒä¸€ä¸ªRegionä¸­çš„å¼•ç”¨ä¹Ÿä¸ä¼šè®°å½•ã€‚è®°å¿†é›†ä¸»è¦æ˜¯è®°å½•è·¨ä»£å¼•ç”¨ï¼Œå³è€å¹´ä»£å¼•ç”¨å¹´è½»ä»£</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-995-1024x319.png" alt="img"></p>
<p>è®°å¿†é›†çš„ç”Ÿæˆæµç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<p>1ã€é€šè¿‡å†™å±éšœè·å¾—å¼•ç”¨å˜æ›´çš„ä¿¡æ¯ã€‚</p>
<p>2ã€å°†å¼•ç”¨å…³ç³»è®°å½•åˆ°å¡è¡¨ä¸­ï¼Œå¹¶è®°å½•åˆ°ä¸€ä¸ªè„å¡é˜Ÿåˆ—ä¸­ã€‚</p>
<p>3ã€JVMä¸­ä¼šç”±Refinement çº¿ç¨‹å®šæœŸä»è„å¡é˜Ÿåˆ—ä¸­è·å–æ•°æ®ï¼Œç”Ÿæˆè®°å¿†é›†ã€‚ä¸ç›´æ¥å†™å…¥è®°å¿†é›†çš„åŸå› æ˜¯é¿å…è¿‡å¤šçº¿ç¨‹å¹¶å‘è®¿é—®è®°å¿†é›†ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-996-1024x289.png" alt="img"></p>
<p><strong>æœ€ç»ˆæ–¹æ¡ˆï¼šä½¿ç”¨â€œè®°å¿†é›† + å¡è¡¨ + å†™å±éšœâ€</strong></p>
<p><strong>1. è®°å¿†é›†ï¼ˆRemembered Set / RSetï¼‰</strong></p>
<ul>
<li>æ¯ä¸ª Region éƒ½ç»´æŠ¤è‡ªå·±çš„ RSetï¼›</li>
<li>RSet è®°å½•ï¼š<strong>æœ¬ Region è¢«å“ªäº›å…¶ä»– Region ä¸­çš„å¯¹è±¡å¼•ç”¨</strong>ï¼›</li>
<li>åœ¨ GC æ—¶ï¼ŒRSet é‡Œçš„å¯¹è±¡è¢«åŠ å…¥ GC Root ä¸€èµ·æ‰«æï¼Œé˜²æ­¢è¯¯åˆ ã€‚</li>
</ul>
<p><strong>2. å¡è¡¨ï¼ˆCard Tableï¼‰</strong></p>
<ul>
<li>æ¯ä¸ª Region ä¼šè¢«åˆ’åˆ†æˆè®¸å¤šâ€œå¡é¡µâ€ï¼ˆå°å—å†…å­˜ï¼‰ï¼Œæ¯ä¸ªå¡é¡µ 512 å­—èŠ‚ï¼›</li>
<li>å¡è¡¨ç”¨ä¸€ä¸ªå­—èŠ‚æ•°ç»„è®°å½•æ¯ä¸ªå¡é¡µæ˜¯å¦è¢«å¼•ç”¨ï¼›</li>
<li>ä¸€æ—¦å‘ç”Ÿè·¨ä»£å¼•ç”¨ï¼Œè¯¥å¡é¡µæ ‡ä¸ºâ€œè„å¡â€ï¼ˆdirty cardï¼‰ã€‚</li>
</ul>
<p><strong>å¡è¡¨å¤§å°è®¡ç®—</strong>ï¼š</p>
<blockquote>
<p>å †ä¸º 1GB â†’ å¡è¡¨å¤§å° = 1GB / 512B = 2MB</p>
</blockquote>
<p><strong>3. å†™å±éšœï¼ˆWrite Barrierï¼‰</strong></p>
<ul>
<li>JVM åœ¨ç¨‹åºä¿®æ”¹å¼•ç”¨å…³ç³»æ—¶æ’å…¥æŒ‡ä»¤ï¼Œç”¨æ¥æ›´æ–°å¡è¡¨ï¼›</li>
<li>æ¯”å¦‚ï¼š<code>A.f = F</code>ï¼ˆA åœ¨è€å¹´ä»£ï¼ŒF åœ¨å¹´è½»ä»£ï¼‰ï¼Œè¿™å°±æ˜¯è·¨ä»£å¼•ç”¨ï¼›</li>
<li>å†™å±éšœä¼šæŠŠ A æ‰€åœ¨å¡é¡µæ ‡ä¸ºâ€œè„å¡â€ï¼›</li>
<li>åç»­ç”± GC çº¿ç¨‹å®šæœŸæ‰«æâ€œè„å¡é˜Ÿåˆ—â€ï¼Œæ„å»º RSetã€‚</li>
</ul>
<h5 id="æ‰§è¡Œæµç¨‹ï¼š">æ‰§è¡Œæµç¨‹ï¼š</h5>
<p>æ›´è¯¦ç»†çš„åˆ†æä¸‹å¹´è½»ä»£å›æ”¶çš„æ­¥éª¤ï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯STWçš„ï¼š</p>
<p>1ã€Rootæ‰«æï¼Œå°†æ‰€æœ‰çš„é™æ€å˜é‡ã€å±€éƒ¨å˜é‡æ‰«æå‡ºæ¥ã€‚</p>
<p>2ã€å¤„ç†è„å¡é˜Ÿåˆ—ä¸­çš„æ²¡æœ‰å¤„ç†å®Œçš„ä¿¡æ¯ï¼Œæ›´æ–°è®°å¿†é›†çš„æ•°æ®ï¼Œæ­¤é˜¶æ®µå®Œæˆåï¼Œè®°å¿†é›†ä¸­åŒ…å«äº†æ‰€æœ‰è€å¹´ä»£å¯¹å½“å‰Regionçš„å¼•ç”¨å…³ç³»ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-997.png" alt="img"></p>
<p>3ã€æ ‡è®°å­˜æ´»å¯¹è±¡ã€‚è®°å¿†é›†ä¸­çš„å¯¹è±¡ä¼šåŠ å…¥åˆ°GC Rootå¯¹è±¡é›†åˆä¸­ï¼Œåœ¨GC Rootå¼•ç”¨é“¾ä¸Šçš„å¯¹è±¡ä¹Ÿä¼šè¢«æ ‡è®°ä¸ºå­˜æ´»å¯¹è±¡ã€‚</p>
<p>4ã€æ ¹æ®è®¾å®šçš„æœ€å¤§åœé¡¿æ—¶é—´ï¼Œé€‰æ‹©æœ¬æ¬¡æ”¶é›†çš„åŒºåŸŸï¼Œç§°ä¹‹ä¸ºå›æ”¶é›†åˆCollection Setã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-998-1024x417.png" alt="img"></p>
<p>5ã€å¤åˆ¶å¯¹è±¡ï¼šå°†æ ‡è®°å‡ºæ¥çš„å¯¹è±¡å¤åˆ¶åˆ°æ–°çš„åŒºä¸­ï¼Œå°†å¹´é¾„åŠ 1ï¼Œå¦‚æœå¹´é¾„åˆ°è¾¾15åˆ™æ™‹å‡åˆ°è€å¹´ä»£ã€‚è€çš„åŒºåŸŸå†…å­˜ç›´æ¥æ¸…ç©ºã€‚</p>
<p>6ã€å¤„ç†è½¯ã€å¼±ã€è™šã€ç»ˆç»“å™¨å¼•ç”¨ï¼Œä»¥åŠJNIä¸­çš„å¼±å¼•ç”¨ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-999.png" alt="img"></p>
<p>æ•´ä¸ªè¿‡ç¨‹æ˜¯ <strong>STWï¼ˆStop-The-Worldï¼‰</strong>ï¼š</p>
<ol>
<li>Root æ‰«æ
<ul>
<li>æŠŠå±€éƒ¨å˜é‡ã€é™æ€å˜é‡ã€RSet ä¸­è€å¹´ä»£å¯¹è±¡å¼•ç”¨åˆ°å¹´è½»ä»£çš„å¯¹è±¡åŠ å…¥ GC Rootã€‚</li>
</ul>
</li>
<li>å¤„ç†è„å¡é˜Ÿåˆ—
<ul>
<li>å°†å†™å±éšœæ ‡è®°çš„å¡è¡¨ä¿¡æ¯ï¼Œè½¬ä¸ºè®°å¿†é›†ï¼Œæ›´æ–°è·¨ä»£å¼•ç”¨ã€‚</li>
</ul>
</li>
<li>æ ‡è®°å­˜æ´»å¯¹è±¡
<ul>
<li>ä» GC Root å¼€å§‹æ‰«æå¼•ç”¨é“¾ï¼Œæ ‡è®°æ‰€æœ‰â€œæ´»ç€çš„â€å¯¹è±¡ã€‚</li>
</ul>
</li>
<li>é€‰æ‹©æ”¶é›†é›†ï¼ˆCollection Setï¼‰
<ul>
<li>G1 æ ¹æ®â€œæœ€å¤§åœé¡¿æ—¶é—´â€çš„é…ç½®ï¼Œå†³å®šæœ¬æ¬¡è¦å›æ”¶çš„å“ªäº› Regionã€‚</li>
</ul>
</li>
<li>å¤åˆ¶å¯¹è±¡
<ul>
<li>å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°æ–°çš„ Survivor åŒºæˆ–è€å¹´ä»£ï¼›</li>
<li>å¹´é¾„ +1ï¼Œæ»¡ 15 å²æ™‹å‡è€å¹´ä»£ï¼›</li>
<li>åŸåŒºåŸŸè¢«æ¸…ç©ºã€‚</li>
</ul>
</li>
<li>å¤„ç†ç‰¹æ®Šå¼•ç”¨
<ul>
<li>è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨ã€ç»ˆç»“å™¨ç­‰ï¼›</li>
<li>JNI å¼±å¼•ç”¨ä¹Ÿä¼šå¤„ç†ã€‚</li>
</ul>
</li>
</ol>
<h5 id="G1å¹´è½»ä»£å›æ”¶æ ¸å¿ƒæŠ€æœ¯"><strong>G1å¹´è½»ä»£å›æ”¶æ ¸å¿ƒæŠ€æœ¯</strong></h5>
<table>
<thead>
<tr>
<th>æŠ€æœ¯</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>å¡è¡¨ Card Table</strong></td>
<td>æ ‡è®°è·¨ä»£å¼•ç”¨çš„ä½ç½®ï¼Œæ„å»º RSet çš„åŸºç¡€</td>
</tr>
<tr>
<td><strong>è®°å¿†é›† Remembered Set</strong></td>
<td>è®°å½•å“ªäº›è€å¹´ä»£å¼•ç”¨äº†æœ¬ Region çš„å¯¹è±¡ï¼Œé¿å…è¯¯åˆ </td>
</tr>
<tr>
<td><strong>å†™å±éšœ Write Barrier</strong></td>
<td>åœ¨ç¨‹åºå†™å¼•ç”¨æ—¶ç»´æŠ¤å¡è¡¨ï¼ˆä»£ä»·5~10%æ€§èƒ½ï¼‰</td>
</tr>
</tbody>
</table>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1020.png" alt="img"></p>
<h3 id="æ··åˆå›æ”¶">æ··åˆå›æ”¶</h3>
<p>å¤šæ¬¡å›æ”¶ä¹‹åï¼Œä¼šå‡ºç°å¾ˆå¤šOldè€å¹´ä»£åŒºï¼Œæ­¤æ—¶æ€»å †å æœ‰ç‡è¾¾åˆ°é˜ˆå€¼ï¼ˆé»˜è®¤45%ï¼‰æ—¶ä¼šè§¦å‘æ··åˆå›æ”¶MixedGCã€‚</p>
<p><strong>æ··åˆå›æ”¶ä¼šç”±å¹´è½»ä»£å›æ”¶ä¹‹åæˆ–è€…å¤§å¯¹è±¡åˆ†é…ä¹‹åè§¦å‘ï¼Œæ··åˆå›æ”¶ä¼šå›æ”¶ æ•´ä¸ªå¹´è½»ä»£ + éƒ¨åˆ†è€å¹´ä»£ã€‚</strong></p>
<p>è€å¹´ä»£å¾ˆå¤šæ—¶å€™ä¼šæœ‰å¤§é‡å¯¹è±¡ï¼Œè¦æ ‡è®°å‡ºæ‰€æœ‰å­˜æ´»å¯¹è±¡è€—æ—¶è¾ƒé•¿ï¼Œæ‰€ä»¥æ•´ä¸ªæ ‡è®°è¿‡ç¨‹è¦å°½é‡èƒ½åšåˆ°å’Œç”¨æˆ·çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚</p>
<p>æ··åˆå›æ”¶çš„è§¦å‘å¹¶ä¸æ˜¯ç«‹å³æ€§çš„ï¼Œè€Œæ˜¯<strong>æ¡ä»¶è§¦å‘å‹</strong>ï¼š</p>
<ul>
<li>ç»è¿‡å¤šæ¬¡ Young GCï¼Œè€å¹´ä»£ç§¯å‹è¾ƒå¤šï¼›</li>
<li>å¤§å¯¹è±¡åˆ†é…è§¦å‘ï¼›</li>
<li>æ€»å †ä½¿ç”¨ç‡è¶…è¿‡æŸä¸ªé˜ˆå€¼ï¼ˆé»˜è®¤æ˜¯ 45%ï¼‰ï¼›</li>
<li>å¯ä»¥é¢„ä¼°æœ¬æ¬¡ GC çš„åœé¡¿æ—¶é—´æ»¡è¶³ç”¨æˆ·è®¾å®šçš„ pause time goalï¼ˆG1 çš„æ ¸å¿ƒç›®æ ‡ï¼‰ï¼›</li>
</ul>
<blockquote>
<p>ğŸ§ ã€è®°å¿†ç‚¹ã€‘ï¼š<strong>Mixed GC å›æ”¶ä¸€éƒ¨åˆ†è€å¹´ä»£ï¼Œè€Œ Full GC å›æ”¶æ•´ä¸ªè€å¹´ä»£ã€‚</strong></p>
</blockquote>
<h4 id="æ··åˆå›æ”¶çš„æ­¥éª¤ï¼š"><strong>æ··åˆå›æ”¶çš„æ­¥éª¤ï¼š</strong></h4>
<p>1ã€åˆå§‹æ ‡è®°ï¼ŒSTWï¼Œé‡‡ç”¨ä¸‰è‰²æ ‡è®°æ³•æ ‡è®°ä»GC Rootå¯ç›´è¾¾çš„å¯¹è±¡ã€‚</p>
<p>2ã€å¹¶å‘æ ‡è®°ï¼Œå¹¶å‘æ‰§è¡Œï¼Œå¯¹å­˜æ´»å¯¹è±¡è¿›è¡Œæ ‡è®°ã€‚</p>
<p>3ã€æœ€ç»ˆæ ‡è®°ï¼ŒSTWï¼Œå¤„ç†SATBç›¸å…³çš„å¯¹è±¡æ ‡è®°ã€‚</p>
<p>4ã€æ¸…ç†ï¼ŒSTWï¼Œå¦‚æœåŒºåŸŸä¸­æ²¡æœ‰ä»»ä½•å­˜æ´»å¯¹è±¡å°±ç›´æ¥æ¸…ç†ã€‚</p>
<p>5ã€è½¬ç§»ï¼Œå°†å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°åˆ«çš„åŒºåŸŸã€‚</p>
<h5 id="åˆå§‹æ ‡è®°">åˆå§‹æ ‡è®°</h5>
<p>åˆå§‹æ ‡è®°ä¼šæš‚åœæ‰€æœ‰ç”¨æˆ·çº¿ç¨‹ï¼Œåªæ ‡è®°ä»GC Rootå¯ç›´è¾¾çš„å¯¹è±¡ï¼Œæ‰€ä»¥åœé¡¿æ—¶é—´ä¸ä¼šå¤ªé•¿ã€‚é‡‡ç”¨ä¸‰è‰²æ ‡è®°æ³•è¿›è¡Œæ ‡è®°ï¼Œä¸‰è‰²æ ‡è®°æ³•åœ¨åŸæœ‰åŒè‰²æ ‡è®°ï¼ˆé»‘ä¹Ÿå°±æ˜¯1ä»£è¡¨å­˜æ´»ï¼Œç™½0ä»£è¡¨å¯å›æ”¶ï¼‰å¢åŠ äº†ä¸€ç§ç°è‰²ï¼Œé‡‡ç”¨é˜Ÿåˆ—çš„æ–¹å¼ä¿å­˜æ ‡è®°ä¸ºç°è‰²çš„å¯¹è±¡ã€‚</p>
<p>é»‘è‰²ï¼šå­˜æ´»ï¼Œå½“å‰å¯¹è±¡åœ¨GC Rootå¼•ç”¨é“¾ä¸Šï¼ŒåŒæ—¶ä»–å¼•ç”¨çš„å…¶ä»–å¯¹è±¡ä¹Ÿéƒ½å·²ç»æ ‡è®°å®Œæˆã€‚</p>
<p>ç°è‰²ï¼šå¾…å¤„ç†ï¼Œå½“å‰å¯¹è±¡åœ¨GC Rootå¼•ç”¨é“¾ä¸Šï¼Œä»–å¼•ç”¨çš„å…¶ä»–å¯¹è±¡è¿˜æœªæ ‡è®°å®Œæˆã€‚</p>
<p>ç™½è‰²ï¼šå¯å›æ”¶ï¼Œä¸åœ¨GC Rootå¼•ç”¨é“¾ä¸Šã€‚</p>
<p>åˆå§‹æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯é»˜è®¤ä¸ºç™½è‰²ï¼Œåˆå§‹å€¼ä¸º0ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1000.png" alt="img"></p>
<p>ä¸‰è‰²æ ‡è®°ä¸­çš„é»‘è‰²å’Œç™½è‰²æ˜¯ä½¿ç”¨ä½å›¾(bitmap)æ¥å®ç°çš„,æ¯”å¦‚8ä¸ªå­—èŠ‚ä½¿ç”¨1ä¸ªbitæ¥æ ‡è¯†æ ‡è®°çš„å†…å®¹ï¼Œé»‘è‰²ä¸º1ï¼Œç™½è‰²ä¸º0ï¼Œç°è‰²ä¸ä¼šä½“ç°åœ¨ä½å›¾ä¸­ï¼Œä¼šå•ç‹¬æ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—ä¸­ã€‚å¦‚æœå¯¹è±¡è¶…è¿‡8ä¸ªå­—èŠ‚ï¼Œä»…ä»…ä½¿ç”¨ç¬¬ä¸€ä¸ªbitä½å¤„ç†ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1001.png" alt="img"></p>
<p>å°†GC Rootå¯ä»¥ç›´åˆ°çš„å¯¹è±¡Dæ ‡è®°ï¼ŒDæ²¡æœ‰å…¶ä»–å¼•ç”¨å¯¹è±¡ï¼Œæ‰€ä»¥ç›´æ¥æ ‡è®°ä¸ºä¸ºé»‘è‰²ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1002.png" alt="img"></p>
<p>æ¥ä¸‹æ¥å°†Bå¯¹è±¡æ ‡è®°ï¼Œç”±äºBå…³è”äº†Aå’ŒCï¼Œè€ŒAå’ŒCæ²¡æœ‰æ ‡è®°å®Œæˆï¼Œæ‰€ä»¥Bæ˜¯å¾…å¤„ç†çŠ¶æ€ï¼Œå°†Bé€å…¥ç°è‰²é˜Ÿåˆ—ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1003.png" alt="img"></p>
<h4 id="å¹¶å‘æ ‡è®°">å¹¶å‘æ ‡è®°</h4>
<p>æ¥ä¸‹æ¥è¿›å…¥å¹¶å‘æ ‡è®°é˜¶æ®µï¼Œç»§ç»­è¿›è¡Œæœªå®Œæˆçš„æ ‡è®°ä»»åŠ¡ã€‚æ­¤é˜¶æ®µå’Œç”¨æˆ·çº¿ç¨‹å¹¶å‘æ‰§è¡Œã€‚</p>
<p>ä»ç°è‰²é˜Ÿåˆ—ä¸­è·å–å°šæœªå®Œæˆæ ‡è®°çš„å¯¹è±¡Bã€‚æ ‡è®°Bå…³è”çš„Aå’ŒCå¯¹è±¡ï¼Œç”±äºAå’ŒCå¯¹è±¡å¹¶æœªå¼•ç”¨å…¶ä»–å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥æ ‡è®°æˆé»‘è‰²ï¼Œè€ŒBä¹Ÿå®Œæˆäº†æ‰€æœ‰å¼•ç”¨å¯¹è±¡çš„æ ‡è®°ï¼Œä¹Ÿæ ‡è®°ä¸ºé»‘è‰²ã€‚</p>
<p>æœ€åä»é˜Ÿåˆ—è·å–Cå¯¹è±¡ï¼Œæ ‡è®°ä¸ºé»‘è‰²ï¼ŒEä¹Ÿæ ‡è®°ä¸ºé»‘è‰²ã€‚æ‰€ä»¥å‰©ä½™å¯¹è±¡Få°±æ˜¯ç™½è‰²ï¼Œå¯å›æ”¶ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1004.png" alt="img"></p>
<p>æœ€åä»é˜Ÿåˆ—è·å–Cå¯¹è±¡ï¼Œæ ‡è®°ä¸ºé»‘è‰²ï¼ŒEä¹Ÿæ ‡è®°ä¸ºé»‘è‰²ã€‚æ‰€ä»¥å‰©ä½™å¯¹è±¡Få°±æ˜¯ç™½è‰²ï¼Œå¯å›æ”¶ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1005.png" alt="img"></p>
<p>ä¸‰è‰²æ ‡è®°å­˜åœ¨ä¸€ä¸ªæ¯”è¾ƒä¸¥é‡çš„é—®é¢˜ï¼Œç”±äºç”¨æˆ·çº¿ç¨‹å¯èƒ½åŒæ—¶åœ¨ä¿®æ”¹å¯¹è±¡çš„å¼•ç”¨å…³ç³»ï¼Œå°±ä¼šå‡ºç°é”™æ ‡çš„æƒ…å†µï¼Œæ¯”å¦‚ï¼š</p>
<p>è¿™ä¸ªæ¡ˆä¾‹ä¸­æ­£å¸¸æƒ…å†µä¸‹ï¼ŒBå’ŒCéƒ½ä¼šè¢«æ ‡è®°æˆé»‘è‰²ã€‚ä½†æ˜¯åœ¨BCæ ‡è®°å‰ï¼Œç”¨æˆ·çº¿ç¨‹æ‰§è¡Œäº† B.c = nullï¼›å°†Båˆ°Cçš„å¼•ç”¨å»é™¤äº†ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1006.png" alt="img"></p>
<p>åŒæ—¶æ‰§è¡Œäº†A.c = c; æ·»åŠ äº†Aåˆ°Cçš„å¼•ç”¨ã€‚æ­¤æ—¶ä¼šå‡ºç°ä¸¥é‡é—®é¢˜ï¼ŒCæ˜¯ç™½è‰²å¯å›æ”¶ä¸€æ—¦å›æ”¶ä»£ç ä¸­å†å»ä½¿ç”¨å¯¹è±¡ä¼šé€ æˆé‡å¤§é—®é¢˜ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1007.png" alt="img"></p>
<p>å¦‚æœæ¥ç€å¤„ç†Bï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1008.png" alt="img"></p>
<p>Båœ¨GCå¼•ç”¨é“¾ä¸Šï¼Œæ²¡æœ‰å¼•ç”¨ä»»ä½•å¯¹è±¡ï¼Œæ‰€ä»¥Bæ ‡è®°ä¸ºé»‘è‰²ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1009.png" alt="img"></p>
<p>è¿™æ ·Cè™½ç„¶åœ¨å¼•ç”¨é“¾ä¸Šï¼Œä½†æ˜¯è¢«å›æ”¶äº†ã€‚</p>
<p>G1ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨äº†<strong>SATBæŠ€æœ¯ï¼ˆSnapshot At The Beginningï¼Œ åˆå§‹å¿«ç…§ï¼‰</strong>ã€‚SATBæŠ€æœ¯æ˜¯è¿™æ ·å¤„ç†çš„ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1010.png" alt="img"></p>
<p>1ã€æ ‡è®°å¼€å§‹æ—¶åˆ›å»ºä¸€ä¸ªå¿«ç…§ï¼Œè®°å½•å½“å‰æ‰€æœ‰å¯¹è±¡ï¼Œæ ‡è®°è¿‡ç¨‹ä¸­æ–°ç”Ÿæˆçš„å¯¹è±¡ç›´æ¥æ ‡è®°ä¸ºé»‘è‰²ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1011.png" alt="img"></p>
<p>2ã€é‡‡ç”¨å‰ç½®å†™å±éšœæŠ€æœ¯ï¼Œåœ¨å¼•ç”¨èµ‹å€¼å‰æ¯”å¦‚B.c = nullä¹‹å‰ï¼Œå°†ä¹‹å‰å¼•ç”¨çš„å¯¹è±¡cæ”¾å…¥SATBå¾…å¤„ç†é˜Ÿåˆ—ä¸­ã€‚SATBé˜Ÿåˆ—æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªï¼Œæœ€ç»ˆä¼šæ±‡æ€»åˆ°ä¸€ä¸ªå¤§çš„SATBé˜Ÿåˆ—ä¸­ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1012-1024x358.png" alt="img"></p>
<p>æœ€ç»ˆé˜Ÿåˆ—å¤„ç†å®Œä¹‹åï¼ŒCå’ŒFå°±å¯ä»¥å®Œæˆæ ‡è®°äº†ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1013-1024x334.png" alt="img"></p>
<p>ï¼ˆå†™å±éšœæ˜¯åœ¨ç›‘æ§å¯èƒ½è¢«ä¿®æ”¹å¼•ç”¨çš„å¯¹è±¡ã€‚å½“å¯¹è±¡çš„å¼•ç”¨è¢«ä¿®æ”¹æ—¶ï¼Œå†™å±éšœä¼šå°†ä¿®æ”¹å‰çš„å¯¹è±¡ï¼ˆå‡†ç¡®æ¥è¯´æ˜¯è¢«ä¿®æ”¹å¼•ç”¨çš„é‚£ä¸ªå¯¹è±¡ï¼‰æ”¾å…¥ SATB é˜Ÿåˆ—ä¸­ï¼‰</p>
<p>SATBçš„ç¼ºç‚¹æ˜¯åœ¨æœ¬è½®æ¸…ç†æ—¶å¯èƒ½ä¼šå°†ä¸å­˜æ´»çš„å¯¹è±¡æ ‡è®°æˆå­˜æ´»å¯¹è±¡ï¼Œäº§ç”Ÿäº†ä¸€äº›æ‰€è°“çš„æµ®åŠ¨åƒåœ¾ï¼Œç­‰åˆ°ä¸‹ä¸€è½®æ¸…ç†æ—¶æ‰èƒ½å›æ”¶ã€‚æ¯”å¦‚å›¾ä¸­çš„Eå¯¹è±¡ã€‚</p>
<p>SATBä¸»è¦ä¸ºäº†è§£å†³å¹¶å‘æ ‡è®°é˜¶æ®µå¯èƒ½äº§ç”Ÿçš„å¯¹è±¡å¼•ç”¨å˜åŒ–é—®é¢˜ï¼ŒSATBå®å¯å¤šæ ‡ä¹Ÿä¸æ¼æ ‡ï¼Œå¤šæ ‡çš„å¤§ä¸äº†ä¸‹ä¸€è½®GCæ—¶å†è¢«å›æ”¶ï¼ˆæµ®åŠ¨åƒåœ¾ï¼‰ï¼Œä½†æ¼æ ‡å´ä¼šå½±å“åˆ°ç¨‹åºçš„æ­£å¸¸è¿è¡Œã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1021.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1014-1024x750.png" alt="img"></p>
<p>Cå’ŒEå¯¹è±¡ä¼šè¢«åŠ å…¥SATBé˜Ÿåˆ—ä¸­ï¼Œæœ€ç»ˆè¢«æ ‡è®°ä¸ºå­˜æ´»ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1015.png" alt="img"></p>
<p>è½¬ç§»çš„æ­¥éª¤å¦‚ä¸‹:</p>
<p>1ã€æ ¹æ®æœ€ç»ˆæ ‡è®°çš„ç»“æœï¼Œå¯ä»¥è®¡ç®—å‡ºæ¯ä¸€ä¸ªåŒºåŸŸçš„åƒåœ¾å¯¹è±¡å ç”¨å†…å­˜å¤§å°ï¼Œæ ¹æ®åœé¡¿æ—¶é—´ï¼Œé€‰æ‹©è½¬ç§»æ•ˆç‡æœ€é«˜ï¼ˆåƒåœ¾å¯¹è±¡æœ€å¤šï¼‰çš„å‡ ä¸ªåŒºåŸŸã€‚</p>
<p>2ã€è½¬ç§»æ—¶å…ˆè½¬ç§»GC Rootç›´æ¥å¼•ç”¨çš„å¯¹è±¡ï¼Œç„¶åå†è½¬ç§»å…¶ä»–å¯¹è±¡ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1016-1024x333.png" alt="img"></p>
<p>å…ˆè½¬ç§»Aå¯¹è±¡ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1017-1024x281.png" alt="img"></p>
<p>æ¥ä¸‹æ¥è½¬ç§»Bå¯¹è±¡ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1018.png" alt="img"></p>
<p>3ã€å›æ”¶è€çš„åŒºåŸŸï¼Œå¦‚æœå¤–éƒ¨æœ‰å…¶ä»–åŒºåŸŸå¯¹è±¡å¼•ç”¨äº†è½¬ç§»å¯¹è±¡ï¼Œä¹Ÿéœ€è¦é‡æ–°è®¾ç½®å¼•ç”¨å…³ç³»ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1019.png" alt="img"></p>
<p>å¤šæ¬¡å›æ”¶ä¹‹åï¼Œä¼šå‡ºç°å¾ˆå¤šOldè€å¹´ä»£åŒºï¼Œæ­¤æ—¶æ€»å †å æœ‰ç‡è¾¾åˆ°é˜ˆå€¼ï¼ˆé»˜è®¤45%ï¼‰æ—¶ä¼šè§¦å‘æ··åˆå›æ”¶MixedGCã€‚</p>
<p>æ··åˆå›æ”¶ä¼šç”±å¹´è½»ä»£å›æ”¶ä¹‹åæˆ–è€…å¤§å¯¹è±¡åˆ†é…ä¹‹åè§¦å‘ï¼Œæ··åˆå›æ”¶ä¼šå›æ”¶ æ•´ä¸ªå¹´è½»ä»£ + éƒ¨åˆ†è€å¹´ä»£ã€‚</p>
<p>è€å¹´ä»£å¾ˆå¤šæ—¶å€™ä¼šæœ‰å¤§é‡å¯¹è±¡ï¼Œè¦æ ‡è®°å‡ºæ‰€æœ‰å­˜æ´»å¯¹è±¡è€—æ—¶è¾ƒé•¿ï¼Œæ‰€ä»¥æ•´ä¸ªæ ‡è®°è¿‡ç¨‹è¦å°½é‡èƒ½åšåˆ°å’Œç”¨æˆ·çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚</p>
<h4 id="æ€»ç»“-3">æ€»ç»“</h4>
<p>1.å›¾ç¤ºæ€»ç»“</p>
<p>ä½ æä¾›çš„å›¾åƒç¤ºæ„äº†ä»ï¼š</p>
<ul>
<li>åˆå§‹æ ‡è®°ï¼ˆåªæ ‡æ ¹èŠ‚ç‚¹ç›´æ¥å¯è¾¾å¯¹è±¡ï¼‰ï¼›</li>
<li>å¹¶å‘æ ‡è®°ï¼ˆä¸æ–­å–ç°è‰²èŠ‚ç‚¹ï¼Œç»§ç»­æ ‡è®°ï¼‰ï¼›</li>
<li>SATB å†™å±éšœå¤„ç†å¼•ç”¨å˜æ›´ï¼›</li>
<li>æœ€ç»ˆæ ‡è®°å¤„ç† SATB é˜Ÿåˆ—ï¼›</li>
<li>è½¬ç§»è¿‡ç¨‹ä¸­ä¼˜å…ˆæ‹·è´ GC Root å¯¹è±¡ï¼›</li>
<li>å›æ”¶åƒåœ¾åŒºåŸŸå¹¶æ›´æ–°å¤–éƒ¨å¼•ç”¨ï¼›</li>
</ul>
<p>è¿™æ˜¯ä¸€ä¸ªâ€œå…ˆæ ‡è®°ã€å†ç­›é€‰ã€æœ€åè½¬ç§»â€çš„å…¸å‹ G1 æµç¨‹ã€‚</p>
<p>2.æ··åˆå›æ”¶çš„æ­¥éª¤ï¼šåˆå§‹æ ‡è®°ã€å¹¶å‘æ ‡è®°ã€æœ€ç»ˆæ ‡è®°ã€æ¸…ç†é˜¶æ®µã€å¯¹è±¡è½¬ç§»</p>
<p>æ­¥éª¤ 1ï¼šåˆå§‹æ ‡è®°ï¼ˆInitial Markï¼ŒSTWï¼‰</p>
<ul>
<li>æš‚åœæ‰€æœ‰ç”¨æˆ·çº¿ç¨‹ï¼›</li>
<li>é‡‡ç”¨<strong>ä¸‰è‰²æ ‡è®°æ³•</strong>æ ‡è®°ä» GC Root å¯è¾¾çš„å¯¹è±¡ï¼›</li>
<li>å› ä¸ºåªæ ‡è®°ç¬¬ä¸€å±‚ï¼Œåœé¡¿æ—¶é—´å¾ˆçŸ­ï¼›</li>
<li>æ ‡è®°çŠ¶æ€å¦‚ä¸‹ï¼š
<ul>
<li><strong>é»‘è‰²</strong>ï¼šå­˜æ´»ï¼Œä¸”å¼•ç”¨çš„å¯¹è±¡ä¹Ÿéƒ½è¢«æ ‡è®°ï¼›</li>
<li><strong>ç°è‰²</strong>ï¼šè‡ªå·±å­˜æ´»ï¼Œå¼•ç”¨å¯¹è±¡æœªå¤„ç†ï¼Œæ”¾å…¥ç°è‰²é˜Ÿåˆ—ï¼›</li>
<li><strong>ç™½è‰²</strong>ï¼šæœªæ ‡è®°ï¼Œé»˜è®¤çŠ¶æ€ï¼Œè§†ä¸ºåƒåœ¾ã€‚</li>
</ul>
</li>
</ul>
<p>æ­¥éª¤ 2ï¼šå¹¶å‘æ ‡è®°ï¼ˆConcurrent Markï¼‰</p>
<ul>
<li>ä¸åº”ç”¨çº¿ç¨‹å¹¶å‘è¿›è¡Œï¼›</li>
<li>ä»ç°è‰²é˜Ÿåˆ—ä¸­ç»§ç»­å¤„ç†å¼•ç”¨å…³ç³»ï¼›</li>
<li>æ ‡è®°æ‰€æœ‰å¯è¾¾å¯¹è±¡ï¼›</li>
<li>å¤„ç†è¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿç”¨æˆ·çº¿ç¨‹ä¿®æ”¹å¼•ç”¨çš„é—®é¢˜ï¼ŒG1 å¼•å…¥äº† <strong>SATBï¼ˆSnapshot At The Beginningï¼‰</strong> æŠ€æœ¯è§£å†³è¿™ä¸€é—®é¢˜ã€‚</li>
</ul>
<p>æ­¥éª¤ 3ï¼šæœ€ç»ˆæ ‡è®°ï¼ˆRemarkï¼ŒSTWï¼‰</p>
<ul>
<li>åœé¡¿çº¿ç¨‹ï¼›</li>
<li>å¤„ç† SATB é˜Ÿåˆ—ä¸­æ®‹ç•™çš„å¯¹è±¡å¼•ç”¨ï¼›</li>
<li>ç¡®ä¿å¹¶å‘æœŸé—´çš„å¼•ç”¨å˜æ›´ä¸ä¼šå¯¼è‡´â€œæ¼æ ‡â€ã€‚</li>
</ul>
<p>æ­¥éª¤ 4ï¼šæ¸…ç†ï¼ˆCleanupï¼ŒSTWï¼‰</p>
<ul>
<li>åˆ¤æ–­å“ªäº› Region ä¸­æ²¡æœ‰å­˜æ´»å¯¹è±¡ï¼›</li>
<li>å¯¹è¿™äº› Region è¿›è¡Œé‡Šæ”¾ï¼›</li>
<li>æ²¡æœ‰å¼•ç”¨å…³ç³»çš„åŒºåŸŸå°±å¯ä»¥ç›´æ¥å›æ”¶ã€‚</li>
</ul>
<p>æ­¥éª¤ 5ï¼šå¤åˆ¶/è½¬ç§»ï¼ˆCopy/Compactï¼‰</p>
<ul>
<li>å¹¶æ›´æ–°å¼•ç”¨å…³ç³»ï¼ˆè½¬å‘æŒ‡é’ˆã€å¡è¡¨ä¿®å¤ï¼‰ï¼›</li>
<li>æ ¹æ®æ ‡è®°ç»“æœï¼Œè®¡ç®—æ¯ä¸ª Region çš„åƒåœ¾é‡ï¼›</li>
<li>ä¼˜å…ˆå¤åˆ¶é‚£äº›â€œå›æ”¶ä»·å€¼é«˜â€çš„ Regionï¼ˆåƒåœ¾å¤šï¼‰ï¼›</li>
<li>å°†å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°æ–°çš„ Region ä¸­ï¼›</li>
</ul>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1022.png" alt="img"></p>
<h3 id="6-2-ZGCåŸç†">6.2 ZGCåŸç†</h3>
<p>ZGC æ˜¯ Java ä¸­çš„ä¸€ç§ <strong>ä½å»¶è¿Ÿã€é«˜å¯æ‰©å±•æ€§</strong> çš„åƒåœ¾å›æ”¶å™¨ï¼Œé€‚åˆéœ€è¦å“åº”é€Ÿåº¦å¿«çš„ç³»ç»Ÿï¼ˆå¦‚äº¤æ˜“å¹³å°ã€åœ¨çº¿æ¸¸æˆã€å®æ—¶è®¡ç®—ç³»ç»Ÿç­‰ï¼‰ï¼š</p>
<ul>
<li><strong>å †å¤§å°ä¸ä¼šæ˜¾è‘—å½±å“æš‚åœæ—¶é—´</strong></li>
<li><strong>STWï¼ˆStop-The-Worldï¼‰æ—¶é—´éå¸¸çŸ­</strong>ï¼Œæ¯æ¬¡åƒåœ¾å›æ”¶æš‚åœéƒ½ä¸ä¼šè¶…è¿‡ <strong>1ms</strong></li>
<li><strong>å †å†…å­˜æ”¯æŒä»å‡ ç™¾ MB åˆ° 16TB</strong></li>
</ul>
<p>åœ¨G1åƒåœ¾å›æ”¶å™¨ä¸­ï¼ŒSTWæ—¶é—´çš„ä¸»è¦æ¥æºæ˜¯åœ¨è½¬ç§»é˜¶æ®µï¼š</p>
<p>1ã€åˆå§‹æ ‡è®°ï¼ŒSTWï¼Œé‡‡ç”¨ä¸‰è‰²æ ‡è®°æ³•æ ‡è®°ä»GC Rootå¯ç›´è¾¾çš„å¯¹è±¡ã€‚ STWæ—¶é—´æçŸ­</p>
<p>2ã€å¹¶å‘æ ‡è®°ï¼Œå¹¶å‘æ‰§è¡Œï¼Œå¯¹å­˜æ´»å¯¹è±¡è¿›è¡Œæ ‡è®°ã€‚</p>
<p>3ã€æœ€ç»ˆæ ‡è®°ï¼ŒSTWï¼Œå¤„ç†SATBç›¸å…³çš„å¯¹è±¡æ ‡è®°ã€‚ STWæ—¶é—´æçŸ­</p>
<p>4ã€æ¸…ç†ï¼ŒSTWï¼Œå¦‚æœåŒºåŸŸä¸­æ²¡æœ‰ä»»ä½•å­˜æ´»å¯¹è±¡å°±ç›´æ¥æ¸…ç†ã€‚ STWæ—¶é—´æçŸ­</p>
<p>5ã€è½¬ç§»ï¼Œå°†å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°åˆ«çš„åŒºåŸŸã€‚ STWæ—¶é—´è¾ƒé•¿</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1023-1024x469.png" alt="img"></p>
<p>G1å’ŒZGCçš„åŒºåˆ«ï¼Ÿ</p>
<ul>
<li>åœ¨ G1 åƒåœ¾å›æ”¶å™¨ä¸­ï¼ŒSTW çš„å¤§å¤´åœ¨äºâ€œè½¬ç§»å¯¹è±¡â€è¿‡ç¨‹ï¼ˆä»ä¸€ä¸ªåŒºåŸŸå¤åˆ¶åˆ°å¦ä¸€ä¸ªåŒºåŸŸï¼‰ï¼Œå¿…é¡»æš‚åœæ‰€æœ‰çº¿ç¨‹ã€‚</li>
<li>ZGC åˆ™é€šè¿‡<strong>è¯»å±éšœï¼ˆLoad Barrierï¼‰</strong> + <strong>ç€è‰²æŒ‡é’ˆï¼ˆColored Pointersï¼‰</strong>ï¼Œè®©å¯¹è±¡è½¬ç§»è¿‡ç¨‹ä¹Ÿèƒ½<strong>å¹¶å‘æ‰§è¡Œ</strong>ï¼Œå®ç°ä½å»¶è¿Ÿã€‚</li>
</ul>
<h4 id="G1è½¬ç§»æ—¶éœ€è¦åœé¡¿çš„ä¸»è¦åŸå› ">G1è½¬ç§»æ—¶éœ€è¦åœé¡¿çš„ä¸»è¦åŸå› </h4>
<p>åœ¨è½¬ç§»æ—¶ï¼Œèƒ½ä¸èƒ½è®©ç”¨æˆ·çº¿ç¨‹å’ŒGCçº¿ç¨‹åŒæ—¶å·¥ä½œå‘¢ï¼Ÿè€ƒè™‘ä¸‹é¢çš„é—®é¢˜ï¼š</p>
<p>è½¬ç§»å®Œä¹‹åï¼Œéœ€è¦å°†Aå¯¹å¯¹è±¡çš„å¼•ç”¨æ›´æ”¹ä¸ºæ–°å¯¹è±¡çš„å¼•ç”¨ã€‚ä½†æ˜¯åœ¨æ›´æ”¹å‰ï¼Œæ‰§è¡ŒA.c.count = 2ï¼Œæ­¤æ—¶æ›´æ”¹çš„æ˜¯è½¬ç§»å‰å¯¹è±¡ä¸­çš„å±æ€§</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1024.png" alt="img"></p>
<p>æ›´æ”¹å¼•ç”¨ä¹‹å, Aå¼•ç”¨äº†è½¬ç§»ä¹‹åçš„å¯¹è±¡ï¼Œæ­¤æ—¶è·å–A.c.countå‘ç°å±æ€§å€¼ä¾ç„¶æ˜¯1ã€‚è¿™æ ·å°±äº§ç”Ÿäº†é—®é¢˜ï¼Œæ‰€ä»¥G1ä¸ºäº†è§£å†³é—®é¢˜ï¼Œåœ¨è½¬ç§»è¿‡ç¨‹ä¸­éœ€è¦è¿›è¡Œç”¨æˆ·çº¿ç¨‹çš„åœæ­¢ã€‚ZGCå’ŒShenandoahè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œè®©è½¬ç§»è¿‡ç¨‹ä¹Ÿèƒ½å¤Ÿå¹¶å‘æ‰§è¡Œã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1025.png" alt="img"></p>
<p>åœ¨ZGCä¸­ï¼Œä½¿ç”¨äº†<strong>è¯»å±éšœLoad BarrieræŠ€æœ¯</strong>ï¼Œæ¥å®ç°è½¬ç§»åå¯¹è±¡çš„è·å–ã€‚å½“è·å–ä¸€ä¸ªå¯¹è±¡å¼•ç”¨æ—¶ï¼Œä¼šè§¦å‘è¯»åçš„å±éšœæŒ‡ä»¤ï¼Œå¦‚æœå¯¹è±¡æŒ‡å‘çš„ä¸æ˜¯è½¬ç§»åçš„å¯¹è±¡ï¼Œç”¨æˆ·çº¿ç¨‹ä¼šå°†å¼•ç”¨æŒ‡å‘è½¬ç§»åçš„å¯¹è±¡ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1046.png" alt="img"></p>
<p>få˜é‡ä¸€å¼€å§‹æŒ‡å‘è½¬ç§»å‰çš„å¯¹è±¡ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1026-1024x548.png" alt="img"></p>
<p>é€šè¿‡è¯»åå±éšœæŒ‡ä»¤ï¼Œåˆ¤æ–­å¦‚æœæ˜¯è½¬ç§»å‰çš„å¯¹è±¡ï¼Œå°±æ”¹å†™æŒ‡é’ˆå†…å®¹ï¼ŒæŒ‡å‘è½¬ç§»åçš„å¯¹è±¡ã€‚ï¼ˆç¡®ä¿ç»è¿‡è¯»åå±éšœä¹‹åæŒ‡é’ˆä¸€å®šæŒ‡å‘è½¬ç§»åçš„å¯¹è±¡ï¼Œè§£å†³äº†G1åœ¨è½¬ç§»è¿‡ç¨‹ä¸­å¿…é¡»åœæ­¢ç”¨æˆ·çº¿ç¨‹çš„é—®é¢˜ã€‚ï¼‰</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1027-1024x388.png" alt="img"></p>
<p>è¿™æ ·å¯¹f.countè¿›è¡Œèµ‹å€¼æ“ä½œï¼Œæ“ä½œçš„å°±æ˜¯è½¬ç§»åçš„å¯¹è±¡äº†ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1028-1024x378.png" alt="img"></p>
<p>é‚£ä¹ˆZGCæ˜¯å¦‚ä½•åˆ¤æ–­å¯¹è±¡æ˜¯è½¬ç§»å‰è¿˜æ˜¯è½¬ç§»åçš„å‘¢ï¼Ÿå®ƒä¸»è¦ä½¿ç”¨äº†ç€è‰²æŒ‡é’ˆï¼ˆColored Pointersï¼‰ã€‚</p>
<h4 id="ç€è‰²æŒ‡é’ˆï¼ˆColored-Pointersï¼‰">ç€è‰²æŒ‡é’ˆï¼ˆColored Pointersï¼‰</h4>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1047.png" alt="img"></p>
<p>ç€è‰²æŒ‡é’ˆå°†åŸæ¥çš„8å­—èŠ‚ä¿å­˜åœ°å€çš„æŒ‡é’ˆæ‹†åˆ†æˆäº†ä¸‰éƒ¨åˆ†ï¼š</p>
<p>1ã€æœ€ä½çš„44ä½ï¼Œç”¨äºè¡¨ç¤ºå¯¹è±¡çš„åœ°å€ï¼Œæ‰€ä»¥æœ€å¤šèƒ½è¡¨ç¤º16TBçš„å†…å­˜ç©ºé—´ã€‚</p>
<p>2ã€ä¸­é—´4ä½æ˜¯é¢œè‰²ä½ï¼Œæ¯ä¸€ä½åªèƒ½å­˜æ”¾0æˆ–è€…1ï¼Œå¹¶ä¸”åŒä¸€æ—¶é—´åªæœ‰å…¶ä¸­ä¸€ä½æ˜¯1ã€‚</p>
<p>ç»ˆç»“ä½ï¼šåªèƒ½é€šè¿‡ç»ˆç»“å™¨è®¿é—®</p>
<p>é‡æ˜ å°„ä½(Remap)ï¼šè½¬ç§»å®Œä¹‹åï¼Œå¯¹è±¡çš„å¼•ç”¨å…³ç³»å·²ç»å®Œæˆå˜æ›´ã€‚</p>
<p>Marked0å’ŒMarked1ï¼šæ ‡è®°å¯è¾¾å¯¹è±¡</p>
<p>3ã€16ä½æœªä½¿ç”¨</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1029.png" alt="img"></p>
<p>è®¿é—®å¯¹è±¡å¼•ç”¨æ—¶ï¼Œä½¿ç”¨çš„æ˜¯å¯¹è±¡çš„åœ°å€ã€‚åœ¨64ä½è™šæ‹Ÿæœºä¸­ï¼Œæ˜¯8ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºæ¥è¿‘æ— é™çš„å†…å­˜ç©ºé—´ã€‚æ‰€ä»¥ä¸€èˆ¬å†…å­˜ä¸­å¯¹è±¡ï¼Œé«˜å‡ ä½éƒ½æ˜¯0æ²¡æœ‰ä½¿ç”¨ã€‚ç€è‰²æŒ‡é’ˆå°±æ˜¯åˆ©ç”¨äº†è¿™å¤šä½™çš„å‡ ä½ï¼Œå­˜å‚¨äº†çŠ¶æ€ä¿¡æ¯ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1030.png" alt="img"></p>
<p>æ­£å¸¸åº”ç”¨ç¨‹åºä½¿ç”¨8ä¸ªå­—èŠ‚å»è¿›è¡Œå¯¹è±¡çš„è®¿é—®ï¼Œç°åœ¨åªä½¿ç”¨äº†44ä½ï¼Œä¸ä¼šäº§ç”Ÿé—®é¢˜å—ï¼Ÿ</p>
<p>åº”ç”¨ç¨‹åºä½¿ç”¨çš„å¯¹è±¡åœ°å€ï¼Œåªæ˜¯è™šæ‹Ÿå†…å­˜ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†è™šæ‹Ÿå†…å­˜è½¬æ¢æˆç‰©ç†å†…å­˜ã€‚è€ŒZGCé€šè¿‡æ“ä½œç³»ç»Ÿæ›´æ”¹äº†è¿™å±‚é€»è¾‘ã€‚æ‰€ä»¥ä¸ç®¡é¢œè‰²ä½å˜æˆå¤šå°‘ï¼ŒæŒ‡é’ˆæŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1031-1024x303.png" alt="img"></p>
<p>åœ¨ZGCä¸­ï¼Œä¸G1åƒåœ¾å›æ”¶å™¨ä¸€æ ·å°†å †å†…å­˜åˆ’åˆ†æˆå¾ˆå¤šä¸ªåŒºåŸŸï¼Œè¿™äº›å†…å­˜åŒºåŸŸè¢«ç§°ä¹‹ä¸ºZpageã€‚</p>
<p>Zpageåˆ†æˆä¸‰ç±»å¤§ä¸­å°ï¼Œç®¡æ§ç²’åº¦æ¯”G1æ›´ç»†ï¼Œè¿™æ ·æ›´å®¹æ˜“å»æ§åˆ¶åœé¡¿æ—¶é—´ã€‚</p>
<p>å°åŒºåŸŸï¼š2Mï¼Œåªèƒ½ä¿å­˜256KBå†…çš„å¯¹è±¡ã€‚</p>
<p>ä¸­åŒºåŸŸï¼š32Mï¼Œä¿å­˜256KB â€“ 4Mçš„å¯¹è±¡ã€‚</p>
<p>å¤§åŒºåŸŸï¼šåªä¿å­˜ä¸€ä¸ªå¤§äº4Mçš„å¯¹è±¡ã€‚</p>
<h4 id="åˆå§‹æ ‡è®°é˜¶æ®µ">åˆå§‹æ ‡è®°é˜¶æ®µ</h4>
<p>æ ‡è®°Gc Rootså¼•ç”¨çš„å¯¹è±¡ä¸ºå­˜æ´»å¯¹è±¡æ•°é‡ä¸å¤šï¼Œæ‰€ä»¥åœé¡¿æ—¶é—´éå¸¸çŸ­ã€‚</p>
<p>åˆå§‹é˜¶æ®µä¼šæ ‡è®°GC Rootsç›´æ¥å…³è”çš„å¯¹è±¡ï¼Œå¯¹å¼•ç”¨è¿™äº›å¯¹è±¡çš„æŒ‡é’ˆä¸Šçš„marked0ä½æ ‡è®°ä¸º1ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1032-1024x415.png" alt="img"></p>
<h4 id="å¹¶å‘æ ‡è®°é˜¶æ®µ">å¹¶å‘æ ‡è®°é˜¶æ®µ</h4>
<p>éå†æ‰€æœ‰å¯¹è±¡ï¼Œæ ‡è®°å¯ä»¥åˆ°è¾¾çš„æ¯ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜æ´»ï¼Œç”¨æˆ·çº¿ç¨‹ä½¿ç”¨è¯»å±éšœï¼Œå¦‚æœå‘ç°å¯¹è±¡æ²¡æœ‰å®Œæˆæ ‡è®°ä¹Ÿä¼šå¸®å¿™è¿›è¡Œæ ‡è®°ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1033.png" alt="img"></p>
<h4 id="å¹¶å‘å¤„ç†é˜¶æ®µ">å¹¶å‘å¤„ç†é˜¶æ®µ</h4>
<p>é€‰æ‹©éœ€è¦è½¬ç§»çš„Zpageï¼Œå¹¶åˆ›å»ºè½¬ç§»è¡¨ï¼Œç”¨äºè®°å½•è½¬ç§»å‰å¯¹è±¡å’Œè½¬ç§»åå¯¹è±¡åœ°å€ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1034.png" alt="img"></p>
<h4 id="è½¬ç§»å¼€å§‹é˜¶æ®µ">è½¬ç§»å¼€å§‹é˜¶æ®µ</h4>
<p>è½¬ç§»GC Rootç›´æ¥å…³è”çš„å¯¹è±¡ï¼Œä¸è½¬ç§»çš„å¯¹è±¡remappedå€¼è®¾ç½®æˆ1ï¼Œé¿å…é‡å¤è¿›è¡Œåˆ¤æ–­ã€‚</p>
<p>å¦‚ä¸‹1å’Œ2ä¸è½¬ç§»ï¼Œå°†remappedç½®ä¸º1ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1035-1024x465.png" alt="img"></p>
<p>æ¥ä¸‹æ¥å¼€å§‹è½¬ç§»ï¼š</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1036.png" alt="img"></p>
<h4 id="å¹¶å‘è½¬ç§»é˜¶æ®µ">å¹¶å‘è½¬ç§»é˜¶æ®µ</h4>
<p>å°†å‰©ä½™å¯¹è±¡è½¬ç§»åˆ°æ–°çš„ZPageä¸­ï¼Œè½¬ç§»ä¹‹åå°†ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€è®°å…¥è½¬ç§»æ˜ å°„è¡¨ã€‚</p>
<p>è½¬ç§»å®Œä¹‹åï¼Œè½¬ç§»å‰çš„Zpageå°±å¯ä»¥æ¸…ç©ºäº†ï¼Œè½¬ç§»è¡¨éœ€è¦ä¿ç•™ä¸‹æ¥ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1037-1024x464.png" alt="img"></p>
<p>æ­¤æ—¶ï¼Œå¦‚æœç”¨æˆ·çº¿ç¨‹è®¿é—®4å¯¹è±¡å¼•ç”¨çš„5å¯¹è±¡ï¼Œä¼šé€šè¿‡è¯»å±éšœï¼Œå°†4å¯¹5çš„å¼•ç”¨è¿›è¡Œé‡ç½®ï¼Œä¿®æ”¹ä¸ºå¯¹5çš„å¼•ç”¨ï¼ŒåŒæ—¶å°†remapæ ‡è®°ä¸º1ä»£è¡¨å·²ç»é‡æ–°æ˜ å°„å®Œæˆã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1038.png" alt="img"></p>
<p>å¹¶å‘è½¬ç§»é˜¶æ®µç»“æŸä¹‹åï¼Œè¿™ä¸€è½®çš„åƒåœ¾å›æ”¶å°±ç»“æŸäº†ï¼Œä½†å…¶å®å¹¶æ²¡æœ‰å®Œæˆæ‰€æœ‰æŒ‡é’ˆçš„é‡æ˜ å°„å·¥ä½œï¼Œè¿™ä¸ªå·¥ä½œä¼šæ”¾åˆ°ä¸‹ä¸€é˜¶æ®µï¼Œä¸ä¸‹ä¸€é˜¶æ®µçš„æ ‡è®°é˜¶æ®µä¸€èµ·å®Œæˆï¼ˆå› ä¸ºéƒ½éœ€è¦éå†æ•´ä¸ªå¯¹è±¡å›¾ï¼‰ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1039-1024x474.png" alt="img"></p>
<h4 id="ç¬¬äºŒæ¬¡åƒåœ¾å›æ”¶çš„åˆå§‹æ ‡è®°é˜¶æ®µ">ç¬¬äºŒæ¬¡åƒåœ¾å›æ”¶çš„åˆå§‹æ ‡è®°é˜¶æ®µ</h4>
<p>ç¬¬äºŒæ¬¡åƒåœ¾å›æ”¶çš„åˆå§‹æ ‡è®°é˜¶æ®µï¼Œæ²¿ç€GC Rootæ ‡è®°å¯¹è±¡ã€‚è¿™ä¸€æ¬¡ä¼šä½¿ç”¨marked1ï¼Œå› ä¸ºmarked0æ˜¯ä¸Šä¸€æ¬¡åƒåœ¾å›æ”¶äº†ã€‚è¿™æ ·å¯ä»¥å¾ˆå®¹æ˜“åŒºåˆ†å‡ºæ˜¯è¿™ä¸€æ¬¡åƒåœ¾å›æ”¶çš„æ ‡è®°é˜¶æ®µè¿˜æ˜¯ä¸Šä¸€æ¬¡åƒåœ¾å›æ”¶çš„ã€‚ï¼ˆè¿™å°±æ˜¯ä¸ºä»€ä¹ˆZGCè¦ç”¨2ä½markedä½æ¥æ ‡è®°å¯è¾¾å¯¹è±¡äº†ï¼‰</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1040.png" alt="img"></p>
<p>å¦‚æœMarked0ä¸º1ä»£è¡¨ä¸Šä¸€è½®çš„é‡æ˜ å°„è¿˜æ²¡æœ‰å®Œæˆï¼Œå…ˆå®Œæˆé‡æ˜ å°„ä»è½¬ç§»è¡¨ä¸­æ‰¾åˆ°è€å¯¹è±¡è½¬ç§»åçš„æ–°å¯¹è±¡ï¼Œå†è¿›è¡Œæ ‡è®°ã€‚å¦‚æœRemapä¸º1ï¼Œåªéœ€è¦è¿›è¡Œæ ‡è®°ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1041.png" alt="img"></p>
<p>å°†è½¬ç§»æ˜ å°„è¡¨åˆ é™¤ï¼Œé‡Šæ”¾å†…å­˜ç©ºé—´ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1042-1024x406.png" alt="img"></p>
<h4 id="å¹¶å‘é—®é¢˜">å¹¶å‘é—®é¢˜</h4>
<p>å¦‚æœç”¨æˆ·çº¿ç¨‹åœ¨å¸®å¿™è½¬ç§»æ—¶ï¼ŒGCçº¿ç¨‹ä¹Ÿå‘ç°è¿™ä¸ªå¯¹è±¡éœ€è¦å¤åˆ¶ï¼Œé‚£ä¹ˆå°±ä¼šå»å°è¯•å†™å…¥è½¬ç§»æ˜ å°„è¡¨ï¼Œå¦‚æœå‘ç°æ˜ å°„è¡¨ä¸­å·²ç»æœ‰ç›¸åŒçš„è€å¯¹è±¡ï¼Œç›´æ¥æ”¾å¼ƒã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1043.png" alt="img"></p>
<h4 id="æ€»ç»“ï¼šZGC-å›æ”¶è¿‡ç¨‹è¯¦è§£">æ€»ç»“ï¼šZGC å›æ”¶è¿‡ç¨‹è¯¦è§£</h4>
<p>ZGCçš„åƒåœ¾å›æ”¶è¿‡ç¨‹å®Œå…¨å¹¶å‘ï¼Œåˆ†å¤šä¸ªé˜¶æ®µè¿›è¡Œï¼Œä¸”æ¯ä¸ªé˜¶æ®µéƒ½å°½é‡é¿å…å…¨åœé¡¿ï¼ˆSTWï¼‰ï¼š</p>
<ol>
<li>åˆå§‹æ ‡è®°ï¼ˆSTWï¼‰</li>
</ol>
<ul>
<li>
<p>æ ‡è®° GC Rootsï¼ˆå¦‚çº¿ç¨‹æ ˆã€é™æ€å˜é‡ï¼‰ç›´æ¥å¼•ç”¨çš„å¯¹è±¡</p>
</li>
<li>
<p>å¯¹åº”æŒ‡é’ˆçš„ Marked0 è®¾ä¸º 1</p>
</li>
<li>
<p>STW æ—¶é—´æçŸ­</p>
</li>
<li>
<p>å¹¶å‘æ ‡è®°</p>
</li>
<li>
<p>éå†å¯¹è±¡å›¾ï¼Œæ ‡è®°æ‰€æœ‰â€œå¯è¾¾å¯¹è±¡â€</p>
</li>
<li>
<p>ç”¨æˆ·çº¿ç¨‹è®¿é—®å¯¹è±¡æ—¶å¦‚æœå‘ç°å¯¹è±¡æœªè¢«æ ‡è®°ï¼Œä¼šâ€œé¡ºå¸¦â€å¸®å¿™å®Œæˆæ ‡è®°å·¥ä½œï¼ˆååŒæœºåˆ¶ï¼‰</p>
</li>
<li>
<p>å¹¶å‘å¤„ç†</p>
</li>
<li>
<p>å†³å®šå“ªäº› ZPageï¼ˆå†…å­˜é¡µï¼‰éœ€è¦è¢«è½¬ç§»</p>
</li>
<li>
<p>å»ºç«‹<strong>è½¬ç§»æ˜ å°„è¡¨</strong>ï¼ˆè®°å½•æ—§åœ°å€ â†’ æ–°åœ°å€ï¼‰</p>
</li>
<li>
<p>è½¬ç§»é˜¶æ®µï¼ˆå¼€å§‹+å¹¶å‘ï¼‰</p>
</li>
</ul>
<h4 id="å¼€å§‹é˜¶æ®µï¼ˆè½¬ç§»-GC-Root-ç›´æ¥å¼•ç”¨çš„å¯¹è±¡ï¼‰">- å¼€å§‹é˜¶æ®µï¼ˆè½¬ç§» GC Root ç›´æ¥å¼•ç”¨çš„å¯¹è±¡ï¼‰</h4>
<ul>
<li>ä¸æ˜¯æ‰€æœ‰å¯¹è±¡éƒ½ç«‹åˆ»è½¬ç§»</li>
<li>è‹¥å¯¹è±¡æš‚ä¸è½¬ç§»ï¼Œåˆ™å°†å…¶â€œremap ä½â€è®¾ä¸º 1ï¼Œé˜²æ­¢é‡å¤åˆ¤æ–­</li>
</ul>
<h4 id="å¹¶å‘é˜¶æ®µï¼ˆè½¬ç§»å‰©ä½™å¯¹è±¡ï¼‰">- å¹¶å‘é˜¶æ®µï¼ˆè½¬ç§»å‰©ä½™å¯¹è±¡ï¼‰</h4>
<ul>
<li>å°†å¯¹è±¡å¤åˆ¶åˆ°æ–° ZPage ä¸­</li>
<li>æ›´æ–°è½¬ç§»è¡¨</li>
<li>æ—§ ZPage æ¸…ç©ºï¼Œè½¬ç§»è¡¨ä¿ç•™</li>
</ul>
<p>âš ï¸ ç”¨æˆ·çº¿ç¨‹è®¿é—®å¯¹è±¡æ—¶ï¼Œä¼šé€šè¿‡è¯»å±éšœé‡è®¾å¼•ç”¨åœ°å€ï¼Œå¹¶è®¾ç½® remap ä½ä¸º 1ã€‚</p>
<ol start="5">
<li>ç¬¬äºŒæ¬¡ GCï¼ˆå®Œæˆä¸Šæ¬¡æœªåšå®Œçš„è½¬ç§»ï¼‰</li>
</ol>
<p>ZGC é‡‡ç”¨â€œä¸¤é˜¶æ®µæ ‡è®°æœºåˆ¶â€ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ¬¡ GC ç”¨ Marked0</li>
<li>ç¬¬äºŒæ¬¡ GC ç”¨ Marked1</li>
<li>å¯ä»¥åŒºåˆ†æœ¬æ¬¡ GC ä¸ä¸Šæ¬¡ GC çš„æ ‡è®°çŠ¶æ€ï¼Œå®Œæˆå‰©ä½™é‡æ˜ å°„å·¥ä½œ</li>
<li>å¹¶å‘é—®é¢˜å¤„ç†æœºåˆ¶</li>
</ul>
<p>ç”¨æˆ·çº¿ç¨‹ä¸ GC çº¿ç¨‹å¯èƒ½åŒæ—¶å°è¯•è½¬ç§»å¯¹è±¡ï¼š</p>
<ul>
<li>å¦‚æœæ˜ å°„è¡¨ä¸­å·²æœ‰è¯¥å¯¹è±¡ï¼Œå°±æ”¾å¼ƒé‡å¤è½¬ç§»ï¼Œé¿å…å†²çª</li>
</ul>
<h4 id="åˆ†ä»£ZGCçš„è®¾è®¡">åˆ†ä»£ZGCçš„è®¾è®¡</h4>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1048.png" alt="img"></p>
<p>åœ¨JDK21ä¹‹åï¼ŒZGCè®¾è®¡äº†å¹´è½»ä»£å’Œè€å¹´ä»£ï¼Œè¿™æ ·å¯ä»¥è®©å¤§éƒ¨åˆ†å¯¹è±¡åœ¨å¹´è½»ä»£å›æ”¶ï¼Œå‡å°‘è€å¹´ä»£çš„æ‰«ææ¬¡æ•°ï¼ŒåŒæ ·å¯ä»¥æå‡ä¸€å®šçš„æ€§èƒ½ã€‚åŒæ—¶ï¼Œå¹´è½»ä»£å’Œè€å¹´ä»£çš„åƒåœ¾å›æ”¶å¯ä»¥å¹¶è¡Œæ‰§è¡Œã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1044.png" alt="img"></p>
<p>åˆ†ä»£ä¹‹åçš„ç€è‰²æŒ‡é’ˆå°†åŸæ¥çš„8å­—èŠ‚ä¿å­˜åœ°å€çš„æŒ‡é’ˆæ‹†åˆ†æˆäº†ä¸‰éƒ¨åˆ†ï¼š</p>
<p>1ã€46ä½ç”¨æ¥è¡¨ç¤ºå¯¹è±¡åœ°å€ï¼Œæœ€å¤šå¯ä»¥è¡¨ç¤º64TBçš„åœ°å€ç©ºé—´ã€‚</p>
<p>2ã€ä¸­é—´çš„12ä½ä¸ºé¢œè‰²ä½ã€‚</p>
<p>3ã€æœ€ä½4ä½å’Œæœ€é«˜2ä½æœªä½¿ç”¨</p>
<p>æ•´ä¸ªåˆ†ä»£ä¹‹åçš„è¯»å†™å±éšœã€ç€è‰²æŒ‡é’ˆçš„ç§»ä½ä½¿ç”¨éƒ½å˜çš„å¼‚å¸¸å¤æ‚ï¼Œä»…ä½œäº†è§£å³å¯ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1045.png" alt="img"></p>
<h4 id="æ€»ç»“-ZGCæ ¸å¿ƒæŠ€æœ¯ï¼š">æ€»ç»“ - ZGCæ ¸å¿ƒæŠ€æœ¯ï¼š</h4>
<table>
<thead>
<tr>
<th>æŠ€æœ¯</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç€è‰²æŒ‡é’ˆ</td>
<td>åœ¨æŒ‡é’ˆä¸­åµŒå…¥çŠ¶æ€ä¿¡æ¯ï¼Œæ— éœ€é¢å¤–æ•°æ®ç»“æ„è®°å½•å¯¹è±¡çŠ¶æ€</td>
</tr>
<tr>
<td>è¯»å±éšœï¼ˆLoad Barrierï¼‰</td>
<td>æ‹¦æˆªå¼•ç”¨è¯»å–æ“ä½œï¼Œå®ç°å¹¶å‘å¯¹è±¡è½¬ç§»ä¸è‡ªåŠ¨ä¿®æ­£å¼•ç”¨</td>
</tr>
<tr>
<td>å¹¶å‘æ‰§è¡Œæœºåˆ¶</td>
<td>å›æ”¶å…¨ç¨‹æœ€å° STWï¼Œç”¨æˆ·çº¿ç¨‹ååŒå‚ä¸ï¼ˆæ¯”å¦‚æ ‡è®°æˆ–è½¬ç§»ï¼‰</td>
</tr>
<tr>
<td>è½¬ç§»æ˜ å°„è¡¨</td>
<td>è·Ÿè¸ªå¯¹è±¡ä»æ—§åœ°å€åˆ°æ–°åœ°å€çš„è¿ç§»è¿‡ç¨‹ï¼Œæ”¯æŒæ‡’æƒ°æ›´æ–°å¼•ç”¨</td>
</tr>
</tbody>
</table>
<h3 id="6-3-ShenandoahGCåŸç†">6.3 ShenandoahGCåŸç†</h3>
<p><strong>ç›®æ ‡</strong>ï¼šShenandoahGC æ—¨åœ¨å®ç°<strong>ä½å»¶è¿Ÿ GC</strong>ï¼Œå®ƒçš„è®¾è®¡ç†å¿µæ˜¯å°†å¤§éƒ¨åˆ†åƒåœ¾å›æ”¶è¿‡ç¨‹å¹¶å‘æ‰§è¡Œï¼Œä»è€Œå‡å°‘â€œStop The Worldâ€ï¼ˆSTWï¼‰æ—¶é—´ã€‚</p>
<p><strong>çµæ„Ÿæ¥æº</strong>ï¼šShenandoahGC æœ€åˆæ˜¯åŸºäº G1 æ”¹é€ è€Œæ¥çš„ï¼Œæ‰€ä»¥å®ƒåœ¨ <strong>åŒºåŸŸåˆ’åˆ†ã€åŸºæœ¬ç»“æ„</strong> ä¸Šä¸ G1 ç›¸ä¼¼ã€‚</p>
<p><strong>ä¸ ZGC çš„ä¸åŒ</strong>ï¼š</p>
<ul>
<li>ZGC æ˜¯ä»é›¶å¼€å‘çš„åƒåœ¾å›æ”¶å™¨ï¼Œé‡‡ç”¨<strong>ç€è‰²æŒ‡é’ˆï¼ˆColored Pointerï¼‰</strong>ã€‚</li>
<li>ShenandoahGC åˆ™æ˜¯é‡ç”¨ G1 çš„ä¸€äº›ç»“æ„ï¼Œ<strong>æ²¡æœ‰ç€è‰²æŒ‡é’ˆ</strong>ï¼Œè€Œæ˜¯é€šè¿‡ <strong>ä¿®æ”¹å¯¹è±¡å¤´ï¼ˆMark Wordï¼‰æˆ–é¢å¤–æŒ‡é’ˆ</strong>å®ç°å¹¶å‘è½¬ç§»ã€‚</li>
<li>ShenandoahGCæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œ1.0ç‰ˆæœ¬å­˜åœ¨äºJDK8å’ŒJDK11ä¸­ï¼Œåç»­çš„JDKç‰ˆæœ¬ä¸­å‡ä½¿ç”¨2.0ç‰ˆæœ¬ã€‚</li>
</ul>
<p>ShenandoahGC åƒ G1 ä¸€æ ·ï¼ŒæŠŠå †åˆ’åˆ†ä¸ºè‹¥å¹² Regionï¼ˆåŒºåŸŸï¼‰ï¼Œæ¯ä¸ª Region å¯ä»¥æ˜¯å¹´è½»ä»£ã€è€å¹´ä»£ç­‰è§’è‰²ï¼Œå›æ”¶æ—¶ä¹Ÿå¯ä»¥åªå¤„ç†éƒ¨åˆ† Regionï¼Œå®ç°å¯æ§ã€åˆ†é˜¶æ®µçš„åƒåœ¾å›æ”¶ã€‚</p>
<h4 id="1-0ç‰ˆæœ¬">1.0ç‰ˆæœ¬</h4>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1049.png" alt="img"></p>
<p>å¦‚æœè½¬ç§»é˜¶æ®µæœªå®Œæˆï¼Œæ­¤æ—¶è½¬ç§»å‰çš„å¯¹è±¡å’Œè½¬ç§»åçš„å¯¹è±¡éƒ½ä¼šå­˜æ´»ã€‚å¦‚æœç”¨æˆ·å»è®¿é—®æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨è½¬ç§»åçš„æ•°æ®ã€‚ ShenandoahGCä½¿ç”¨äº†è¯»å‰å±éšœï¼Œæ ¹æ®å¯¹è±¡çš„å‰å‘æŒ‡é’ˆæ¥è·å–åˆ°è½¬ç§»åçš„å¯¹è±¡å¹¶è¯»å–ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1050.png" alt="img"></p>
<p>å†™å…¥æ•°æ®æ—¶ä¼šä½¿ç”¨å†™å‰å±éšœï¼Œåˆ¤æ–­Mark Wordä¸­çš„GCçŠ¶æ€ï¼Œå¦‚æœGCçŠ¶æ€ä¸º0è¯æ˜æ²¡æœ‰å¤„äºGCè¿‡ç¨‹ä¸­ï¼Œç›´æ¥å†™å…¥ï¼Œå¦‚æœä¸ä¸º0åˆ™æ ¹æ®GCçŠ¶æ€å€¼ç¡®è®¤å½“å‰å¤„äºåƒåœ¾å›æ”¶çš„å“ªä¸ªé˜¶æ®µï¼Œè®©ç”¨æˆ·çº¿ç¨‹æ‰§è¡Œåƒåœ¾å›æ”¶ç›¸å…³çš„ä»»åŠ¡ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1051.png" alt="img"></p>
<p>1.0ç‰ˆæœ¬çš„ç¼ºç‚¹ï¼š</p>
<p>1ã€å¯¹è±¡å†…å­˜å¤§å¤§å¢åŠ ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½éœ€è¦å¢åŠ 8ä¸ªå­—èŠ‚çš„å‰å‘æŒ‡é’ˆï¼ŒåŸºæœ¬ä¸Šä¼šå ç”¨5% - 10%çš„ç©ºé—´ã€‚</p>
<p>2ã€è¯»å±éšœä¸­åŠ å…¥äº†å¤æ‚çš„æŒ‡ä»¤ï¼Œå½±å“ä½¿ç”¨æ•ˆç‡ã€‚</p>
<p><strong>1.0 ç‰ˆæœ¬ï¼ˆJDK8 / JDK11ï¼‰</strong></p>
<p>âœ… ç‰¹ç‚¹ï¼š</p>
<ol>
<li>æ¯ä¸ªå¯¹è±¡é™„åŠ ä¸€ä¸ª<strong>å‰å‘æŒ‡é’ˆï¼ˆForwarding Pointerï¼‰</strong>ï¼Œç”¨äºè®°å½•è½¬ç§»åå¯¹è±¡çš„åœ°å€ã€‚</li>
<li>å®ç°äº†è¯»å±éšœå’Œå†™å±éšœæœºåˆ¶ï¼Œè®©ç”¨æˆ·çº¿ç¨‹å¯ä»¥<strong>åœ¨GCè¿‡ç¨‹ä¸­è®¿é—®æ­£ç¡®çš„å¯¹è±¡å†…å®¹</strong>ã€‚</li>
</ol>
<p>âœ… æœºåˆ¶è¯´æ˜ï¼š</p>
<ul>
<li>
<p>è¯»å±éšœï¼ˆRead Barrierï¼‰</p>
<p>ï¼š</p>
<ul>
<li>å½“è®¿é—®å¯¹è±¡å­—æ®µæ—¶ï¼Œåˆ¤æ–­è¿™ä¸ªå¯¹è±¡æ˜¯å¦å·²ç»è¢«ç§»åŠ¨ï¼ˆé€šè¿‡å‰å‘æŒ‡é’ˆåˆ¤æ–­ï¼‰ã€‚</li>
<li>å¦‚æœå·²ç»ç§»åŠ¨ï¼Œå°±è·³è½¬è¯»å–æ–°åœ°å€çš„å¯¹è±¡ï¼Œé˜²æ­¢è¯»åˆ°æ—§æ•°æ®ã€‚</li>
</ul>
</li>
<li>
<p>å†™å±éšœï¼ˆWrite Barrierï¼‰</p>
<p>ï¼š</p>
<ul>
<li>åˆ¤æ–­å½“å‰å¯¹è±¡æ˜¯å¦å¤„äº GC çŠ¶æ€ã€‚</li>
<li>å¦‚æœåœ¨ GC è¿‡ç¨‹ä¸­ï¼Œä¼šæ ¹æ® GC çš„é˜¶æ®µè§¦å‘ç”¨æˆ·çº¿ç¨‹å‚ä¸ä¸€äº›è¾…åŠ©æ“ä½œï¼ˆå¦‚ååŠ©è½¬ç§»ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p>âŒ ç¼ºç‚¹ï¼š</p>
<ol>
<li>æ¯ä¸ªå¯¹è±¡éœ€è¦é¢å¤–å ç”¨ 8 å­—èŠ‚å‰å‘æŒ‡é’ˆï¼Œå¯¼è‡´å†…å­˜å¼€é”€å¢åŠ ï¼ˆ5%-10%ï¼‰ã€‚</li>
<li>è¯»å±éšœé€»è¾‘å¤æ‚ï¼Œå½±å“è®¿é—®æ€§èƒ½ã€‚</li>
</ol>
<h4 id="2-0ç‰ˆæœ¬">2.0ç‰ˆæœ¬</h4>
<p>2.0ç‰ˆæœ¬ä¼˜åŒ–äº†å‰å‘æŒ‡é’ˆçš„ä½ç½®ï¼Œä»…è½¬ç§»é˜¶æ®µå°†å…¶æ”¾å…¥äº†Mark Wordä¸­ã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1052.png" alt="img"></p>
<p>âœ… ä¼˜åŒ–ç‚¹ï¼š</p>
<ul>
<li>å°†å‰å‘æŒ‡é’ˆç§»å…¥å¯¹è±¡å¤´ï¼ˆMark Wordï¼‰ä¸­ï¼Œåªåœ¨ <strong>è½¬ç§»é˜¶æ®µä¸´æ—¶ä½¿ç”¨</strong>ï¼Œå¤§å¹…é™ä½ç©ºé—´å ç”¨ã€‚</li>
<li>å‡å°‘äº†è¯»å±éšœçš„å¤æ‚åº¦ï¼Œæé«˜æ€§èƒ½ã€‚</li>
</ul>
<h4 id="ShenandoahGCçš„æ‰§è¡Œæµç¨‹">ShenandoahGCçš„æ‰§è¡Œæµç¨‹</h4>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1053-1024x490.png" alt="img"></p>
<p>ShenandoahGC çš„å®Œæ•´æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼šInitial Mark â†’ Concurrent Mark â†’ Final Mark(STW) â†’ Concurrent Evacuation(å¹¶å‘è½¬ç§») â†’ Cleanup â†’ Concurrent Reset</p>
<ol>
<li><strong>Initial Mark</strong>ï¼šåˆå§‹æ ‡è®°ï¼Œæ ‡è®° GC Rootsï¼ˆSTWï¼Œæ—¶é—´å¾ˆçŸ­ï¼‰ã€‚</li>
<li><strong>Concurrent Mark</strong>ï¼šå¹¶å‘æ ‡è®°å¯¹è±¡å›¾ä¸­å¯è¾¾å¯¹è±¡ã€‚</li>
<li><strong>Final Mark</strong>ï¼šæœ€ç»ˆæ ‡è®°é˜¶æ®µï¼ˆSTWï¼‰ï¼Œè¡¥å……æ ‡è®°æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</li>
<li><strong>Concurrent Evacuationï¼ˆå¹¶å‘è½¬ç§»ï¼‰</strong>ï¼š</li>
</ol>
<p>è¿™æ˜¯ ShenandoahGC çš„ <strong>æ ¸å¿ƒåˆ›æ–°</strong>é˜¶æ®µã€‚</p>
<ul>
<li>å¤šä¸ªçº¿ç¨‹<strong>å¹¶å‘å¤åˆ¶å­˜æ´»å¯¹è±¡</strong>åˆ°æ–°çš„ Regionã€‚</li>
<li>æ¯ä¸ªå¯¹è±¡åªä¼šè¢«å¤åˆ¶ä¸€æ¬¡ï¼Œé€šè¿‡ CAS æ“ä½œç¡®ä¿å¹¶å‘å®‰å…¨ï¼ˆâ€œè°å…ˆå¤åˆ¶æˆåŠŸè°èµ¢â€ï¼‰ã€‚</li>
<li>å¦‚æœç”¨æˆ·çº¿ç¨‹è®¿é—®å¯¹è±¡ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°è½¬ç§»åçš„åœ°å€ã€‚</li>
<li><strong>Cleanup</strong>ï¼šæ ‡è®°å›æ”¶æ— æ•ˆçš„ Regionã€‚</li>
<li><strong>Reset</strong>ï¼šé‡ç½® GC çŠ¶æ€ï¼Œå‡†å¤‡ä¸‹ä¸€è½®å›æ”¶ã€‚</li>
</ul>
<h4 id="å¹¶å‘è½¬ç§»é˜¶æ®µ-â€“-å¹¶å‘é—®é¢˜">å¹¶å‘è½¬ç§»é˜¶æ®µ â€“ å¹¶å‘é—®é¢˜</h4>
<p>å¦‚æœç”¨æˆ·çº¿ç¨‹åœ¨å¸®å¿™è½¬ç§»æ—¶ï¼ŒShenandoahGCçº¿ç¨‹ä¹Ÿå‘ç°è¿™ä¸ªå¯¹è±¡éœ€è¦å¤åˆ¶ï¼Œé‚£ä¹ˆå°±ä¼šå»å°è¯•å†™å…¥å‰å‘æŒ‡é’ˆï¼Œä½¿ç”¨äº†ç±»ä¼¼CASçš„æ–¹å¼æ¥å®ç°ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æˆåŠŸä¿®æ”¹ï¼Œå…¶ä»–çº¿ç¨‹ä¼šæ”¾å¼ƒè½¬ç§»çš„æ“ä½œã€‚</p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1054.png" alt="img"></p>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1055.png" alt="img"></p>
<p>æ€»ç»“ï¼šShenandoahGC çš„å…³é”®ç‚¹</p>
<table>
<thead>
<tr>
<th>æ–¹é¢</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ç›®æ ‡</strong></td>
<td>ä½å»¶è¿Ÿã€æœ€å°STWæ—¶é—´</td>
</tr>
<tr>
<td><strong>ç»“æ„</strong></td>
<td>åŸºäº G1 çš„åŒºåŸŸåˆ’åˆ†</td>
</tr>
<tr>
<td><strong>ç‰ˆæœ¬æ¼”åŒ–</strong></td>
<td>1.0ï¼šç‹¬ç«‹å‰å‘æŒ‡é’ˆï¼Œå¼€é”€å¤§ï¼›2.0ï¼šåµŒå…¥ Mark Word</td>
</tr>
<tr>
<td><strong>è¯»/å†™å±éšœ</strong></td>
<td>æ”¯æŒå¹¶å‘è®¿é—®æ­£ç¡®å¯¹è±¡ï¼Œä¿éšœä¸€è‡´æ€§</td>
</tr>
<tr>
<td><strong>è½¬ç§»æœºåˆ¶</strong></td>
<td>å¹¶å‘ Evacuation + CAS ä¿è¯å”¯ä¸€æ€§</td>
</tr>
<tr>
<td><strong>å¯¹è±¡å¤åˆ¶ç­–ç•¥</strong></td>
<td>ä»æ—§ Region åˆ°æ–° Regionï¼Œæå‡å›æ”¶æ•ˆç‡</td>
</tr>
</tbody>
</table>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1056.png" alt="img"></p>
<h3 id="6-4æ€»ç»“">6.4æ€»ç»“</h3>
<p><img src="https://www.legendkiller.xyz/wp-content/uploads/2025/07/image-1057.png" alt="img"></p>
<h1 id="åŸç†ç¯‡å®Œç»“">åŸç†ç¯‡å®Œç»“</h1>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>JVMåŸç†ç¯‡</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://itgeqian.github.io/posts/25.html">https://itgeqian.github.io/posts/25.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>geqian's BlogğŸ­</h></div></div><div class="post-copyright-c"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2025-07-29</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2025-07-30</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JVM/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;top:2px;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg></div>JVM</a></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">æŠ•å–‚ä½œè€…</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://java-geqian.oss-cn-beijing.aliyuncs.com/%E5%BE%AE%E4%BF%A1PAY.jpg" target="_blank"><img class="post-qr-code-img" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/%E5%BE%AE%E4%BF%A1PAY.jpg" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://java-geqian.oss-cn-beijing.aliyuncs.com/%E6%94%AF%E4%BB%98%E5%AE%9DPAY.jpg" target="_blank"><img class="post-qr-code-img" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/%E6%94%AF%E4%BB%98%E5%AE%9DPAY.jpg" alt="æ”¯ä»˜å®"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/28.html"><img class="prev-cover" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/47.jpg" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">JUCå¹¶å‘ç¼–ç¨‹ä¸­ç¯‡</div></div></a></div><div class="next-post pull-right"><a href="/posts/26.html"><img class="next-cover" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/53.jpg" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">JVMé¢è¯•ç¯‡</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/posts/71.html" title="JVMé¢è¯•é¢˜"><img class="cover" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/21.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2025-10-20</div><div class="title">JVMé¢è¯•é¢˜</div></div></a></div><div><a href="/posts/8.html" title="JVMåŸºç¡€ç¯‡"><img class="cover" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/52.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2025-06-18</div><div class="title">JVMåŸºç¡€ç¯‡</div></div></a></div><div><a href="/posts/26.html" title="JVMé¢è¯•ç¯‡"><img class="cover" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/53.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2025-07-30</div><div class="title">JVMé¢è¯•ç¯‡</div></div></a></div><div><a href="/posts/24.html" title="JVMé«˜çº§ç¯‡"><img class="cover" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/51.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2025-07-28</div><div class="title">JVMé«˜çº§ç¯‡</div></div></a></div><div><a href="/posts/23.html" title="JVMå®æˆ˜ç¯‡"><img class="cover" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/49.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2025-07-25</div><div class="title">JVMå®æˆ˜ç¯‡</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8E%9F%E7%90%86%E7%AF%87"><span class="toc-text">åŸç†ç¯‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E6%A0%88%E4%B8%8A%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8"><span class="toc-text">1ã€æ ˆä¸Šçš„æ•°æ®å­˜å‚¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1boolean%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BF%9D%E5%AD%98%E6%96%B9%E5%BC%8F"><span class="toc-text">1.1booleanæ•°æ®ç±»å‹ä¿å­˜æ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E6%A0%88%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E8%A6%81%E4%BF%9D%E5%AD%98%E5%88%B0%E5%A0%86%E4%B8%8A%E6%88%96%E8%80%85%E4%BB%8E%E5%A0%86%E4%B8%AD%E5%8A%A0%E8%BD%BD%E5%88%B0%E6%A0%88%E4%B8%8A%E6%97%B6%E6%80%8E%E4%B9%88%E5%A4%84%E7%90%86%EF%BC%9F"><span class="toc-text">1.2æ ˆä¸­çš„æ•°æ®è¦ä¿å­˜åˆ°å †ä¸Šæˆ–è€…ä»å †ä¸­åŠ è½½åˆ°æ ˆä¸Šæ—¶æ€ä¹ˆå¤„ç†ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E9%AA%8C%E8%AF%81boolean%E4%BB%8E%E6%A0%88%E4%BF%9D%E5%AD%98%E5%88%B0%E5%A0%86%E4%B8%8A%E5%8F%AA%E5%8F%96%E6%9C%80%E5%90%8E%E4%B8%80%E4%BD%8D"><span class="toc-text">æ¡ˆä¾‹ï¼šéªŒè¯booleanä»æ ˆä¿å­˜åˆ°å †ä¸Šåªå–æœ€åä¸€ä½</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%A0%86%E4%B8%8A%E6%98%AF%E5%A6%82%E4%BD%95%E5%AD%98%E5%82%A8%E7%9A%84%EF%BC%9F"><span class="toc-text">2ã€å¯¹è±¡åœ¨å †ä¸Šæ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%A4%B4-%E6%A0%87%E8%AE%B0%E5%AD%97%E6%AE%B5"><span class="toc-text">å¯¹è±¡å¤´-æ ‡è®°å­—æ®µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%A4%B4-%E5%85%83%E6%95%B0%E6%8D%AE%E7%9A%84%E6%8C%87%E9%92%88"><span class="toc-text">å¯¹è±¡å¤´-å…ƒæ•°æ®çš„æŒ‡é’ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%8E%8B%E7%BC%A9"><span class="toc-text">æŒ‡é’ˆå‹ç¼©</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%9C%A8hsdb%E5%B7%A5%E5%85%B7%E4%B8%AD%E9%AA%8C%E8%AF%81klass-pointer%E6%AD%A3%E7%A1%AE%E6%80%A7"><span class="toc-text">æ¡ˆä¾‹ï¼šåœ¨hsdbå·¥å…·ä¸­éªŒè¯klass pointeræ­£ç¡®æ€§</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90"><span class="toc-text">å†…å­˜å¯¹é½</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%AD%90%E7%B1%BB%E5%92%8C%E7%88%B6%E7%B1%BB%E7%9A%84%E5%81%8F%E7%A7%BB%E9%87%8F"><span class="toc-text">æ¡ˆä¾‹ï¼šå­ç±»å’Œçˆ¶ç±»çš„åç§»é‡</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-text">æ€»ç»“ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%EF%BC%9A%E7%BC%93%E5%AD%98%E5%A4%B1%E6%95%88%EF%BC%88Cache-Line-Miss%EF%BC%89%E5%92%8C%E4%BC%AA%E5%85%B1%E4%BA%AB%EF%BC%88False-Sharing%EF%BC%89"><span class="toc-text">è¡¥å……ï¼šç¼“å­˜å¤±æ•ˆï¼ˆCache Line Missï¼‰å’Œä¼ªå…±äº«ï¼ˆFalse Sharingï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-text">3ã€æ–¹æ³•è°ƒç”¨çš„åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E4%B8%80-%E9%9D%99%E6%80%81%E7%BB%91%E5%AE%9A"><span class="toc-text">æ–¹æ¡ˆä¸€ é™æ€ç»‘å®š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E4%BA%8C%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A"><span class="toc-text">æ–¹æ¡ˆäºŒåŠ¨æ€ç»‘å®š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-text">4ã€å¼‚å¸¸æ•è·çš„åŸç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81JIT%E5%8D%B3%E6%97%B6%E7%BC%96%E8%AF%91%E5%99%A8"><span class="toc-text">5ã€JITå³æ—¶ç¼–è¯‘å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E6%B5%8B%E8%AF%95JIT%E5%8D%B3%E6%97%B6%E7%BC%96%E8%AF%91%E5%99%A8%E7%9A%84%E4%BC%98%E5%8C%96%E6%95%88%E6%9E%9C"><span class="toc-text">æ¡ˆä¾‹ï¼šæµ‹è¯•JITå³æ—¶ç¼–è¯‘å™¨çš„ä¼˜åŒ–æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JIT%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96%E6%89%8B%E6%AE%B5"><span class="toc-text">JITç¼–è¯‘å™¨ä¼˜åŒ–æ‰‹æ®µ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E5%86%85%E8%81%94"><span class="toc-text">-æ–¹æ³•å†…è”</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9AString%E7%9A%84toUpperCase%E6%96%B9%E6%B3%95%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-text">æ¡ˆä¾‹ï¼šStringçš„toUpperCaseæ–¹æ³•æ€§èƒ½ä¼˜åŒ–</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90"><span class="toc-text">-é€ƒé€¸åˆ†æ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%94%81%E6%B6%88%E9%99%A4"><span class="toc-text">é”æ¶ˆé™¤</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%87%E9%87%8F%E6%9B%BF%E6%8D%A2"><span class="toc-text">æ ‡é‡æ›¿æ¢</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E4%BD%BF%E7%94%A8JIT-Watch%E5%B7%A5%E5%85%B7%E6%9F%A5%E7%9C%8B%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90%E7%9A%84%E4%BC%98%E5%8C%96%E7%BB%93%E6%9E%9C%E9%9C%80%E6%B1%82%EF%BC%9A"><span class="toc-text">æ¡ˆä¾‹ï¼šä½¿ç”¨JIT Watchå·¥å…·æŸ¥çœ‹é€ƒé€¸åˆ†æçš„ä¼˜åŒ–ç»“æœéœ€æ±‚ï¼š</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8%E5%8E%9F%E7%90%86"><span class="toc-text">6ã€åƒåœ¾å›æ”¶å™¨åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-G1%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8%E5%8E%9F%E7%90%86"><span class="toc-text">6.1 G1åƒåœ¾å›æ”¶å™¨åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B4%E8%BD%BB%E4%BB%A3%E5%9B%9E%E6%94%B6"><span class="toc-text">å¹´è½»ä»£å›æ”¶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B%EF%BC%9A"><span class="toc-text">æ‰§è¡Œæµç¨‹ï¼š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#G1%E5%B9%B4%E8%BD%BB%E4%BB%A3%E5%9B%9E%E6%94%B6%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF"><span class="toc-text">G1å¹´è½»ä»£å›æ”¶æ ¸å¿ƒæŠ€æœ¯</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B7%E5%90%88%E5%9B%9E%E6%94%B6"><span class="toc-text">æ··åˆå›æ”¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B7%E5%90%88%E5%9B%9E%E6%94%B6%E7%9A%84%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="toc-text">æ··åˆå›æ”¶çš„æ­¥éª¤ï¼š</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E6%A0%87%E8%AE%B0"><span class="toc-text">åˆå§‹æ ‡è®°</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E6%A0%87%E8%AE%B0"><span class="toc-text">å¹¶å‘æ ‡è®°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-ZGC%E5%8E%9F%E7%90%86"><span class="toc-text">6.2 ZGCåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#G1%E8%BD%AC%E7%A7%BB%E6%97%B6%E9%9C%80%E8%A6%81%E5%81%9C%E9%A1%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8E%9F%E5%9B%A0"><span class="toc-text">G1è½¬ç§»æ—¶éœ€è¦åœé¡¿çš„ä¸»è¦åŸå› </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9D%80%E8%89%B2%E6%8C%87%E9%92%88%EF%BC%88Colored-Pointers%EF%BC%89"><span class="toc-text">ç€è‰²æŒ‡é’ˆï¼ˆColored Pointersï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E6%A0%87%E8%AE%B0%E9%98%B6%E6%AE%B5"><span class="toc-text">åˆå§‹æ ‡è®°é˜¶æ®µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E6%A0%87%E8%AE%B0%E9%98%B6%E6%AE%B5"><span class="toc-text">å¹¶å‘æ ‡è®°é˜¶æ®µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E5%A4%84%E7%90%86%E9%98%B6%E6%AE%B5"><span class="toc-text">å¹¶å‘å¤„ç†é˜¶æ®µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E7%A7%BB%E5%BC%80%E5%A7%8B%E9%98%B6%E6%AE%B5"><span class="toc-text">è½¬ç§»å¼€å§‹é˜¶æ®µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E8%BD%AC%E7%A7%BB%E9%98%B6%E6%AE%B5"><span class="toc-text">å¹¶å‘è½¬ç§»é˜¶æ®µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AC%A1%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9A%84%E5%88%9D%E5%A7%8B%E6%A0%87%E8%AE%B0%E9%98%B6%E6%AE%B5"><span class="toc-text">ç¬¬äºŒæ¬¡åƒåœ¾å›æ”¶çš„åˆå§‹æ ‡è®°é˜¶æ®µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98"><span class="toc-text">å¹¶å‘é—®é¢˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9AZGC-%E5%9B%9E%E6%94%B6%E8%BF%87%E7%A8%8B%E8%AF%A6%E8%A7%A3"><span class="toc-text">æ€»ç»“ï¼šZGC å›æ”¶è¿‡ç¨‹è¯¦è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E9%98%B6%E6%AE%B5%EF%BC%88%E8%BD%AC%E7%A7%BB-GC-Root-%E7%9B%B4%E6%8E%A5%E5%BC%95%E7%94%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%89"><span class="toc-text">- å¼€å§‹é˜¶æ®µï¼ˆè½¬ç§» GC Root ç›´æ¥å¼•ç”¨çš„å¯¹è±¡ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E9%98%B6%E6%AE%B5%EF%BC%88%E8%BD%AC%E7%A7%BB%E5%89%A9%E4%BD%99%E5%AF%B9%E8%B1%A1%EF%BC%89"><span class="toc-text">- å¹¶å‘é˜¶æ®µï¼ˆè½¬ç§»å‰©ä½™å¯¹è±¡ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E4%BB%A3ZGC%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-text">åˆ†ä»£ZGCçš„è®¾è®¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-ZGC%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%EF%BC%9A"><span class="toc-text">æ€»ç»“ - ZGCæ ¸å¿ƒæŠ€æœ¯ï¼š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-ShenandoahGC%E5%8E%9F%E7%90%86"><span class="toc-text">6.3 ShenandoahGCåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-0%E7%89%88%E6%9C%AC"><span class="toc-text">1.0ç‰ˆæœ¬</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-0%E7%89%88%E6%9C%AC"><span class="toc-text">2.0ç‰ˆæœ¬</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ShenandoahGC%E7%9A%84%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-text">ShenandoahGCçš„æ‰§è¡Œæµç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E8%BD%AC%E7%A7%BB%E9%98%B6%E6%AE%B5-%E2%80%93-%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98"><span class="toc-text">å¹¶å‘è½¬ç§»é˜¶æ®µ â€“ å¹¶å‘é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4%E6%80%BB%E7%BB%93"><span class="toc-text">6.4æ€»ç»“</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8E%9F%E7%90%86%E7%AF%87%E5%AE%8C%E7%BB%93"><span class="toc-text">åŸç†ç¯‡å®Œç»“</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">æ ¼è¨€ğŸ§¬</p><div class="bg-ad"><div>å†çœ‹çœ‹é‚£ä¸ªå…‰ç‚¹ï¼Œå®ƒå°±åœ¨è¿™é‡Œï¼Œè¿™æ˜¯å®¶å›­ï¼Œè¿™æ˜¯æˆ‘ä»¬ â€”â€” ä½ æ‰€çˆ±çš„æ¯ä¸€ä¸ªäººï¼Œä½ è®¤è¯†çš„ä¸€ä¸ªäººï¼Œä½ å¬è¯´è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œæ›¾ç»æœ‰è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œéƒ½åœ¨å®ƒä¸Šé¢åº¦è¿‡ä»–ä»¬çš„ä¸€ç”Ÿâœ¨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">ç‚¹å‡»å¼€å¯æ˜Ÿè¾°ä¹‹æ—…</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">çŒœä½ æƒ³çœ‹ğŸ’¡</p><ul class="ft-links"><li><a href="/comments/">ç•™ç‚¹ä»€ä¹ˆ</a><a href="/archives/">æ–‡ç« å½’æ¡£</a></li><li><a href="/categories/">æ–‡ç« åˆ†ç±»</a><a href="/tags/">æ–‡ç« æ ‡ç­¾</a></li><li><a href="/box/Gallery/">æˆ‘çš„ç”»å»Š</a><a href="/personal/bb/">æˆ‘çš„å” å¨</a></li><li><a href="/site/time/">å»ºè®¾è¿›ç¨‹</a><a href="/site/census/">ç½‘ç«™ç»Ÿè®¡</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">æ¨èå‹é“¾âŒ›</p><div class="ft-img-group"><div class="img-group-item"></div></div></div></div><div class="copyright"><span><b>&copy;2022-2025</b></span><span><b>&nbsp;&nbsp;By geqian's BlogğŸ­</b></span></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20230913" style="margin-inline:5px" title="æœ¬ç«™å·²åŠ å…¥èŒICPè±ªåå¥—é¤ï¼ŒèŒICPå¤‡20230913å·"><img src="https://u7imgblog.oss-cn-hangzhou.aliyuncs.com/blogbackground/20230913.svg" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="å³é”®æ¨¡å¼" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="åˆ†äº«é“¾æ¥" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="ç›´è¾¾åº•éƒ¨" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>å¤åˆ¶</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>ç™¾åº¦æœç´¢</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>ç²˜è´´</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>ç©ºé™è¯„è®º</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>å¤åˆ¶æœ¬æ–‡åœ°å€</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>ä¿å­˜å›¾ç‰‡</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>åœ¨æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶å›¾ç‰‡é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>æ˜¼å¤œåˆ‡æ¢</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>å…³äºåšå®¢</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>ç¾åŒ–è®¾ç½®</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>åˆ‡æ¢å…¨å±</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>æ‰“å°é¡µé¢</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: '',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: '',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/å­¦ä¹ ç¬”è®°/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¡ geqianã®å­¦ä¹ ç¬”è®° (10)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/æ‚é¡¹/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¼ geqianã®æ‚é¡¹ (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/é¡¹ç›®/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ‰ geqianã®é¡¹ç›®ç¬”è®° (6)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/AI/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¨ geqianã®AIå¤§æ¨¡å‹ (6)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/ç®—æ³•/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸŸ geqianã®ç®—æ³•å­¦ä¹ ç¬”è®° (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/é¢è¯•/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¥ geqianã®é¢è¯• (20)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/JUC/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸŒ geqianã®JUC (4)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/JVM/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸœ geqianã®JVM (5)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/äº‘åŸç”Ÿ/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ” geqianã®äº‘åŸç”Ÿç›¸å…³ (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/MQ/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ“± geqianã®æ¶ˆæ¯é˜Ÿåˆ— (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/å‰ç«¯/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ›ï¸ geqianã®å‰ç«¯å·¥ç¨‹ (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/mybatis-mybatis-plus/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¨ geqianã®mybatisç³»åˆ— (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/å¾®æœåŠ¡/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ—ºï¸ geqianã®SpringCloudç³»åˆ— (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/SSM/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ“– geqianã®SSM+SpringBootç³»åˆ— (7)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/ruoyi/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ“ geqianã®è‹¥ä¾æ¡†æ¶ (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/mysql/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">â“ geqianã®mysql (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://itgeqian.github.io/categories/Redis/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ’– geqianã®Redis (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://itgeqian.github.io/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">æŸ¥çœ‹æ›´å¤š...</a></div></div>';
    console.log('å·²æŒ‚è½½magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #e9e9e9;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/60.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/%E5%8F%A4%E9%A3%8E.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-09-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/60.html&quot;);" href="javascript:void(0);" alt="">é€Ÿé€šSpring AI Alibaba </a><div class="blog-slider__text">é€Ÿé€šSpring AI Alibaba å®Œç»“</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/60.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/37.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/27.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-04-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/37.html&quot;);" href="javascript:void(0);" alt="">GQ Videoå•æœåŠ¡ç‰ˆæœ¬è®°å½•</a><div class="blog-slider__text">GQ Videoå•æœåŠ¡ç‰ˆæœ¬è®°å½•ï¼ˆå®Œæ•´è®°å½•GQ Videoä»0åˆ°1çš„å…¨è®°å½•ï¼‰</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/37.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/74.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/35.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-09-06</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/74.html&quot;);" href="javascript:void(0);" alt="">Mysqlç›¸å…³é¢è¯•é¢˜</a><div class="blog-slider__text">æˆ‘å¯¹mysqlçš„ç›¸å…³ç†è§£</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/74.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/77.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/31.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-07</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/77.html&quot;);" href="javascript:void(0);" alt="">javase+é›†åˆç›¸å…³é¢è¯•é¢˜</a><div class="blog-slider__text">æˆ‘å¯¹javaåŸºç¡€å’Œé›†åˆç±»çš„ç›¸å…³ç†è§£</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/77.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/68.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://java-geqian.oss-cn-beijing.aliyuncs.com/geqian-Blos/22.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-01</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/68.html&quot;);" href="javascript:void(0);" alt="">JUCé¢è¯•é¢˜</a><div class="blog-slider__text">æˆ‘å¯¹JUCçš„ç†è§£</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/68.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper@1.0.12/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper@1.0.12/lib/swiper_init.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 320px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('å·²æŒ‚è½½gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/site/census/'|| '/site/census/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("/api?null",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'null')
    }
  </script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>